var pf=Object.defineProperty;var _f=(t,e,n)=>e in t?pf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pt=(t,e,n)=>_f(t,typeof e!="symbol"?e+"":e,n);import{E as Ef,h as gf,D as Va,c as Tf,g as Af,a as gr}from"./vendor-CXvc9dqj.js";const Ka=/["&'<>$\x80-\uFFFF]/g,Nf=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),bf=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function kO(t){let e="",n=0,r;for(;(r=Ka.exec(t))!==null;){const s=r.index,i=t.charCodeAt(s),a=Nf.get(i);a!==void 0?(e+=t.substring(n,s)+a,n=s+1):(e+=`${t.substring(n,s)}&#x${bf(t,s).toString(16)};`,n=Ka.lastIndex+=+((i&64512)===55296))}return e+t.substr(n)}function Bc(t,e){return function(r){let s,i=0,a="";for(;s=t.exec(r);)i!==s.index&&(a+=r.substring(i,s.index)),a+=e.get(s[0].charCodeAt(0)),i=s.index+1;return a+r.substring(i)}}const If=Bc(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Rf=Bc(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Sf=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),le="ï¿½";var h;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(h||(h={}));const Ue={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Uc(t){return t>=55296&&t<=57343}function vf(t){return t>=56320&&t<=57343}function Of(t,e){return(t-55296)*1024+9216+e}function Fc(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function jc(t){return t>=64976&&t<=65007||Sf.has(t)}var N;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(N||(N={}));const Cf=65536;class yf{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Cf,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:s,offset:i}=this,a=s+n,l=i+n;return{code:e,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:l,endOffset:l}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(vf(n))return this.pos++,this._addGap(),Of(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,h.EOF;return this._err(N.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.EOF;const r=this.html.charCodeAt(n);return r===h.CARRIAGE_RETURN?h.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.EOF;let e=this.html.charCodeAt(this.pos);return e===h.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,h.LINE_FEED):e===h.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Uc(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===h.LINE_FEED||e===h.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){Fc(e)?this._err(N.controlCharacterInInputStream):jc(e)&&this._err(N.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Z;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Z||(Z={}));function Hc(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}var L;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(L||(L={}));var Wt;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Wt||(Wt={}));var nt;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(nt||(nt={}));var g;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(g||(g={}));var o;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(o||(o={}));const Lf=new Map([[g.A,o.A],[g.ADDRESS,o.ADDRESS],[g.ANNOTATION_XML,o.ANNOTATION_XML],[g.APPLET,o.APPLET],[g.AREA,o.AREA],[g.ARTICLE,o.ARTICLE],[g.ASIDE,o.ASIDE],[g.B,o.B],[g.BASE,o.BASE],[g.BASEFONT,o.BASEFONT],[g.BGSOUND,o.BGSOUND],[g.BIG,o.BIG],[g.BLOCKQUOTE,o.BLOCKQUOTE],[g.BODY,o.BODY],[g.BR,o.BR],[g.BUTTON,o.BUTTON],[g.CAPTION,o.CAPTION],[g.CENTER,o.CENTER],[g.CODE,o.CODE],[g.COL,o.COL],[g.COLGROUP,o.COLGROUP],[g.DD,o.DD],[g.DESC,o.DESC],[g.DETAILS,o.DETAILS],[g.DIALOG,o.DIALOG],[g.DIR,o.DIR],[g.DIV,o.DIV],[g.DL,o.DL],[g.DT,o.DT],[g.EM,o.EM],[g.EMBED,o.EMBED],[g.FIELDSET,o.FIELDSET],[g.FIGCAPTION,o.FIGCAPTION],[g.FIGURE,o.FIGURE],[g.FONT,o.FONT],[g.FOOTER,o.FOOTER],[g.FOREIGN_OBJECT,o.FOREIGN_OBJECT],[g.FORM,o.FORM],[g.FRAME,o.FRAME],[g.FRAMESET,o.FRAMESET],[g.H1,o.H1],[g.H2,o.H2],[g.H3,o.H3],[g.H4,o.H4],[g.H5,o.H5],[g.H6,o.H6],[g.HEAD,o.HEAD],[g.HEADER,o.HEADER],[g.HGROUP,o.HGROUP],[g.HR,o.HR],[g.HTML,o.HTML],[g.I,o.I],[g.IMG,o.IMG],[g.IMAGE,o.IMAGE],[g.INPUT,o.INPUT],[g.IFRAME,o.IFRAME],[g.KEYGEN,o.KEYGEN],[g.LABEL,o.LABEL],[g.LI,o.LI],[g.LINK,o.LINK],[g.LISTING,o.LISTING],[g.MAIN,o.MAIN],[g.MALIGNMARK,o.MALIGNMARK],[g.MARQUEE,o.MARQUEE],[g.MATH,o.MATH],[g.MENU,o.MENU],[g.META,o.META],[g.MGLYPH,o.MGLYPH],[g.MI,o.MI],[g.MO,o.MO],[g.MN,o.MN],[g.MS,o.MS],[g.MTEXT,o.MTEXT],[g.NAV,o.NAV],[g.NOBR,o.NOBR],[g.NOFRAMES,o.NOFRAMES],[g.NOEMBED,o.NOEMBED],[g.NOSCRIPT,o.NOSCRIPT],[g.OBJECT,o.OBJECT],[g.OL,o.OL],[g.OPTGROUP,o.OPTGROUP],[g.OPTION,o.OPTION],[g.P,o.P],[g.PARAM,o.PARAM],[g.PLAINTEXT,o.PLAINTEXT],[g.PRE,o.PRE],[g.RB,o.RB],[g.RP,o.RP],[g.RT,o.RT],[g.RTC,o.RTC],[g.RUBY,o.RUBY],[g.S,o.S],[g.SCRIPT,o.SCRIPT],[g.SEARCH,o.SEARCH],[g.SECTION,o.SECTION],[g.SELECT,o.SELECT],[g.SOURCE,o.SOURCE],[g.SMALL,o.SMALL],[g.SPAN,o.SPAN],[g.STRIKE,o.STRIKE],[g.STRONG,o.STRONG],[g.STYLE,o.STYLE],[g.SUB,o.SUB],[g.SUMMARY,o.SUMMARY],[g.SUP,o.SUP],[g.TABLE,o.TABLE],[g.TBODY,o.TBODY],[g.TEMPLATE,o.TEMPLATE],[g.TEXTAREA,o.TEXTAREA],[g.TFOOT,o.TFOOT],[g.TD,o.TD],[g.TH,o.TH],[g.THEAD,o.THEAD],[g.TITLE,o.TITLE],[g.TR,o.TR],[g.TRACK,o.TRACK],[g.TT,o.TT],[g.U,o.U],[g.UL,o.UL],[g.SVG,o.SVG],[g.VAR,o.VAR],[g.WBR,o.WBR],[g.XMP,o.XMP]]);function cs(t){var e;return(e=Lf.get(t))!==null&&e!==void 0?e:o.UNKNOWN}const w=o,kf={[L.HTML]:new Set([w.ADDRESS,w.APPLET,w.AREA,w.ARTICLE,w.ASIDE,w.BASE,w.BASEFONT,w.BGSOUND,w.BLOCKQUOTE,w.BODY,w.BR,w.BUTTON,w.CAPTION,w.CENTER,w.COL,w.COLGROUP,w.DD,w.DETAILS,w.DIR,w.DIV,w.DL,w.DT,w.EMBED,w.FIELDSET,w.FIGCAPTION,w.FIGURE,w.FOOTER,w.FORM,w.FRAME,w.FRAMESET,w.H1,w.H2,w.H3,w.H4,w.H5,w.H6,w.HEAD,w.HEADER,w.HGROUP,w.HR,w.HTML,w.IFRAME,w.IMG,w.INPUT,w.LI,w.LINK,w.LISTING,w.MAIN,w.MARQUEE,w.MENU,w.META,w.NAV,w.NOEMBED,w.NOFRAMES,w.NOSCRIPT,w.OBJECT,w.OL,w.P,w.PARAM,w.PLAINTEXT,w.PRE,w.SCRIPT,w.SECTION,w.SELECT,w.SOURCE,w.STYLE,w.SUMMARY,w.TABLE,w.TBODY,w.TD,w.TEMPLATE,w.TEXTAREA,w.TFOOT,w.TH,w.THEAD,w.TITLE,w.TR,w.TRACK,w.UL,w.WBR,w.XMP]),[L.MATHML]:new Set([w.MI,w.MO,w.MN,w.MS,w.MTEXT,w.ANNOTATION_XML]),[L.SVG]:new Set([w.TITLE,w.FOREIGN_OBJECT,w.DESC]),[L.XLINK]:new Set,[L.XML]:new Set,[L.XMLNS]:new Set},ii=new Set([w.H1,w.H2,w.H3,w.H4,w.H5,w.H6]),Mf=new Set([g.STYLE,g.SCRIPT,g.XMP,g.IFRAME,g.NOEMBED,g.NOFRAMES,g.PLAINTEXT]);function Pf(t,e){return Mf.has(t)||e&&t===g.NOSCRIPT}var m;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(m||(m={}));const Fe={DATA:m.DATA,RCDATA:m.RCDATA,RAWTEXT:m.RAWTEXT,SCRIPT_DATA:m.SCRIPT_DATA,PLAINTEXT:m.PLAINTEXT,CDATA_SECTION:m.CDATA_SECTION};function Df(t){return t>=h.DIGIT_0&&t<=h.DIGIT_9}function Un(t){return t>=h.LATIN_CAPITAL_A&&t<=h.LATIN_CAPITAL_Z}function wf(t){return t>=h.LATIN_SMALL_A&&t<=h.LATIN_SMALL_Z}function Dt(t){return wf(t)||Un(t)}function za(t){return Dt(t)||Df(t)}function Tr(t){return t+32}function $c(t){return t===h.SPACE||t===h.LINE_FEED||t===h.TABULATION||t===h.FORM_FEED}function Xa(t){return $c(t)||t===h.SOLIDUS||t===h.GREATER_THAN_SIGN}function xf(t){return t===h.NULL?N.nullCharacterReference:t>1114111?N.characterReferenceOutsideUnicodeRange:Uc(t)?N.surrogateCharacterReference:jc(t)?N.noncharacterCharacterReference:Fc(t)||t===h.CARRIAGE_RETURN?N.controlCharacterReference:null}class Bf{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=m.DATA,this.returnState=m.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new yf(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Ef(gf,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(N.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(N.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=xf(r);s&&this._err(s,1)}}:void 0)}_err(e,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Z.START_TAG,tagName:"",tagID:o.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Z.END_TAG,tagName:"",tagID:o.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Z.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Z.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(Hc(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(N.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=cs(e.tagName),e.type===Z.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(N.endTagWithAttributes),e.selfClosing&&this._err(N.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Z.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Z.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Z.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Z.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=$c(e)?Z.WHITESPACE_CHARACTER:e===h.NULL?Z.NULL_CHARACTER:Z.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Z.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=m.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Va.Attribute:Va.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===m.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===m.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===m.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case m.DATA:{this._stateData(e);break}case m.RCDATA:{this._stateRcdata(e);break}case m.RAWTEXT:{this._stateRawtext(e);break}case m.SCRIPT_DATA:{this._stateScriptData(e);break}case m.PLAINTEXT:{this._statePlaintext(e);break}case m.TAG_OPEN:{this._stateTagOpen(e);break}case m.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case m.TAG_NAME:{this._stateTagName(e);break}case m.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case m.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case m.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case m.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case m.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case m.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case m.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case m.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case m.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case m.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case m.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case m.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case m.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case m.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case m.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case m.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case m.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case m.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case m.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case m.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case m.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case m.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case m.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case m.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case m.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case m.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case m.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case m.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case m.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case m.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case m.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case m.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case m.BOGUS_COMMENT:{this._stateBogusComment(e);break}case m.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case m.COMMENT_START:{this._stateCommentStart(e);break}case m.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case m.COMMENT:{this._stateComment(e);break}case m.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case m.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case m.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case m.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case m.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case m.COMMENT_END:{this._stateCommentEnd(e);break}case m.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case m.DOCTYPE:{this._stateDoctype(e);break}case m.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case m.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case m.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case m.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case m.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case m.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case m.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case m.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case m.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case m.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case m.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case m.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case m.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case m.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case m.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case m.CDATA_SECTION:{this._stateCdataSection(e);break}case m.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case m.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case m.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case m.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case h.LESS_THAN_SIGN:{this.state=m.TAG_OPEN;break}case h.AMPERSAND:{this._startCharacterReference();break}case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitCodePoint(e);break}case h.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case h.AMPERSAND:{this._startCharacterReference();break}case h.LESS_THAN_SIGN:{this.state=m.RCDATA_LESS_THAN_SIGN;break}case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitChars(le);break}case h.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case h.LESS_THAN_SIGN:{this.state=m.RAWTEXT_LESS_THAN_SIGN;break}case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitChars(le);break}case h.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_LESS_THAN_SIGN;break}case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitChars(le);break}case h.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitChars(le);break}case h.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Dt(e))this._createStartTagToken(),this.state=m.TAG_NAME,this._stateTagName(e);else switch(e){case h.EXCLAMATION_MARK:{this.state=m.MARKUP_DECLARATION_OPEN;break}case h.SOLIDUS:{this.state=m.END_TAG_OPEN;break}case h.QUESTION_MARK:{this._err(N.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=m.BOGUS_COMMENT,this._stateBogusComment(e);break}case h.EOF:{this._err(N.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(N.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=m.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Dt(e))this._createEndTagToken(),this.state=m.TAG_NAME,this._stateTagName(e);else switch(e){case h.GREATER_THAN_SIGN:{this._err(N.missingEndTagName),this.state=m.DATA;break}case h.EOF:{this._err(N.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(N.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=m.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this.state=m.BEFORE_ATTRIBUTE_NAME;break}case h.SOLIDUS:{this.state=m.SELF_CLOSING_START_TAG;break}case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentTagToken();break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.tagName+=le;break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Un(e)?Tr(e):e)}}_stateRcdataLessThanSign(e){e===h.SOLIDUS?this.state=m.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=m.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Dt(e)?(this.state=m.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=m.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=m.BEFORE_ATTRIBUTE_NAME,!1;case h.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=m.SELF_CLOSING_START_TAG,!1;case h.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=m.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=m.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===h.SOLIDUS?this.state=m.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=m.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Dt(e)?(this.state=m.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=m.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=m.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case h.SOLIDUS:{this.state=m.SCRIPT_DATA_END_TAG_OPEN;break}case h.EXCLAMATION_MARK:{this.state=m.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=m.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Dt(e)?(this.state=m.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=m.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=m.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===h.HYPHEN_MINUS?(this.state=m.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=m.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===h.HYPHEN_MINUS?(this.state=m.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=m.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case h.HYPHEN_MINUS:{this.state=m.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitChars(le);break}case h.EOF:{this._err(N.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case h.HYPHEN_MINUS:{this.state=m.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.state=m.SCRIPT_DATA_ESCAPED,this._emitChars(le);break}case h.EOF:{this._err(N.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=m.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case h.HYPHEN_MINUS:{this._emitChars("-");break}case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case h.GREATER_THAN_SIGN:{this.state=m.SCRIPT_DATA,this._emitChars(">");break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.state=m.SCRIPT_DATA_ESCAPED,this._emitChars(le);break}case h.EOF:{this._err(N.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=m.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===h.SOLIDUS?this.state=m.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Dt(e)?(this._emitChars("<"),this.state=m.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=m.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Dt(e)?(this.state=m.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=m.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=m.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Ue.SCRIPT,!1)&&Xa(this.preprocessor.peek(Ue.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Ue.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=m.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case h.HYPHEN_MINUS:{this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case h.NULL:{this._err(N.unexpectedNullCharacter),this._emitChars(le);break}case h.EOF:{this._err(N.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case h.HYPHEN_MINUS:{this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(le);break}case h.EOF:{this._err(N.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case h.HYPHEN_MINUS:{this._emitChars("-");break}case h.LESS_THAN_SIGN:{this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case h.GREATER_THAN_SIGN:{this.state=m.SCRIPT_DATA,this._emitChars(">");break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(le);break}case h.EOF:{this._err(N.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===h.SOLIDUS?(this.state=m.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Ue.SCRIPT,!1)&&Xa(this.preprocessor.peek(Ue.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Ue.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=m.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=m.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.SOLIDUS:case h.GREATER_THAN_SIGN:case h.EOF:{this.state=m.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case h.EQUALS_SIGN:{this._err(N.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=m.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=m.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:case h.SOLIDUS:case h.GREATER_THAN_SIGN:case h.EOF:{this._leaveAttrName(),this.state=m.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case h.EQUALS_SIGN:{this._leaveAttrName(),this.state=m.BEFORE_ATTRIBUTE_VALUE;break}case h.QUOTATION_MARK:case h.APOSTROPHE:case h.LESS_THAN_SIGN:{this._err(N.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.currentAttr.name+=le;break}default:this.currentAttr.name+=String.fromCodePoint(Un(e)?Tr(e):e)}}_stateAfterAttributeName(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.SOLIDUS:{this.state=m.SELF_CLOSING_START_TAG;break}case h.EQUALS_SIGN:{this.state=m.BEFORE_ATTRIBUTE_VALUE;break}case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentTagToken();break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=m.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.QUOTATION_MARK:{this.state=m.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case h.APOSTROPHE:{this.state=m.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case h.GREATER_THAN_SIGN:{this._err(N.missingAttributeValue),this.state=m.DATA,this.emitCurrentTagToken();break}default:this.state=m.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case h.QUOTATION_MARK:{this.state=m.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case h.AMPERSAND:{this._startCharacterReference();break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.currentAttr.value+=le;break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case h.APOSTROPHE:{this.state=m.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case h.AMPERSAND:{this._startCharacterReference();break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.currentAttr.value+=le;break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this._leaveAttrValue(),this.state=m.BEFORE_ATTRIBUTE_NAME;break}case h.AMPERSAND:{this._startCharacterReference();break}case h.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=m.DATA,this.emitCurrentTagToken();break}case h.NULL:{this._err(N.unexpectedNullCharacter),this.currentAttr.value+=le;break}case h.QUOTATION_MARK:case h.APOSTROPHE:case h.LESS_THAN_SIGN:case h.EQUALS_SIGN:case h.GRAVE_ACCENT:{this._err(N.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this._leaveAttrValue(),this.state=m.BEFORE_ATTRIBUTE_NAME;break}case h.SOLIDUS:{this._leaveAttrValue(),this.state=m.SELF_CLOSING_START_TAG;break}case h.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=m.DATA,this.emitCurrentTagToken();break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:this._err(N.missingWhitespaceBetweenAttributes),this.state=m.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case h.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=m.DATA,this.emitCurrentTagToken();break}case h.EOF:{this._err(N.eofInTag),this._emitEOFToken();break}default:this._err(N.unexpectedSolidusInTag),this.state=m.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentComment(n);break}case h.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.data+=le;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Ue.DASH_DASH,!0)?(this._createCommentToken(Ue.DASH_DASH.length+1),this.state=m.COMMENT_START):this._consumeSequenceIfMatch(Ue.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ue.DOCTYPE.length+1),this.state=m.DOCTYPE):this._consumeSequenceIfMatch(Ue.CDATA_START,!0)?this.inForeignNode?this.state=m.CDATA_SECTION:(this._err(N.cdataInHtmlContent),this._createCommentToken(Ue.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=m.BOGUS_COMMENT):this._ensureHibernation()||(this._err(N.incorrectlyOpenedComment),this._createCommentToken(2),this.state=m.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case h.HYPHEN_MINUS:{this.state=m.COMMENT_START_DASH;break}case h.GREATER_THAN_SIGN:{this._err(N.abruptClosingOfEmptyComment),this.state=m.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=m.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case h.HYPHEN_MINUS:{this.state=m.COMMENT_END;break}case h.GREATER_THAN_SIGN:{this._err(N.abruptClosingOfEmptyComment),this.state=m.DATA,this.emitCurrentComment(n);break}case h.EOF:{this._err(N.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=m.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case h.HYPHEN_MINUS:{this.state=m.COMMENT_END_DASH;break}case h.LESS_THAN_SIGN:{n.data+="<",this.state=m.COMMENT_LESS_THAN_SIGN;break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.data+=le;break}case h.EOF:{this._err(N.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case h.EXCLAMATION_MARK:{n.data+="!",this.state=m.COMMENT_LESS_THAN_SIGN_BANG;break}case h.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=m.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===h.HYPHEN_MINUS?this.state=m.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=m.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===h.HYPHEN_MINUS?this.state=m.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=m.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==h.GREATER_THAN_SIGN&&e!==h.EOF&&this._err(N.nestedComment),this.state=m.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case h.HYPHEN_MINUS:{this.state=m.COMMENT_END;break}case h.EOF:{this._err(N.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=m.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentComment(n);break}case h.EXCLAMATION_MARK:{this.state=m.COMMENT_END_BANG;break}case h.HYPHEN_MINUS:{n.data+="-";break}case h.EOF:{this._err(N.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=m.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case h.HYPHEN_MINUS:{n.data+="--!",this.state=m.COMMENT_END_DASH;break}case h.GREATER_THAN_SIGN:{this._err(N.incorrectlyClosedComment),this.state=m.DATA,this.emitCurrentComment(n);break}case h.EOF:{this._err(N.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=m.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this.state=m.BEFORE_DOCTYPE_NAME;break}case h.GREATER_THAN_SIGN:{this.state=m.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case h.EOF:{this._err(N.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingWhitespaceBeforeDoctypeName),this.state=m.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Un(e))this._createDoctypeToken(String.fromCharCode(Tr(e))),this.state=m.DOCTYPE_NAME;else switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.NULL:{this._err(N.unexpectedNullCharacter),this._createDoctypeToken(le),this.state=m.DOCTYPE_NAME;break}case h.GREATER_THAN_SIGN:{this._err(N.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.EOF:{this._err(N.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=m.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this.state=m.AFTER_DOCTYPE_NAME;break}case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.name+=le;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Un(e)?Tr(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ue.PUBLIC,!1)?this.state=m.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ue.SYSTEM,!1)?this.state=m.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(N.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this.state=m.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case h.QUOTATION_MARK:{this._err(N.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=m.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case h.APOSTROPHE:{this._err(N.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=m.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case h.GREATER_THAN_SIGN:{this._err(N.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.QUOTATION_MARK:{n.publicId="",this.state=m.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case h.APOSTROPHE:{n.publicId="",this.state=m.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case h.GREATER_THAN_SIGN:{this._err(N.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case h.QUOTATION_MARK:{this.state=m.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.publicId+=le;break}case h.GREATER_THAN_SIGN:{this._err(N.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case h.APOSTROPHE:{this.state=m.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.publicId+=le;break}case h.GREATER_THAN_SIGN:{this._err(N.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this.state=m.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case h.GREATER_THAN_SIGN:{this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.QUOTATION_MARK:{this._err(N.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case h.APOSTROPHE:{this._err(N.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.QUOTATION_MARK:{n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case h.APOSTROPHE:{n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:{this.state=m.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case h.QUOTATION_MARK:{this._err(N.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case h.APOSTROPHE:{this._err(N.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case h.GREATER_THAN_SIGN:{this._err(N.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.QUOTATION_MARK:{n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case h.APOSTROPHE:{n.systemId="",this.state=m.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case h.GREATER_THAN_SIGN:{this._err(N.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=m.DATA,this.emitCurrentDoctype(n);break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case h.QUOTATION_MARK:{this.state=m.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.systemId+=le;break}case h.GREATER_THAN_SIGN:{this._err(N.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case h.APOSTROPHE:{this.state=m.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case h.NULL:{this._err(N.unexpectedNullCharacter),n.systemId+=le;break}case h.GREATER_THAN_SIGN:{this._err(N.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case h.SPACE:case h.LINE_FEED:case h.TABULATION:case h.FORM_FEED:break;case h.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.EOF:{this._err(N.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(N.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=m.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case h.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=m.DATA;break}case h.NULL:{this._err(N.unexpectedNullCharacter);break}case h.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case h.RIGHT_SQUARE_BRACKET:{this.state=m.CDATA_SECTION_BRACKET;break}case h.EOF:{this._err(N.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===h.RIGHT_SQUARE_BRACKET?this.state=m.CDATA_SECTION_END:(this._emitChars("]"),this.state=m.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case h.GREATER_THAN_SIGN:{this.state=m.DATA;break}case h.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=m.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(h.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&za(this.preprocessor.peek(1))?m.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){za(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===h.SEMICOLON&&this._err(N.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const Gc=new Set([o.DD,o.DT,o.LI,o.OPTGROUP,o.OPTION,o.P,o.RB,o.RP,o.RT,o.RTC]),Qa=new Set([...Gc,o.CAPTION,o.COLGROUP,o.TBODY,o.TD,o.TFOOT,o.TH,o.THEAD,o.TR]),Pr=new Set([o.APPLET,o.CAPTION,o.HTML,o.MARQUEE,o.OBJECT,o.TABLE,o.TD,o.TEMPLATE,o.TH]),Uf=new Set([...Pr,o.OL,o.UL]),Ff=new Set([...Pr,o.BUTTON]),qa=new Set([o.ANNOTATION_XML,o.MI,o.MN,o.MO,o.MS,o.MTEXT]),Ja=new Set([o.DESC,o.FOREIGN_OBJECT,o.TITLE]),jf=new Set([o.TR,o.TEMPLATE,o.HTML]),Hf=new Set([o.TBODY,o.TFOOT,o.THEAD,o.TEMPLATE,o.HTML]),$f=new Set([o.TABLE,o.TEMPLATE,o.HTML]),Gf=new Set([o.TD,o.TH]);class Yf{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=o.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===o.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===L.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const s=this._indexOf(e)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==L.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(n<0?0:n)}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ii,L.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Gf,L.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo($f,L.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Hf,L.HTML)}clearBackToTableRowContext(){this.clearBackTo(jf,L.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===o.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===o.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case L.HTML:{if(s===e)return!0;if(n.has(s))return!1;break}case L.SVG:{if(Ja.has(s))return!1;break}case L.MATHML:{if(qa.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Pr)}hasInListItemScope(e){return this.hasInDynamicScope(e,Uf)}hasInButtonScope(e){return this.hasInDynamicScope(e,Ff)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case L.HTML:{if(ii.has(n))return!0;if(Pr.has(n))return!1;break}case L.SVG:{if(Ja.has(n))return!1;break}case L.MATHML:{if(qa.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===L.HTML)switch(this.tagIDs[n]){case e:return!0;case o.TABLE:case o.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===L.HTML)switch(this.tagIDs[e]){case o.TBODY:case o.THEAD:case o.TFOOT:return!0;case o.TABLE:case o.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===L.HTML)switch(this.tagIDs[n]){case e:return!0;case o.OPTION:case o.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Gc.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Qa.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Qa.has(this.currentTagId);)this.pop()}}const Fs=3;var mt;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(mt||(mt={}));const Za={type:mt.Marker};class Wf{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===mt.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===a){const d=this.treeAdapter.getAttrList(u);d.length===s&&r.push({idx:l,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Fs)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Fs)return;const s=new Map(n.map(a=>[a.name,a.value]));let i=0;for(let a=0;a<r.length;a++){const l=r[a];l.attrs.every(c=>s.get(c.name)===c.value)&&(i+=1,i>=Fs&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(Za)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:mt.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:mt.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(Za);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===mt.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===mt.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===mt.Element&&n.element===e)}}const bt={createDocument(){return{nodeName:"#document",mode:nt.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const s=t.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=e,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};bt.appendChild(t,i)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(bt.isTextNode(n)){n.value+=e;return}}bt.appendChild(t,bt.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&bt.isTextNode(r)?r.value+=e:bt.insertBefore(t,bt.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Yc="html",Vf="about:legacy-compat",Kf="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Wc=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],zf=[...Wc,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Xf=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Vc=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Qf=[...Vc,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function eo(t,e){return e.some(n=>t.startsWith(n))}function qf(t){return t.name===Yc&&t.publicId===null&&(t.systemId===null||t.systemId===Vf)}function Jf(t){if(t.name!==Yc)return nt.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Kf)return nt.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Xf.has(n))return nt.QUIRKS;let r=e===null?zf:Wc;if(eo(n,r))return nt.QUIRKS;if(r=e===null?Vc:Qf,eo(n,r))return nt.LIMITED_QUIRKS}return nt.NO_QUIRKS}const to={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Zf="definitionurl",em="definitionURL",tm=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),nm=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:L.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:L.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:L.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:L.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:L.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:L.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:L.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:L.XML}],["xml:space",{prefix:"xml",name:"space",namespace:L.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:L.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:L.XMLNS}]]),rm=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),sm=new Set([o.B,o.BIG,o.BLOCKQUOTE,o.BODY,o.BR,o.CENTER,o.CODE,o.DD,o.DIV,o.DL,o.DT,o.EM,o.EMBED,o.H1,o.H2,o.H3,o.H4,o.H5,o.H6,o.HEAD,o.HR,o.I,o.IMG,o.LI,o.LISTING,o.MENU,o.META,o.NOBR,o.OL,o.P,o.PRE,o.RUBY,o.S,o.SMALL,o.SPAN,o.STRONG,o.STRIKE,o.SUB,o.SUP,o.TABLE,o.TT,o.U,o.UL,o.VAR]);function im(t){const e=t.tagID;return e===o.FONT&&t.attrs.some(({name:r})=>r===Wt.COLOR||r===Wt.SIZE||r===Wt.FACE)||sm.has(e)}function Kc(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Zf){t.attrs[e].name=em;break}}function zc(t){for(let e=0;e<t.attrs.length;e++){const n=tm.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function qi(t){for(let e=0;e<t.attrs.length;e++){const n=nm.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function am(t){const e=rm.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=cs(t.tagName))}function om(t,e){return e===L.MATHML&&(t===o.MI||t===o.MO||t===o.MN||t===o.MS||t===o.MTEXT)}function lm(t,e,n){if(e===L.MATHML&&t===o.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Wt.ENCODING){const s=n[r].value.toLowerCase();return s===to.TEXT_HTML||s===to.APPLICATION_XML}}return e===L.SVG&&(t===o.FOREIGN_OBJECT||t===o.DESC||t===o.TITLE)}function cm(t,e,n,r){return(!r||r===L.HTML)&&lm(t,e,n)||(!r||r===L.MATHML)&&om(t,e)}const um="hidden",dm=8,hm=3;var _;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(_||(_={}));const fm={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Xc=new Set([o.TABLE,o.TBODY,o.TFOOT,o.THEAD,o.TR]),no={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:bt,onParseError:null};let Qc=class{constructor(e,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=_.INITIAL,this.originalInsertionMode=_.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...no,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Bf(this.options,this),this.activeFormattingElements=new Wf(this.treeAdapter),this.fragmentContextID=r?cs(this.treeAdapter.getTagName(r)):o.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Yf(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...no,...n};e??(e=r.treeAdapter.createElement(g.TEMPLATE,L.HTML,[]));const s=r.treeAdapter.createElement("documentmock",L.HTML,[]),i=new this(r,s,e);return i.fragmentContextID===o.TEMPLATE&&i.tmplInsertionModeStack.unshift(_.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var s;if(!this.onParseError)return;const i=(s=e.location)!==null&&s!==void 0?s:fm,a={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(e,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,e,this.openElements.current),n){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(e,n){const r=e===this.document||this.treeAdapter.getNamespaceURI(e)===L.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,L.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=_.TEXT}switchToPlaintextParsing(){this.insertionMode=_.TEXT,this.originalInsertionMode=_.IN_BODY,this.tokenizer.state=Fe.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===g.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==L.HTML))switch(this.fragmentContextID){case o.TITLE:case o.TEXTAREA:{this.tokenizer.state=Fe.RCDATA;break}case o.STYLE:case o.XMP:case o.IFRAME:case o.NOEMBED:case o.NOFRAMES:case o.NOSCRIPT:{this.tokenizer.state=Fe.RAWTEXT;break}case o.SCRIPT:{this.tokenizer.state=Fe.SCRIPT_DATA;break}case o.PLAINTEXT:{this.tokenizer.state=Fe.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,L.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,L.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(g.HTML,L.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,o.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:c,endCol:u,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(e),i=n.type===Z.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===o.SVG&&this.treeAdapter.getTagName(n)===g.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===L.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===o.MGLYPH||e.tagID===o.MALIGNMARK)&&!this._isIntegrationPoint(r,n,L.HTML)}_processToken(e){switch(e.type){case Z.CHARACTER:{this.onCharacter(e);break}case Z.NULL_CHARACTER:{this.onNullCharacter(e);break}case Z.COMMENT:{this.onComment(e);break}case Z.DOCTYPE:{this.onDoctype(e);break}case Z.START_TAG:{this._processStartTag(e);break}case Z.END_TAG:{this.onEndTag(e);break}case Z.EOF:{this.onEof(e);break}case Z.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return cm(e,s,i,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===mt.Marker||this.openElements.contains(s.element)),r=n<0?e-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=_.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(o.P),this.openElements.popUntilTagNamePopped(o.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case o.TR:{this.insertionMode=_.IN_ROW;return}case o.TBODY:case o.THEAD:case o.TFOOT:{this.insertionMode=_.IN_TABLE_BODY;return}case o.CAPTION:{this.insertionMode=_.IN_CAPTION;return}case o.COLGROUP:{this.insertionMode=_.IN_COLUMN_GROUP;return}case o.TABLE:{this.insertionMode=_.IN_TABLE;return}case o.BODY:{this.insertionMode=_.IN_BODY;return}case o.FRAMESET:{this.insertionMode=_.IN_FRAMESET;return}case o.SELECT:{this._resetInsertionModeForSelect(e);return}case o.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case o.HTML:{this.insertionMode=this.headElement?_.AFTER_HEAD:_.BEFORE_HEAD;return}case o.TD:case o.TH:{if(e>0){this.insertionMode=_.IN_CELL;return}break}case o.HEAD:{if(e>0){this.insertionMode=_.IN_HEAD;return}break}}this.insertionMode=_.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===o.TEMPLATE)break;if(r===o.TABLE){this.insertionMode=_.IN_SELECT_IN_TABLE;return}}this.insertionMode=_.IN_SELECT}_isElementCausesFosterParenting(e){return Xc.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case o.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===L.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case o.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return kf[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Gp(this,e);return}switch(this.insertionMode){case _.INITIAL:{Mn(this,e);break}case _.BEFORE_HTML:{$n(this,e);break}case _.BEFORE_HEAD:{Gn(this,e);break}case _.IN_HEAD:{Yn(this,e);break}case _.IN_HEAD_NO_SCRIPT:{Wn(this,e);break}case _.AFTER_HEAD:{Vn(this,e);break}case _.IN_BODY:case _.IN_CAPTION:case _.IN_CELL:case _.IN_TEMPLATE:{Jc(this,e);break}case _.TEXT:case _.IN_SELECT:case _.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case _.IN_TABLE:case _.IN_TABLE_BODY:case _.IN_ROW:{js(this,e);break}case _.IN_TABLE_TEXT:{su(this,e);break}case _.IN_COLUMN_GROUP:{Dr(this,e);break}case _.AFTER_BODY:{wr(this,e);break}case _.AFTER_AFTER_BODY:{Sr(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){$p(this,e);return}switch(this.insertionMode){case _.INITIAL:{Mn(this,e);break}case _.BEFORE_HTML:{$n(this,e);break}case _.BEFORE_HEAD:{Gn(this,e);break}case _.IN_HEAD:{Yn(this,e);break}case _.IN_HEAD_NO_SCRIPT:{Wn(this,e);break}case _.AFTER_HEAD:{Vn(this,e);break}case _.TEXT:{this._insertCharacters(e);break}case _.IN_TABLE:case _.IN_TABLE_BODY:case _.IN_ROW:{js(this,e);break}case _.IN_COLUMN_GROUP:{Dr(this,e);break}case _.AFTER_BODY:{wr(this,e);break}case _.AFTER_AFTER_BODY:{Sr(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){ai(this,e);return}switch(this.insertionMode){case _.INITIAL:case _.BEFORE_HTML:case _.BEFORE_HEAD:case _.IN_HEAD:case _.IN_HEAD_NO_SCRIPT:case _.AFTER_HEAD:case _.IN_BODY:case _.IN_TABLE:case _.IN_CAPTION:case _.IN_COLUMN_GROUP:case _.IN_TABLE_BODY:case _.IN_ROW:case _.IN_CELL:case _.IN_SELECT:case _.IN_SELECT_IN_TABLE:case _.IN_TEMPLATE:case _.IN_FRAMESET:case _.AFTER_FRAMESET:{ai(this,e);break}case _.IN_TABLE_TEXT:{Pn(this,e);break}case _.AFTER_BODY:{Am(this,e);break}case _.AFTER_AFTER_BODY:case _.AFTER_AFTER_FRAMESET:{Nm(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case _.INITIAL:{bm(this,e);break}case _.BEFORE_HEAD:case _.IN_HEAD:case _.IN_HEAD_NO_SCRIPT:case _.AFTER_HEAD:{this._err(e,N.misplacedDoctype);break}case _.IN_TABLE_TEXT:{Pn(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,N.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?Yp(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case _.INITIAL:{Mn(this,e);break}case _.BEFORE_HTML:{Im(this,e);break}case _.BEFORE_HEAD:{Sm(this,e);break}case _.IN_HEAD:{ht(this,e);break}case _.IN_HEAD_NO_SCRIPT:{Cm(this,e);break}case _.AFTER_HEAD:{Lm(this,e);break}case _.IN_BODY:{ke(this,e);break}case _.IN_TABLE:{fn(this,e);break}case _.IN_TABLE_TEXT:{Pn(this,e);break}case _.IN_CAPTION:{vp(this,e);break}case _.IN_COLUMN_GROUP:{ea(this,e);break}case _.IN_TABLE_BODY:{hs(this,e);break}case _.IN_ROW:{fs(this,e);break}case _.IN_CELL:{yp(this,e);break}case _.IN_SELECT:{ou(this,e);break}case _.IN_SELECT_IN_TABLE:{kp(this,e);break}case _.IN_TEMPLATE:{Pp(this,e);break}case _.AFTER_BODY:{wp(this,e);break}case _.IN_FRAMESET:{xp(this,e);break}case _.AFTER_FRAMESET:{Up(this,e);break}case _.AFTER_AFTER_BODY:{jp(this,e);break}case _.AFTER_AFTER_FRAMESET:{Hp(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Wp(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case _.INITIAL:{Mn(this,e);break}case _.BEFORE_HTML:{Rm(this,e);break}case _.BEFORE_HEAD:{vm(this,e);break}case _.IN_HEAD:{Om(this,e);break}case _.IN_HEAD_NO_SCRIPT:{ym(this,e);break}case _.AFTER_HEAD:{km(this,e);break}case _.IN_BODY:{ds(this,e);break}case _.TEXT:{_p(this,e);break}case _.IN_TABLE:{Xn(this,e);break}case _.IN_TABLE_TEXT:{Pn(this,e);break}case _.IN_CAPTION:{Op(this,e);break}case _.IN_COLUMN_GROUP:{Cp(this,e);break}case _.IN_TABLE_BODY:{oi(this,e);break}case _.IN_ROW:{au(this,e);break}case _.IN_CELL:{Lp(this,e);break}case _.IN_SELECT:{lu(this,e);break}case _.IN_SELECT_IN_TABLE:{Mp(this,e);break}case _.IN_TEMPLATE:{Dp(this,e);break}case _.AFTER_BODY:{uu(this,e);break}case _.IN_FRAMESET:{Bp(this,e);break}case _.AFTER_FRAMESET:{Fp(this,e);break}case _.AFTER_AFTER_BODY:{Sr(this,e);break}}}onEof(e){switch(this.insertionMode){case _.INITIAL:{Mn(this,e);break}case _.BEFORE_HTML:{$n(this,e);break}case _.BEFORE_HEAD:{Gn(this,e);break}case _.IN_HEAD:{Yn(this,e);break}case _.IN_HEAD_NO_SCRIPT:{Wn(this,e);break}case _.AFTER_HEAD:{Vn(this,e);break}case _.IN_BODY:case _.IN_TABLE:case _.IN_CAPTION:case _.IN_COLUMN_GROUP:case _.IN_TABLE_BODY:case _.IN_ROW:case _.IN_CELL:case _.IN_SELECT:case _.IN_SELECT_IN_TABLE:{nu(this,e);break}case _.TEXT:{Ep(this,e);break}case _.IN_TABLE_TEXT:{Pn(this,e);break}case _.IN_TEMPLATE:{cu(this,e);break}case _.AFTER_BODY:case _.IN_FRAMESET:case _.AFTER_FRAMESET:case _.AFTER_AFTER_BODY:case _.AFTER_AFTER_FRAMESET:{Zi(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===h.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case _.IN_HEAD:case _.IN_HEAD_NO_SCRIPT:case _.AFTER_HEAD:case _.TEXT:case _.IN_COLUMN_GROUP:case _.IN_SELECT:case _.IN_SELECT_IN_TABLE:case _.IN_FRAMESET:case _.AFTER_FRAMESET:{this._insertCharacters(e);break}case _.IN_BODY:case _.IN_CAPTION:case _.IN_CELL:case _.IN_TEMPLATE:case _.AFTER_BODY:case _.AFTER_AFTER_BODY:case _.AFTER_AFTER_FRAMESET:{qc(this,e);break}case _.IN_TABLE:case _.IN_TABLE_BODY:case _.IN_ROW:{js(this,e);break}case _.IN_TABLE_TEXT:{ru(this,e);break}}}};function mm(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):tu(t,e),n}function pm(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const s=t.openElements.items[r];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[r])&&(n=s)}return n||(t.openElements.shortenToLength(r<0?0:r),t.activeFormattingElements.removeEntry(e)),n}function _m(t,e,n){let r=e,s=t.openElements.getCommonAncestor(e);for(let i=0,a=s;a!==n;i++,a=s){s=t.openElements.getCommonAncestor(a);const l=t.activeFormattingElements.getElementEntry(a),c=l&&i>=hm;!l||c?(c&&t.activeFormattingElements.removeEntry(l),t.openElements.remove(a)):(a=Em(t,l),r===e&&(t.activeFormattingElements.bookmark=l),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(a,r),r=a)}return r}function Em(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function gm(t,e,n){const r=t.treeAdapter.getTagName(e),s=cs(r);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(n);else{const i=t.treeAdapter.getNamespaceURI(e);s===o.TEMPLATE&&i===L.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function Tm(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=t.treeAdapter.createElement(s.tagName,r,s.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,s),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,i,s.tagID)}function Ji(t,e){for(let n=0;n<dm;n++){const r=mm(t,e);if(!r)break;const s=pm(t,r);if(!s)break;t.activeFormattingElements.bookmark=r;const i=_m(t,s,r.element),a=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(i),a&&gm(t,a,i),Tm(t,s,r)}}function ai(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function Am(t,e){t._appendCommentNode(e,t.openElements.items[0])}function Nm(t,e){t._appendCommentNode(e,t.document)}function Zi(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const i=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&t._setEndLocation(i,e)}}}}function bm(t,e){t._setDocumentType(e);const n=e.forceQuirks?nt.QUIRKS:Jf(e);qf(e)||t._err(e,N.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=_.BEFORE_HTML}function Mn(t,e){t._err(e,N.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,nt.QUIRKS),t.insertionMode=_.BEFORE_HTML,t._processToken(e)}function Im(t,e){e.tagID===o.HTML?(t._insertElement(e,L.HTML),t.insertionMode=_.BEFORE_HEAD):$n(t,e)}function Rm(t,e){const n=e.tagID;(n===o.HTML||n===o.HEAD||n===o.BODY||n===o.BR)&&$n(t,e)}function $n(t,e){t._insertFakeRootElement(),t.insertionMode=_.BEFORE_HEAD,t._processToken(e)}function Sm(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.HEAD:{t._insertElement(e,L.HTML),t.headElement=t.openElements.current,t.insertionMode=_.IN_HEAD;break}default:Gn(t,e)}}function vm(t,e){const n=e.tagID;n===o.HEAD||n===o.BODY||n===o.HTML||n===o.BR?Gn(t,e):t._err(e,N.endTagWithoutMatchingOpenElement)}function Gn(t,e){t._insertFakeElement(g.HEAD,o.HEAD),t.headElement=t.openElements.current,t.insertionMode=_.IN_HEAD,t._processToken(e)}function ht(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.BASE:case o.BASEFONT:case o.BGSOUND:case o.LINK:case o.META:{t._appendElement(e,L.HTML),e.ackSelfClosing=!0;break}case o.TITLE:{t._switchToTextParsing(e,Fe.RCDATA);break}case o.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Fe.RAWTEXT):(t._insertElement(e,L.HTML),t.insertionMode=_.IN_HEAD_NO_SCRIPT);break}case o.NOFRAMES:case o.STYLE:{t._switchToTextParsing(e,Fe.RAWTEXT);break}case o.SCRIPT:{t._switchToTextParsing(e,Fe.SCRIPT_DATA);break}case o.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=_.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(_.IN_TEMPLATE);break}case o.HEAD:{t._err(e,N.misplacedStartTagForHeadElement);break}default:Yn(t,e)}}function Om(t,e){switch(e.tagID){case o.HEAD:{t.openElements.pop(),t.insertionMode=_.AFTER_HEAD;break}case o.BODY:case o.BR:case o.HTML:{Yn(t,e);break}case o.TEMPLATE:{en(t,e);break}default:t._err(e,N.endTagWithoutMatchingOpenElement)}}function en(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==o.TEMPLATE&&t._err(e,N.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(o.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,N.endTagWithoutMatchingOpenElement)}function Yn(t,e){t.openElements.pop(),t.insertionMode=_.AFTER_HEAD,t._processToken(e)}function Cm(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.BASEFONT:case o.BGSOUND:case o.HEAD:case o.LINK:case o.META:case o.NOFRAMES:case o.STYLE:{ht(t,e);break}case o.NOSCRIPT:{t._err(e,N.nestedNoscriptInHead);break}default:Wn(t,e)}}function ym(t,e){switch(e.tagID){case o.NOSCRIPT:{t.openElements.pop(),t.insertionMode=_.IN_HEAD;break}case o.BR:{Wn(t,e);break}default:t._err(e,N.endTagWithoutMatchingOpenElement)}}function Wn(t,e){const n=e.type===Z.EOF?N.openElementsLeftAfterEof:N.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=_.IN_HEAD,t._processToken(e)}function Lm(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.BODY:{t._insertElement(e,L.HTML),t.framesetOk=!1,t.insertionMode=_.IN_BODY;break}case o.FRAMESET:{t._insertElement(e,L.HTML),t.insertionMode=_.IN_FRAMESET;break}case o.BASE:case o.BASEFONT:case o.BGSOUND:case o.LINK:case o.META:case o.NOFRAMES:case o.SCRIPT:case o.STYLE:case o.TEMPLATE:case o.TITLE:{t._err(e,N.abandonedHeadElementChild),t.openElements.push(t.headElement,o.HEAD),ht(t,e),t.openElements.remove(t.headElement);break}case o.HEAD:{t._err(e,N.misplacedStartTagForHeadElement);break}default:Vn(t,e)}}function km(t,e){switch(e.tagID){case o.BODY:case o.HTML:case o.BR:{Vn(t,e);break}case o.TEMPLATE:{en(t,e);break}default:t._err(e,N.endTagWithoutMatchingOpenElement)}}function Vn(t,e){t._insertFakeElement(g.BODY,o.BODY),t.insertionMode=_.IN_BODY,us(t,e)}function us(t,e){switch(e.type){case Z.CHARACTER:{Jc(t,e);break}case Z.WHITESPACE_CHARACTER:{qc(t,e);break}case Z.COMMENT:{ai(t,e);break}case Z.START_TAG:{ke(t,e);break}case Z.END_TAG:{ds(t,e);break}case Z.EOF:{nu(t,e);break}}}function qc(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function Jc(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function Mm(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Pm(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function Dm(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,L.HTML),t.insertionMode=_.IN_FRAMESET)}function wm(t,e){t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._insertElement(e,L.HTML)}function xm(t,e){t.openElements.hasInButtonScope(o.P)&&t._closePElement(),ii.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,L.HTML)}function Bm(t,e){t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._insertElement(e,L.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Um(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._insertElement(e,L.HTML),n||(t.formElement=t.openElements.current))}function Fm(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const s=t.openElements.tagIDs[r];if(n===o.LI&&s===o.LI||(n===o.DD||n===o.DT)&&(s===o.DD||s===o.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==o.ADDRESS&&s!==o.DIV&&s!==o.P&&t._isSpecialElement(t.openElements.items[r],s))break}t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._insertElement(e,L.HTML)}function jm(t,e){t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._insertElement(e,L.HTML),t.tokenizer.state=Fe.PLAINTEXT}function Hm(t,e){t.openElements.hasInScope(o.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(o.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML),t.framesetOk=!1}function $m(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(g.A);n&&(Ji(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Gm(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Ym(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(o.NOBR)&&(Ji(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,L.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Wm(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function Vm(t,e){t.treeAdapter.getDocumentMode(t.document)!==nt.QUIRKS&&t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._insertElement(e,L.HTML),t.framesetOk=!1,t.insertionMode=_.IN_TABLE}function Zc(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,L.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function eu(t){const e=Hc(t,Wt.TYPE);return e!=null&&e.toLowerCase()===um}function Km(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,L.HTML),eu(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function zm(t,e){t._appendElement(e,L.HTML),e.ackSelfClosing=!0}function Xm(t,e){t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._appendElement(e,L.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Qm(t,e){e.tagName=g.IMG,e.tagID=o.IMG,Zc(t,e)}function qm(t,e){t._insertElement(e,L.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Fe.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=_.TEXT}function Jm(t,e){t.openElements.hasInButtonScope(o.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Fe.RAWTEXT)}function Zm(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Fe.RAWTEXT)}function ro(t,e){t._switchToTextParsing(e,Fe.RAWTEXT)}function ep(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===_.IN_TABLE||t.insertionMode===_.IN_CAPTION||t.insertionMode===_.IN_TABLE_BODY||t.insertionMode===_.IN_ROW||t.insertionMode===_.IN_CELL?_.IN_SELECT_IN_TABLE:_.IN_SELECT}function tp(t,e){t.openElements.currentTagId===o.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML)}function np(t,e){t.openElements.hasInScope(o.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,L.HTML)}function rp(t,e){t.openElements.hasInScope(o.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(o.RTC),t._insertElement(e,L.HTML)}function sp(t,e){t._reconstructActiveFormattingElements(),Kc(e),qi(e),e.selfClosing?t._appendElement(e,L.MATHML):t._insertElement(e,L.MATHML),e.ackSelfClosing=!0}function ip(t,e){t._reconstructActiveFormattingElements(),zc(e),qi(e),e.selfClosing?t._appendElement(e,L.SVG):t._insertElement(e,L.SVG),e.ackSelfClosing=!0}function so(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,L.HTML)}function ke(t,e){switch(e.tagID){case o.I:case o.S:case o.B:case o.U:case o.EM:case o.TT:case o.BIG:case o.CODE:case o.FONT:case o.SMALL:case o.STRIKE:case o.STRONG:{Gm(t,e);break}case o.A:{$m(t,e);break}case o.H1:case o.H2:case o.H3:case o.H4:case o.H5:case o.H6:{xm(t,e);break}case o.P:case o.DL:case o.OL:case o.UL:case o.DIV:case o.DIR:case o.NAV:case o.MAIN:case o.MENU:case o.ASIDE:case o.CENTER:case o.FIGURE:case o.FOOTER:case o.HEADER:case o.HGROUP:case o.DIALOG:case o.DETAILS:case o.ADDRESS:case o.ARTICLE:case o.SEARCH:case o.SECTION:case o.SUMMARY:case o.FIELDSET:case o.BLOCKQUOTE:case o.FIGCAPTION:{wm(t,e);break}case o.LI:case o.DD:case o.DT:{Fm(t,e);break}case o.BR:case o.IMG:case o.WBR:case o.AREA:case o.EMBED:case o.KEYGEN:{Zc(t,e);break}case o.HR:{Xm(t,e);break}case o.RB:case o.RTC:{np(t,e);break}case o.RT:case o.RP:{rp(t,e);break}case o.PRE:case o.LISTING:{Bm(t,e);break}case o.XMP:{Jm(t,e);break}case o.SVG:{ip(t,e);break}case o.HTML:{Mm(t,e);break}case o.BASE:case o.LINK:case o.META:case o.STYLE:case o.TITLE:case o.SCRIPT:case o.BGSOUND:case o.BASEFONT:case o.TEMPLATE:{ht(t,e);break}case o.BODY:{Pm(t,e);break}case o.FORM:{Um(t,e);break}case o.NOBR:{Ym(t,e);break}case o.MATH:{sp(t,e);break}case o.TABLE:{Vm(t,e);break}case o.INPUT:{Km(t,e);break}case o.PARAM:case o.TRACK:case o.SOURCE:{zm(t,e);break}case o.IMAGE:{Qm(t,e);break}case o.BUTTON:{Hm(t,e);break}case o.APPLET:case o.OBJECT:case o.MARQUEE:{Wm(t,e);break}case o.IFRAME:{Zm(t,e);break}case o.SELECT:{ep(t,e);break}case o.OPTION:case o.OPTGROUP:{tp(t,e);break}case o.NOEMBED:case o.NOFRAMES:{ro(t,e);break}case o.FRAMESET:{Dm(t,e);break}case o.TEXTAREA:{qm(t,e);break}case o.NOSCRIPT:{t.options.scriptingEnabled?ro(t,e):so(t,e);break}case o.PLAINTEXT:{jm(t,e);break}case o.COL:case o.TH:case o.TD:case o.TR:case o.HEAD:case o.FRAME:case o.TBODY:case o.TFOOT:case o.THEAD:case o.CAPTION:case o.COLGROUP:break;default:so(t,e)}}function ap(t,e){if(t.openElements.hasInScope(o.BODY)&&(t.insertionMode=_.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function op(t,e){t.openElements.hasInScope(o.BODY)&&(t.insertionMode=_.AFTER_BODY,uu(t,e))}function lp(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function cp(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(o.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(o.FORM):n&&t.openElements.remove(n))}function up(t){t.openElements.hasInButtonScope(o.P)||t._insertFakeElement(g.P,o.P),t._closePElement()}function dp(t){t.openElements.hasInListItemScope(o.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(o.LI),t.openElements.popUntilTagNamePopped(o.LI))}function hp(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function fp(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function mp(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function pp(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(g.BR,o.BR),t.openElements.pop(),t.framesetOk=!1}function tu(t,e){const n=e.tagName,r=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){const i=t.openElements.items[s],a=t.openElements.tagIDs[s];if(r===a&&(r!==o.UNKNOWN||t.treeAdapter.getTagName(i)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(i,a))break}}function ds(t,e){switch(e.tagID){case o.A:case o.B:case o.I:case o.S:case o.U:case o.EM:case o.TT:case o.BIG:case o.CODE:case o.FONT:case o.NOBR:case o.SMALL:case o.STRIKE:case o.STRONG:{Ji(t,e);break}case o.P:{up(t);break}case o.DL:case o.UL:case o.OL:case o.DIR:case o.DIV:case o.NAV:case o.PRE:case o.MAIN:case o.MENU:case o.ASIDE:case o.BUTTON:case o.CENTER:case o.FIGURE:case o.FOOTER:case o.HEADER:case o.HGROUP:case o.DIALOG:case o.ADDRESS:case o.ARTICLE:case o.DETAILS:case o.SEARCH:case o.SECTION:case o.SUMMARY:case o.LISTING:case o.FIELDSET:case o.BLOCKQUOTE:case o.FIGCAPTION:{lp(t,e);break}case o.LI:{dp(t);break}case o.DD:case o.DT:{hp(t,e);break}case o.H1:case o.H2:case o.H3:case o.H4:case o.H5:case o.H6:{fp(t);break}case o.BR:{pp(t);break}case o.BODY:{ap(t,e);break}case o.HTML:{op(t,e);break}case o.FORM:{cp(t);break}case o.APPLET:case o.OBJECT:case o.MARQUEE:{mp(t,e);break}case o.TEMPLATE:{en(t,e);break}default:tu(t,e)}}function nu(t,e){t.tmplInsertionModeStack.length>0?cu(t,e):Zi(t,e)}function _p(t,e){var n;e.tagID===o.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function Ep(t,e){t._err(e,N.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function js(t,e){if(Xc.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=_.IN_TABLE_TEXT,e.type){case Z.CHARACTER:{su(t,e);break}case Z.WHITESPACE_CHARACTER:{ru(t,e);break}}else rr(t,e)}function gp(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,L.HTML),t.insertionMode=_.IN_CAPTION}function Tp(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,L.HTML),t.insertionMode=_.IN_COLUMN_GROUP}function Ap(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(g.COLGROUP,o.COLGROUP),t.insertionMode=_.IN_COLUMN_GROUP,ea(t,e)}function Np(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,L.HTML),t.insertionMode=_.IN_TABLE_BODY}function bp(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(g.TBODY,o.TBODY),t.insertionMode=_.IN_TABLE_BODY,hs(t,e)}function Ip(t,e){t.openElements.hasInTableScope(o.TABLE)&&(t.openElements.popUntilTagNamePopped(o.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function Rp(t,e){eu(e)?t._appendElement(e,L.HTML):rr(t,e),e.ackSelfClosing=!0}function Sp(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,L.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function fn(t,e){switch(e.tagID){case o.TD:case o.TH:case o.TR:{bp(t,e);break}case o.STYLE:case o.SCRIPT:case o.TEMPLATE:{ht(t,e);break}case o.COL:{Ap(t,e);break}case o.FORM:{Sp(t,e);break}case o.TABLE:{Ip(t,e);break}case o.TBODY:case o.TFOOT:case o.THEAD:{Np(t,e);break}case o.INPUT:{Rp(t,e);break}case o.CAPTION:{gp(t,e);break}case o.COLGROUP:{Tp(t,e);break}default:rr(t,e)}}function Xn(t,e){switch(e.tagID){case o.TABLE:{t.openElements.hasInTableScope(o.TABLE)&&(t.openElements.popUntilTagNamePopped(o.TABLE),t._resetInsertionMode());break}case o.TEMPLATE:{en(t,e);break}case o.BODY:case o.CAPTION:case o.COL:case o.COLGROUP:case o.HTML:case o.TBODY:case o.TD:case o.TFOOT:case o.TH:case o.THEAD:case o.TR:break;default:rr(t,e)}}function rr(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,us(t,e),t.fosterParentingEnabled=n}function ru(t,e){t.pendingCharacterTokens.push(e)}function su(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Pn(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)rr(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const iu=new Set([o.CAPTION,o.COL,o.COLGROUP,o.TBODY,o.TD,o.TFOOT,o.TH,o.THEAD,o.TR]);function vp(t,e){const n=e.tagID;iu.has(n)?t.openElements.hasInTableScope(o.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(o.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=_.IN_TABLE,fn(t,e)):ke(t,e)}function Op(t,e){const n=e.tagID;switch(n){case o.CAPTION:case o.TABLE:{t.openElements.hasInTableScope(o.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(o.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=_.IN_TABLE,n===o.TABLE&&Xn(t,e));break}case o.BODY:case o.COL:case o.COLGROUP:case o.HTML:case o.TBODY:case o.TD:case o.TFOOT:case o.TH:case o.THEAD:case o.TR:break;default:ds(t,e)}}function ea(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.COL:{t._appendElement(e,L.HTML),e.ackSelfClosing=!0;break}case o.TEMPLATE:{ht(t,e);break}default:Dr(t,e)}}function Cp(t,e){switch(e.tagID){case o.COLGROUP:{t.openElements.currentTagId===o.COLGROUP&&(t.openElements.pop(),t.insertionMode=_.IN_TABLE);break}case o.TEMPLATE:{en(t,e);break}case o.COL:break;default:Dr(t,e)}}function Dr(t,e){t.openElements.currentTagId===o.COLGROUP&&(t.openElements.pop(),t.insertionMode=_.IN_TABLE,t._processToken(e))}function hs(t,e){switch(e.tagID){case o.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,L.HTML),t.insertionMode=_.IN_ROW;break}case o.TH:case o.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(g.TR,o.TR),t.insertionMode=_.IN_ROW,fs(t,e);break}case o.CAPTION:case o.COL:case o.COLGROUP:case o.TBODY:case o.TFOOT:case o.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE,fn(t,e));break}default:fn(t,e)}}function oi(t,e){const n=e.tagID;switch(e.tagID){case o.TBODY:case o.TFOOT:case o.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE);break}case o.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE,Xn(t,e));break}case o.BODY:case o.CAPTION:case o.COL:case o.COLGROUP:case o.HTML:case o.TD:case o.TH:case o.TR:break;default:Xn(t,e)}}function fs(t,e){switch(e.tagID){case o.TH:case o.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,L.HTML),t.insertionMode=_.IN_CELL,t.activeFormattingElements.insertMarker();break}case o.CAPTION:case o.COL:case o.COLGROUP:case o.TBODY:case o.TFOOT:case o.THEAD:case o.TR:{t.openElements.hasInTableScope(o.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE_BODY,hs(t,e));break}default:fn(t,e)}}function au(t,e){switch(e.tagID){case o.TR:{t.openElements.hasInTableScope(o.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE_BODY);break}case o.TABLE:{t.openElements.hasInTableScope(o.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE_BODY,oi(t,e));break}case o.TBODY:case o.TFOOT:case o.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(o.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=_.IN_TABLE_BODY,oi(t,e));break}case o.BODY:case o.CAPTION:case o.COL:case o.COLGROUP:case o.HTML:case o.TD:case o.TH:break;default:Xn(t,e)}}function yp(t,e){const n=e.tagID;iu.has(n)?(t.openElements.hasInTableScope(o.TD)||t.openElements.hasInTableScope(o.TH))&&(t._closeTableCell(),fs(t,e)):ke(t,e)}function Lp(t,e){const n=e.tagID;switch(n){case o.TD:case o.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=_.IN_ROW);break}case o.TABLE:case o.TBODY:case o.TFOOT:case o.THEAD:case o.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),au(t,e));break}case o.BODY:case o.CAPTION:case o.COL:case o.COLGROUP:case o.HTML:break;default:ds(t,e)}}function ou(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.OPTION:{t.openElements.currentTagId===o.OPTION&&t.openElements.pop(),t._insertElement(e,L.HTML);break}case o.OPTGROUP:{t.openElements.currentTagId===o.OPTION&&t.openElements.pop(),t.openElements.currentTagId===o.OPTGROUP&&t.openElements.pop(),t._insertElement(e,L.HTML);break}case o.HR:{t.openElements.currentTagId===o.OPTION&&t.openElements.pop(),t.openElements.currentTagId===o.OPTGROUP&&t.openElements.pop(),t._appendElement(e,L.HTML),e.ackSelfClosing=!0;break}case o.INPUT:case o.KEYGEN:case o.TEXTAREA:case o.SELECT:{t.openElements.hasInSelectScope(o.SELECT)&&(t.openElements.popUntilTagNamePopped(o.SELECT),t._resetInsertionMode(),e.tagID!==o.SELECT&&t._processStartTag(e));break}case o.SCRIPT:case o.TEMPLATE:{ht(t,e);break}}}function lu(t,e){switch(e.tagID){case o.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===o.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===o.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===o.OPTGROUP&&t.openElements.pop();break}case o.OPTION:{t.openElements.currentTagId===o.OPTION&&t.openElements.pop();break}case o.SELECT:{t.openElements.hasInSelectScope(o.SELECT)&&(t.openElements.popUntilTagNamePopped(o.SELECT),t._resetInsertionMode());break}case o.TEMPLATE:{en(t,e);break}}}function kp(t,e){const n=e.tagID;n===o.CAPTION||n===o.TABLE||n===o.TBODY||n===o.TFOOT||n===o.THEAD||n===o.TR||n===o.TD||n===o.TH?(t.openElements.popUntilTagNamePopped(o.SELECT),t._resetInsertionMode(),t._processStartTag(e)):ou(t,e)}function Mp(t,e){const n=e.tagID;n===o.CAPTION||n===o.TABLE||n===o.TBODY||n===o.TFOOT||n===o.THEAD||n===o.TR||n===o.TD||n===o.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(o.SELECT),t._resetInsertionMode(),t.onEndTag(e)):lu(t,e)}function Pp(t,e){switch(e.tagID){case o.BASE:case o.BASEFONT:case o.BGSOUND:case o.LINK:case o.META:case o.NOFRAMES:case o.SCRIPT:case o.STYLE:case o.TEMPLATE:case o.TITLE:{ht(t,e);break}case o.CAPTION:case o.COLGROUP:case o.TBODY:case o.TFOOT:case o.THEAD:{t.tmplInsertionModeStack[0]=_.IN_TABLE,t.insertionMode=_.IN_TABLE,fn(t,e);break}case o.COL:{t.tmplInsertionModeStack[0]=_.IN_COLUMN_GROUP,t.insertionMode=_.IN_COLUMN_GROUP,ea(t,e);break}case o.TR:{t.tmplInsertionModeStack[0]=_.IN_TABLE_BODY,t.insertionMode=_.IN_TABLE_BODY,hs(t,e);break}case o.TD:case o.TH:{t.tmplInsertionModeStack[0]=_.IN_ROW,t.insertionMode=_.IN_ROW,fs(t,e);break}default:t.tmplInsertionModeStack[0]=_.IN_BODY,t.insertionMode=_.IN_BODY,ke(t,e)}}function Dp(t,e){e.tagID===o.TEMPLATE&&en(t,e)}function cu(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(o.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Zi(t,e)}function wp(t,e){e.tagID===o.HTML?ke(t,e):wr(t,e)}function uu(t,e){var n;if(e.tagID===o.HTML){if(t.fragmentContext||(t.insertionMode=_.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===o.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else wr(t,e)}function wr(t,e){t.insertionMode=_.IN_BODY,us(t,e)}function xp(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.FRAMESET:{t._insertElement(e,L.HTML);break}case o.FRAME:{t._appendElement(e,L.HTML),e.ackSelfClosing=!0;break}case o.NOFRAMES:{ht(t,e);break}}}function Bp(t,e){e.tagID===o.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==o.FRAMESET&&(t.insertionMode=_.AFTER_FRAMESET))}function Up(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.NOFRAMES:{ht(t,e);break}}}function Fp(t,e){e.tagID===o.HTML&&(t.insertionMode=_.AFTER_AFTER_FRAMESET)}function jp(t,e){e.tagID===o.HTML?ke(t,e):Sr(t,e)}function Sr(t,e){t.insertionMode=_.IN_BODY,us(t,e)}function Hp(t,e){switch(e.tagID){case o.HTML:{ke(t,e);break}case o.NOFRAMES:{ht(t,e);break}}}function $p(t,e){e.chars=le,t._insertCharacters(e)}function Gp(t,e){t._insertCharacters(e),t.framesetOk=!1}function du(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==L.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function Yp(t,e){if(im(e))du(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===L.MATHML?Kc(e):r===L.SVG&&(am(e),zc(e)),qi(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function Wp(t,e){if(e.tagID===o.P||e.tagID===o.BR){du(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===L.HTML){t._endTagOutsideForeignContent(e);break}const s=t.treeAdapter.getTagName(r);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(n);break}}}const Vp=new Set([g.AREA,g.BASE,g.BASEFONT,g.BGSOUND,g.BR,g.COL,g.EMBED,g.FRAME,g.HR,g.IMG,g.INPUT,g.KEYGEN,g.LINK,g.META,g.PARAM,g.SOURCE,g.TRACK,g.WBR]);function Kp(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===L.HTML&&Vp.has(e.treeAdapter.getTagName(t))}const zp={treeAdapter:bt,scriptingEnabled:!0};function PO(t,e){const n={...zp,...e};return hu(t,n)}function Xp(t,e){let n="";const r=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===g.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===L.HTML?e.treeAdapter.getTemplateContent(t):t,s=e.treeAdapter.getChildNodes(r);if(s)for(const i of s)n+=hu(i,e);return n}function hu(t,e){return e.treeAdapter.isElementNode(t)?Qp(t,e):e.treeAdapter.isTextNode(t)?Jp(t,e):e.treeAdapter.isCommentNode(t)?Zp(t,e):e.treeAdapter.isDocumentTypeNode(t)?e_(t,e):""}function Qp(t,e){const n=e.treeAdapter.getTagName(t);return`<${n}${qp(t,e)}>${Kp(t,e)?"":`${Xp(t,e)}</${n}>`}`}function qp(t,{treeAdapter:e}){let n="";for(const r of e.getAttrList(t)){if(n+=" ",r.namespace)switch(r.namespace){case L.XML:{n+=`xml:${r.name}`;break}case L.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case L.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${If(r.value)}"`}return n}function Jp(t,e){const{treeAdapter:n}=e,r=n.getTextNodeContent(t),s=n.getParentNode(t),i=s&&n.isElementNode(s)&&n.getTagName(s);return i&&n.getNamespaceURI(s)===L.HTML&&Pf(i,e.scriptingEnabled)?r:Rf(r)}function Zp(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function e_(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function DO(t,e){return Qc.parse(t,e)}function wO(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);const r=Qc.getFragmentParser(t,n);return r.tokenizer.write(e,!0),r.getFragment()}var fu={exports:{}},mu={exports:{}};(function(t,e){var n={version:"v20.18.1",versions:{node:"20.18.1",acorn:"8.12.1",ada:"2.9.0",ares:"1.33.1",base64:"0.5.2",brotli:"1.1.0",cjs_module_lexer:"1.4.1",cldr:"45.0",icu:"75.1",llhttp:"8.1.2",modules:"115",napi:"9",nghttp2:"1.61.0",nghttp3:"0.7.0",ngtcp2:"1.1.0",openssl:"3.0.15+quic",simdutf:"5.5.0",tz:"2024b",undici:"6.20.0",unicode:"15.1",uv:"1.46.0",uvwasi:"0.0.21",v8:"11.3.244.8-node.23",zlib:"1.3.0.1-motley-71660e1"},arch:"x64",platform:"linux",release:{name:"node",lts:"Iron",sourceUrl:"https://nodejs.org/download/release/v20.18.1/node-v20.18.1.tar.gz",headersUrl:"https://nodejs.org/download/release/v20.18.1/node-v20.18.1-headers.tar.gz"},moduleLoadList:["Internal Binding builtins","Internal Binding module_wrap","Internal Binding errors","NativeModule internal/assert","Internal Binding util","NativeModule internal/errors","Internal Binding config","Internal Binding timers","Internal Binding async_wrap","Internal Binding task_queue","Internal Binding symbols","NativeModule internal/async_hooks","Internal Binding constants","Internal Binding types","Internal Binding options","NativeModule internal/options","Internal Binding string_decoder","NativeModule internal/util","NativeModule internal/util/types","NativeModule internal/validators","NativeModule internal/linkedlist","NativeModule internal/priority_queue","Internal Binding icu","NativeModule internal/util/inspect","NativeModule internal/util/debuglog","NativeModule internal/timers","NativeModule internal/events/abort_listener","NativeModule events","Internal Binding buffer","NativeModule internal/buffer","NativeModule buffer","Internal Binding messaging","NativeModule internal/worker/js_transferable","NativeModule internal/querystring","NativeModule internal/constants","NativeModule path","NativeModule querystring","Internal Binding url","NativeModule internal/url","NativeModule internal/fs/utils","Internal Binding process_methods","NativeModule internal/process/per_thread","Internal Binding credentials","NativeModule internal/process/promises","NativeModule internal/fixed_queue","NativeModule async_hooks","NativeModule internal/process/task_queues","NativeModule timers","Internal Binding trace_events","Internal Binding contextify","NativeModule internal/vm","NativeModule internal/process/execution","NativeModule internal/process/warning","NativeModule internal/source_map/source_map_cache","Internal Binding fs","Internal Binding blob","Internal Binding encoding_binding","NativeModule internal/encoding","NativeModule internal/streams/utils","NativeModule util","NativeModule internal/webstreams/util","NativeModule internal/webstreams/queuingstrategies","NativeModule internal/blob","Internal Binding permission","NativeModule internal/process/permission","NativeModule fs","NativeModule internal/modules/helpers","NativeModule internal/console/constructor","NativeModule internal/console/global","NativeModule internal/util/inspector","Internal Binding inspector","NativeModule internal/webidl","Internal Binding performance","NativeModule internal/perf/utils","NativeModule internal/event_target","Internal Binding wasm_web_api","Internal Binding mksnapshot","NativeModule internal/v8/startup_snapshot","NativeModule internal/process/signal","NativeModule url","NativeModule internal/modules/package_json_reader","NativeModule internal/modules/cjs/loader","NativeModule internal/process/pre_execution","NativeModule internal/modules/esm/utils","NativeModule internal/inspector_async_hook","Internal Binding worker","NativeModule internal/modules/run_main","NativeModule internal/net","NativeModule internal/dns/utils","NativeModule internal/modules/esm/assert","NativeModule internal/modules/esm/loader","NativeModule internal/modules/esm/module_map","NativeModule internal/modules/esm/translators","NativeModule internal/modules/esm/package_config","NativeModule internal/modules/esm/formats","NativeModule internal/modules/esm/get_format","NativeModule internal/modules/esm/resolve","NativeModule internal/modules/esm/module_job","NativeModule internal/modules/esm/load","Internal Binding fs_dir","NativeModule internal/fs/dir","NativeModule string_decoder","Internal Binding fs_event_wrap","Internal Binding uv","NativeModule internal/fs/watchers","NativeModule internal/fs/recursive_watch","NativeModule internal/readline/utils","NativeModule internal/readline/callbacks","NativeModule internal/readline/interface","NativeModule internal/fs/promises","NativeModule internal/perf/performance_entry","NativeModule internal/perf/observe","NativeModule internal/perf/resource_timing","NativeModule internal/perf/nodetiming","NativeModule internal/perf/usertiming","NativeModule internal/perf/event_loop_utilization","NativeModule internal/histogram","NativeModule internal/perf/timerify","NativeModule internal/perf/performance","NativeModule internal/perf/event_loop_delay","NativeModule perf_hooks","NativeModule internal/modules/esm/initialize_import_meta","NativeModule internal/streams/destroy","NativeModule internal/abort_controller","NativeModule internal/streams/end-of-stream","NativeModule internal/streams/legacy","NativeModule internal/streams/add-abort-signal","NativeModule internal/streams/state","NativeModule internal/streams/from","NativeModule internal/streams/readable","NativeModule internal/streams/writable","NativeModule internal/streams/duplex","NativeModule internal/streams/pipeline","NativeModule internal/streams/compose","NativeModule internal/streams/operators","NativeModule stream/promises","NativeModule internal/streams/transform","NativeModule internal/streams/passthrough","NativeModule internal/streams/duplexpair","NativeModule stream","NativeModule internal/fs/streams","NativeModule fs/promises","NativeModule internal/util/parse_args/utils","NativeModule internal/util/parse_args/parse_args","NativeModule internal/mime","NativeModule internal/source_map/source_map","NativeModule module","Internal Binding stream_wrap","Internal Binding tcp_wrap","Internal Binding pipe_wrap","NativeModule internal/stream_base_commons","NativeModule diagnostics_channel","NativeModule net","Internal Binding tty_wrap","NativeModule internal/tty","NativeModule tty","NativeModule internal/deps/cjs-module-lexer/dist/lexer","Internal Binding udp_wrap","NativeModule internal/dgram","NativeModule dgram","Internal Binding process_wrap","NativeModule internal/socket_list","Internal Binding spawn_sync","NativeModule internal/child_process","NativeModule child_process","NativeModule _http_agent","Internal Binding http_parser","NativeModule internal/freelist","NativeModule _http_incoming","NativeModule _http_common","NativeModule internal/http","NativeModule _http_outgoing","NativeModule _http_client","NativeModule _http_server","NativeModule http","Internal Binding crypto","Internal Binding cares_wrap","NativeModule internal/crypto/hashnames","NativeModule internal/crypto/util","NativeModule internal/tls/secure-context","NativeModule _tls_common","NativeModule internal/crypto/random","NativeModule internal/crypto/pbkdf2","NativeModule internal/crypto/scrypt","NativeModule internal/crypto/keys","NativeModule internal/crypto/hkdf","NativeModule internal/crypto/keygen","NativeModule internal/crypto/diffiehellman","NativeModule internal/streams/lazy_transform","NativeModule internal/crypto/cipher","NativeModule internal/crypto/sig","NativeModule internal/crypto/hash","NativeModule internal/crypto/x509","NativeModule internal/crypto/certificate","NativeModule crypto","Internal Binding js_stream","NativeModule internal/js_stream_socket","Internal Binding tls_wrap","NativeModule _tls_wrap","NativeModule internal/tls/secure-pair","NativeModule tls","NativeModule https","Internal Binding block_list","NativeModule internal/socketaddress","NativeModule internal/blocklist","Internal Binding os","NativeModule os","NativeModule internal/crypto/webcrypto","NativeModule internal/dns/callback_resolver","NativeModule dns","NativeModule internal/dns/promises","NativeModule internal/util/colors","NativeModule internal/assert/assertion_error","NativeModule internal/assert/utils","NativeModule internal/assert/calltracker","NativeModule assert","Internal Binding serdes","Internal Binding profiler","Internal Binding heap_utils","Internal Binding internal_only_v8","NativeModule internal/heap_utils","NativeModule internal/promise_hooks","Internal Binding v8","NativeModule v8","NativeModule internal/worker/io","NativeModule internal/error_serdes","NativeModule internal/worker","NativeModule worker_threads","NativeModule internal/file","NativeModule internal/readline/emitKeypressEvents","NativeModule internal/readline/promises","NativeModule readline/promises","NativeModule readline","Internal Binding zlib","NativeModule zlib","NativeModule process","Internal Binding report","NativeModule internal/process/report","NativeModule constants"],_events:{newListener:[null,null],removeListener:[null,null]},_eventsCount:3,domain:null,_exiting:!1,config:{target_defaults:{cflags:[],default_configuration:"Release",defines:["NODE_OPENSSL_CONF_NAME=nodejs_conf","NODE_OPENSSL_HAS_QUIC","ICU_NO_USER_DATA_OVERRIDE"],include_dirs:[],libraries:[]},variables:{asan:0,clang:0,coverage:!1,dcheck_always_on:0,debug_nghttp2:!1,debug_node:!1,enable_lto:!1,enable_pgo_generate:!1,enable_pgo_use:!1,error_on_warn:!1,force_dynamic_crt:0,gas_version:"2.35",host_arch:"x64",icu_data_in:"../../deps/icu-tmp/icudt75l.dat",icu_endianness:"l",icu_gyp_path:"tools/icu/icu-generic.gyp",icu_path:"deps/icu-small",icu_small:!1,icu_ver_major:"75",is_debug:0,libdir:"lib",llvm_version:"0.0",napi_build_version:"9",node_builtin_shareable_builtins:["deps/cjs-module-lexer/lexer.js","deps/cjs-module-lexer/dist/lexer.js","deps/undici/undici.js"],node_byteorder:"little",node_debug_lib:!1,node_enable_d8:!1,node_enable_v8_vtunejit:!1,node_fipsinstall:!1,node_install_corepack:!0,node_install_npm:!0,node_library_files:["lib/_http_agent.js","lib/_http_client.js","lib/_http_common.js","lib/_http_incoming.js","lib/_http_outgoing.js","lib/_http_server.js","lib/_stream_duplex.js","lib/_stream_passthrough.js","lib/_stream_readable.js","lib/_stream_transform.js","lib/_stream_wrap.js","lib/_stream_writable.js","lib/_tls_common.js","lib/_tls_wrap.js","lib/assert.js","lib/assert/strict.js","lib/async_hooks.js","lib/buffer.js","lib/child_process.js","lib/cluster.js","lib/console.js","lib/constants.js","lib/crypto.js","lib/dgram.js","lib/diagnostics_channel.js","lib/dns.js","lib/dns/promises.js","lib/domain.js","lib/events.js","lib/fs.js","lib/fs/promises.js","lib/http.js","lib/http2.js","lib/https.js","lib/inspector.js","lib/inspector/promises.js","lib/internal/abort_controller.js","lib/internal/assert.js","lib/internal/assert/assertion_error.js","lib/internal/assert/calltracker.js","lib/internal/assert/utils.js","lib/internal/async_hooks.js","lib/internal/blob.js","lib/internal/blocklist.js","lib/internal/bootstrap/node.js","lib/internal/bootstrap/realm.js","lib/internal/bootstrap/shadow_realm.js","lib/internal/bootstrap/switches/does_not_own_process_state.js","lib/internal/bootstrap/switches/does_own_process_state.js","lib/internal/bootstrap/switches/is_main_thread.js","lib/internal/bootstrap/switches/is_not_main_thread.js","lib/internal/bootstrap/web/exposed-wildcard.js","lib/internal/bootstrap/web/exposed-window-or-worker.js","lib/internal/buffer.js","lib/internal/child_process.js","lib/internal/child_process/serialization.js","lib/internal/cli_table.js","lib/internal/cluster/child.js","lib/internal/cluster/primary.js","lib/internal/cluster/round_robin_handle.js","lib/internal/cluster/shared_handle.js","lib/internal/cluster/utils.js","lib/internal/cluster/worker.js","lib/internal/console/constructor.js","lib/internal/console/global.js","lib/internal/constants.js","lib/internal/crypto/aes.js","lib/internal/crypto/certificate.js","lib/internal/crypto/cfrg.js","lib/internal/crypto/cipher.js","lib/internal/crypto/diffiehellman.js","lib/internal/crypto/ec.js","lib/internal/crypto/hash.js","lib/internal/crypto/hashnames.js","lib/internal/crypto/hkdf.js","lib/internal/crypto/keygen.js","lib/internal/crypto/keys.js","lib/internal/crypto/mac.js","lib/internal/crypto/pbkdf2.js","lib/internal/crypto/random.js","lib/internal/crypto/rsa.js","lib/internal/crypto/scrypt.js","lib/internal/crypto/sig.js","lib/internal/crypto/util.js","lib/internal/crypto/webcrypto.js","lib/internal/crypto/webidl.js","lib/internal/crypto/x509.js","lib/internal/debugger/inspect.js","lib/internal/debugger/inspect_client.js","lib/internal/debugger/inspect_repl.js","lib/internal/dgram.js","lib/internal/dns/callback_resolver.js","lib/internal/dns/promises.js","lib/internal/dns/utils.js","lib/internal/encoding.js","lib/internal/error_serdes.js","lib/internal/errors.js","lib/internal/event_target.js","lib/internal/events/abort_listener.js","lib/internal/events/symbols.js","lib/internal/file.js","lib/internal/fixed_queue.js","lib/internal/freelist.js","lib/internal/freeze_intrinsics.js","lib/internal/fs/cp/cp-sync.js","lib/internal/fs/cp/cp.js","lib/internal/fs/dir.js","lib/internal/fs/promises.js","lib/internal/fs/read/context.js","lib/internal/fs/recursive_watch.js","lib/internal/fs/rimraf.js","lib/internal/fs/streams.js","lib/internal/fs/sync_write_stream.js","lib/internal/fs/utils.js","lib/internal/fs/watchers.js","lib/internal/heap_utils.js","lib/internal/histogram.js","lib/internal/http.js","lib/internal/http2/compat.js","lib/internal/http2/core.js","lib/internal/http2/util.js","lib/internal/inspector_async_hook.js","lib/internal/inspector_network_tracking.js","lib/internal/js_stream_socket.js","lib/internal/legacy/processbinding.js","lib/internal/linkedlist.js","lib/internal/main/check_syntax.js","lib/internal/main/embedding.js","lib/internal/main/eval_stdin.js","lib/internal/main/eval_string.js","lib/internal/main/inspect.js","lib/internal/main/mksnapshot.js","lib/internal/main/print_help.js","lib/internal/main/prof_process.js","lib/internal/main/repl.js","lib/internal/main/run_main_module.js","lib/internal/main/test_runner.js","lib/internal/main/watch_mode.js","lib/internal/main/worker_thread.js","lib/internal/mime.js","lib/internal/modules/cjs/loader.js","lib/internal/modules/esm/assert.js","lib/internal/modules/esm/create_dynamic_module.js","lib/internal/modules/esm/fetch_module.js","lib/internal/modules/esm/formats.js","lib/internal/modules/esm/get_format.js","lib/internal/modules/esm/hooks.js","lib/internal/modules/esm/initialize_import_meta.js","lib/internal/modules/esm/load.js","lib/internal/modules/esm/loader.js","lib/internal/modules/esm/module_job.js","lib/internal/modules/esm/module_map.js","lib/internal/modules/esm/package_config.js","lib/internal/modules/esm/resolve.js","lib/internal/modules/esm/shared_constants.js","lib/internal/modules/esm/translators.js","lib/internal/modules/esm/utils.js","lib/internal/modules/esm/worker.js","lib/internal/modules/helpers.js","lib/internal/modules/package_json_reader.js","lib/internal/modules/run_main.js","lib/internal/navigator.js","lib/internal/net.js","lib/internal/options.js","lib/internal/per_context/domexception.js","lib/internal/per_context/messageport.js","lib/internal/per_context/primordials.js","lib/internal/perf/event_loop_delay.js","lib/internal/perf/event_loop_utilization.js","lib/internal/perf/nodetiming.js","lib/internal/perf/observe.js","lib/internal/perf/performance.js","lib/internal/perf/performance_entry.js","lib/internal/perf/resource_timing.js","lib/internal/perf/timerify.js","lib/internal/perf/usertiming.js","lib/internal/perf/utils.js","lib/internal/policy/manifest.js","lib/internal/policy/sri.js","lib/internal/priority_queue.js","lib/internal/process/execution.js","lib/internal/process/per_thread.js","lib/internal/process/permission.js","lib/internal/process/policy.js","lib/internal/process/pre_execution.js","lib/internal/process/promises.js","lib/internal/process/report.js","lib/internal/process/signal.js","lib/internal/process/task_queues.js","lib/internal/process/warning.js","lib/internal/process/worker_thread_only.js","lib/internal/promise_hooks.js","lib/internal/querystring.js","lib/internal/readline/callbacks.js","lib/internal/readline/emitKeypressEvents.js","lib/internal/readline/interface.js","lib/internal/readline/promises.js","lib/internal/readline/utils.js","lib/internal/repl.js","lib/internal/repl/await.js","lib/internal/repl/history.js","lib/internal/repl/utils.js","lib/internal/socket_list.js","lib/internal/socketaddress.js","lib/internal/source_map/prepare_stack_trace.js","lib/internal/source_map/source_map.js","lib/internal/source_map/source_map_cache.js","lib/internal/stream_base_commons.js","lib/internal/streams/add-abort-signal.js","lib/internal/streams/compose.js","lib/internal/streams/destroy.js","lib/internal/streams/duplex.js","lib/internal/streams/duplexify.js","lib/internal/streams/duplexpair.js","lib/internal/streams/end-of-stream.js","lib/internal/streams/from.js","lib/internal/streams/lazy_transform.js","lib/internal/streams/legacy.js","lib/internal/streams/operators.js","lib/internal/streams/passthrough.js","lib/internal/streams/pipeline.js","lib/internal/streams/readable.js","lib/internal/streams/state.js","lib/internal/streams/transform.js","lib/internal/streams/utils.js","lib/internal/streams/writable.js","lib/internal/test/binding.js","lib/internal/test/transfer.js","lib/internal/test_runner/coverage.js","lib/internal/test_runner/harness.js","lib/internal/test_runner/mock/loader.js","lib/internal/test_runner/mock/mock.js","lib/internal/test_runner/mock/mock_timers.js","lib/internal/test_runner/reporter/dot.js","lib/internal/test_runner/reporter/junit.js","lib/internal/test_runner/reporter/lcov.js","lib/internal/test_runner/reporter/spec.js","lib/internal/test_runner/reporter/tap.js","lib/internal/test_runner/reporter/utils.js","lib/internal/test_runner/reporter/v8-serializer.js","lib/internal/test_runner/runner.js","lib/internal/test_runner/test.js","lib/internal/test_runner/tests_stream.js","lib/internal/test_runner/utils.js","lib/internal/timers.js","lib/internal/tls/secure-context.js","lib/internal/tls/secure-pair.js","lib/internal/trace_events_async_hooks.js","lib/internal/tty.js","lib/internal/url.js","lib/internal/util.js","lib/internal/util/colors.js","lib/internal/util/comparisons.js","lib/internal/util/debuglog.js","lib/internal/util/embedding.js","lib/internal/util/inspect.js","lib/internal/util/inspector.js","lib/internal/util/iterable_weak_map.js","lib/internal/util/parse_args/parse_args.js","lib/internal/util/parse_args/utils.js","lib/internal/util/types.js","lib/internal/v8/startup_snapshot.js","lib/internal/v8_prof_polyfill.js","lib/internal/v8_prof_processor.js","lib/internal/validators.js","lib/internal/vm.js","lib/internal/vm/module.js","lib/internal/wasm_web_api.js","lib/internal/watch_mode/files_watcher.js","lib/internal/watchdog.js","lib/internal/webidl.js","lib/internal/webstreams/adapters.js","lib/internal/webstreams/compression.js","lib/internal/webstreams/encoding.js","lib/internal/webstreams/queuingstrategies.js","lib/internal/webstreams/readablestream.js","lib/internal/webstreams/transfer.js","lib/internal/webstreams/transformstream.js","lib/internal/webstreams/util.js","lib/internal/webstreams/writablestream.js","lib/internal/worker.js","lib/internal/worker/io.js","lib/internal/worker/js_transferable.js","lib/module.js","lib/net.js","lib/os.js","lib/path.js","lib/path/posix.js","lib/path/win32.js","lib/perf_hooks.js","lib/process.js","lib/punycode.js","lib/querystring.js","lib/readline.js","lib/readline/promises.js","lib/repl.js","lib/sea.js","lib/stream.js","lib/stream/consumers.js","lib/stream/promises.js","lib/stream/web.js","lib/string_decoder.js","lib/sys.js","lib/test.js","lib/test/reporters.js","lib/timers.js","lib/timers/promises.js","lib/tls.js","lib/trace_events.js","lib/tty.js","lib/url.js","lib/util.js","lib/util/types.js","lib/v8.js","lib/vm.js","lib/wasi.js","lib/worker_threads.js","lib/zlib.js"],node_module_version:115,node_no_browser_globals:!1,node_prefix:"/",node_release_urlbase:"https://nodejs.org/download/release/",node_section_ordering_info:"",node_shared:!1,node_shared_ada:!1,node_shared_brotli:!1,node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_nghttp2:!1,node_shared_nghttp3:!1,node_shared_ngtcp2:!1,node_shared_openssl:!1,node_shared_simdjson:!1,node_shared_simdutf:!1,node_shared_uvwasi:!1,node_shared_zlib:!1,node_tag:"",node_target_type:"executable",node_use_bundled_v8:!0,node_use_node_code_cache:!0,node_use_node_snapshot:!0,node_use_openssl:!0,node_use_v8_platform:!0,node_with_ltcg:!1,node_without_node_options:!1,node_write_snapshot_as_array_literals:!1,openssl_is_fips:!1,openssl_quic:!0,ossfuzz:!1,shlib_suffix:"so.115",single_executable_application:!0,target_arch:"x64",ubsan:0,use_prefix_to_find_headers:!1,v8_enable_31bit_smis_on_64bit_arch:0,v8_enable_extensible_ro_snapshot:0,v8_enable_gdbjit:0,v8_enable_hugepage:0,v8_enable_i18n_support:1,v8_enable_inspector:1,v8_enable_javascript_promise_hooks:1,v8_enable_lite_mode:0,v8_enable_maglev:0,v8_enable_object_print:1,v8_enable_pointer_compression:0,v8_enable_sandbox:0,v8_enable_shared_ro_heap:1,v8_enable_short_builtin_calls:1,v8_enable_v8_checks:0,v8_enable_webassembly:1,v8_no_strict_aliasing:1,v8_optimized_debug:1,v8_promise_internal_field_count:1,v8_random_seed:0,v8_trace_maps:0,v8_use_siphash:1,want_separate_host_toolset:0}},allowedNodeEnvironmentFlags:{},features:{inspector:!0,debug:!1,uv:!0,ipv6:!0,tls_alpn:!0,tls_sni:!0,tls_ocsp:!0,tls:!0,cached_builtins:!0},sourceMapsEnabled:!1,stdout:{connecting:!1,_hadError:!1,_parent:null,_host:null,_closeAfterHandlingError:!1,_events:{},_readableState:{highWaterMark:16384,buffer:[],bufferIndex:0,length:0,pipes:[],awaitDrainWriters:null,readable:!1},_writableState:{highWaterMark:16384,length:0,corked:0,writelen:0,bufferedIndex:0,pendingcb:0},allowHalfOpen:!1,_eventsCount:1,_sockname:null,_pendingData:null,_pendingEncoding:"",server:null,_server:null,_type:"pipe",fd:1,_isStdio:!0},stdin:{connecting:!1,_hadError:!1,_parent:null,_host:null,_closeAfterHandlingError:!1,_events:{},_readableState:{highWaterMark:16384,buffer:[],bufferIndex:0,length:0,pipes:[],awaitDrainWriters:null},_writableState:{highWaterMark:16384,length:0,corked:0,writelen:0,bufferedIndex:0,pendingcb:0},allowHalfOpen:!1,_eventsCount:2,_sockname:null,_pendingData:null,_pendingEncoding:"",server:null,_server:null,fd:0},stderr:{connecting:!1,_hadError:!1,_parent:null,_host:null,_closeAfterHandlingError:!1,_events:{},_readableState:{highWaterMark:16384,buffer:[],bufferIndex:0,length:0,pipes:[],awaitDrainWriters:null,readable:!1},_writableState:{highWaterMark:16384,length:0,corked:0,writelen:0,bufferedIndex:0,pendingcb:0},allowHalfOpen:!1,_eventsCount:1,_sockname:null,_pendingData:null,_pendingEncoding:"",server:null,_server:null,_type:"pipe",fd:2,_isStdio:!0},env:{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",npm_package_dependencies_juice:"^11.0.0",npm_package_devDependencies__types_node:"^22.10.2",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",npm_package_dependencies_pinia:"^2.3.0",USER:"runner",npm_package_devDependencies__types_buffer_from:"^1.1.3",npm_config_user_agent:"pnpm/9.15.2 npm/? node/v20.18.1 linux x64",CI:"true",npm_package_dependencies_vue:"^3.5.13",npm_package_devDependencies_less:"^4.2.1",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",PIPX_HOME:"/opt/pipx",npm_package_dependencies_codemirror:"^5.65.18",npm_package_dependencies_node_fetch:"^3.3.2",npm_package_devDependencies_vite:"^5.4.11",npm_node_execpath:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",npm_package_scripts_build_h5_netlify_only:"cross-env SERVER_ENV=NETLIFY vite build",npm_package_scripts_build_cli:"npm run build && npx shx rm -rf md-cli/dist && npx shx rm -rf dist/**/*.map && npx shx cp -r dist md-cli/ && cd md-cli && npm pack",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_scripts_build_h5_netlify:'run-p type-check "build:h5-netlify:only {@}" --',JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"avkiller",npm_config_auto_install_peers:"true",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",npm_package_scripts_type_check:"vue-tsc --build --force",npm_package_dependencies_tailwindcss_animate:"^1.0.7",npm_package_dependencies_tiny_oss:"^0.5.1",npm_package_devDependencies_vite_plugin_cdn_import:"^1.0.1",GITHUB_REPOSITORY_OWNER_ID:"4780139",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_class_variance_authority:"^0.7.1",npm_package_dependencies_radix_vue:"^1.9.11",SYSTEMD_EXEC_PID:"604",npm_package_scripts_postinstall:"simple-git-hooks",npm_package_dependencies_es_toolkit:"^1.31.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_dependencies_mermaid:"^11.4.1",npm_package_dependencies_minio:"7.1.3",npm_package_devDependencies_tailwindcss:"^3.4.17",npm_package_devDependencies_typescript:"~5.6.3",NVM_DIR:"/home/runner/.nvm",npm_package_dependencies_buffer_from:"^1.1.2",npm_package_devDependencies_vue_tsc:"^2.2.0",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",npm_package_scripts_dev:"vite --host",npm_package_devDependencies_prettier:"3.3.3",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_type:"module",npm_package_dependencies__vueuse_core:"^12.2.0",npm_package_devDependencies_vite_plugin_vue_devtools:"^7.6.8",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:1858",GITHUB_WORKFLOW:"Build and Deploy",_:"/opt/hostedtoolcache/node/20.18.1/x64/bin/pnpm",npm_package_private:"false",npm_package_dependencies_cos_js_sdk_v5:"^1.8.7",npm_package_devDependencies_autoprefixer:"^10.4.20",npm_package_devDependencies_vite_plugin_node_polyfills:"^0.22.0",npm_package_scripts_lint:"eslint . --fix",npm_package_dependencies_csstype:"^3.1.3",npm_package_devDependencies__types_uuid:"^10.0.0",npm_config_registry:"https://registry.npmjs.org/",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12533979606",STATS_VMFE:"true",npm_package_dependencies_core_js:"^3.39.0",npm_package_dependencies_vue_sonner:"^1.3.0",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"9ee3a086572c8bfec8ab9c0c7337ce1db80ef261",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",npm_package_scripts_start:"npm run dev",npm_package_dependencies_tailwind_merge:"^2.6.0",npm_package_devDependencies__vitejs_plugin_vue:"^5.2.1",STATS_BLT:"true",GITHUB_WORKFLOW_REF:"avkiller/md/.github/workflows/build.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_package_scripts_release_cli:"node ./scripts/release.js",npm_package_dependencies_axios:"^1.7.9",npm_package_devDependencies_shx:"^0.3.4",npm_config_node_gyp:"/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/md/md/node_modules/.bin:/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/dist/node-gyp-bin:/home/runner/work/md/md/node_modules/.bin:/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/dist/node-gyp-bin:/opt/hostedtoolcache/node/20.18.1/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_82261739-1651-4b39-a16f-6cc206000969",INVOCATION_ID:"6cc6dfea13ff46bc8c7ed99c45425310",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",npm_package_name:"md",npm_package_scripts_build_analyze:"cross-env ANALYZE=true vite build",npm_package_devDependencies__types_crypto_js:"^4.2.2",SERVER_ENV:"NETLIFY",GITHUB_ACTION:"__run_3",GITHUB_RUN_NUMBER:"24",GITHUB_TRIGGERING_ACTOR:"avkiller",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies_lucide_vue_next:"^0.462.0",npm_package_dependencies_marked:"^15.0.4",npm_config_frozen_lockfile:"",npm_package_dependencies_form_data:"4.0.1",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^9.17.0",npm_package_lint_staged__:"npm run lint",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 17",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"avkiller/md",STATS_D_D:"true",npm_package_simple_git_hooks_pre_commit:"npx lint-staged",npm_lifecycle_script:"cross-env SERVER_ENV=NETLIFY vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_dependencies_qiniu_js:"^3.4.2",npm_package_dependencies_vue_pick_colors:"^1.7.8",GITHUB_REPOSITORY_ID:"869281573",GITHUB_ACTIONS:"true",STATS_PIP:"false",NODE_PATH:"/home/runner/work/md/md/node_modules/.pnpm/vite@5.4.11_@types+node@22.10.2_less@4.2.1/node_modules/vite/bin/node_modules:/home/runner/work/md/md/node_modules/.pnpm/vite@5.4.11_@types+node@22.10.2_less@4.2.1/node_modules/vite/node_modules:/home/runner/work/md/md/node_modules/.pnpm/vite@5.4.11_@types+node@22.10.2_less@4.2.1/node_modules:/home/runner/work/md/md/node_modules/.pnpm/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/src/bin/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/src/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules:/home/runner/work/md/md/node_modules/.pnpm/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules/npm-run-all/bin/run-p/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules/npm-run-all/bin/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules/npm-run-all/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules:/home/runner/work/md/md/node_modules/.pnpm/node_modules",npm_package_version:"1.6.0",npm_package_scripts_build_only:"vite build",npm_lifecycle_event:"build:h5-netlify:only",GITHUB_REF_PROTECTED:"false",npm_package_scripts_build:'run-p type-check "build:only {@}" --',npm_package_dependencies_uuid:"^11.0.3",npm_package_devDependencies_simple_git_hooks:"^2.11.1",npm_package_devDependencies_unplugin_auto_import:"^0.18.6",npm_config_strict_peer_dependencies:"",GITHUB_WORKSPACE:"/home/runner/work/md/md",ACCEPT_EULA:"Y",GITHUB_JOB:"build-and-deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"9ee3a086572c8bfec8ab9c0c7337ce1db80ef261",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"avkiller",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_dependencies_clsx:"^2.1.1",LEIN_HOME:"/usr/local/lib/lein",npm_package_dependencies_crypto_js:"^4.2.0",npm_package_devDependencies__types_codemirror:"^5.60.15",npm_package_devDependencies__unocss_eslint_plugin:"^0.64.1",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/md/md",GITHUB_ACTOR_ID:"4780139",RUNNER_WORKSPACE:"/home/runner/work/md",npm_execpath:"/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/bin/pnpm.cjs",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",PNPM_SCRIPT_SRC_DIR:"/home/runner/work/md/md",npm_package_devDependencies_cross_env:"^7.0.3",npm_package_devDependencies_postcss:"^8.4.49",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"npm run build && vite preview",npm_package_devDependencies_eslint_plugin_format:"^0.1.3",npm_package_devDependencies_rollup_plugin_visualizer:"^5.13.1",npm_package_devDependencies_unocss:"^0.64.1",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",npm_package_devDependencies_npm_run_all:"^4.1.5",npm_config_shamefully_hoist:"true",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",INIT_CWD:"/home/runner/work/md/md",npm_package_dependencies_highlight_js:"^11.11.1",npm_package_devDependencies__antfu_eslint_config:"3.11.0",npm_package_devDependencies_unplugin_vue_components:"^0.27.5",NODE_ENV:"production",LAUNCH_EDITOR:"code"},title:"node",argv:["/opt/hostedtoolcache/node/20.18.1/x64/bin/node","/home/runner/work/md/md/node_modules/vite/bin/vite.js","build"],execArgv:[],pid:2068,ppid:2050,execPath:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",debugPort:9229,argv0:"node",_preload_modules:[],report:{directory:"",filename:"",compact:!1,excludeNetwork:!1,signal:"SIGUSR2",reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1}};t.exports=r;function r(i){return s.bind(null,i)}function s(i){var a=[].slice.call(arguments,1);a.unshift("["+i+"]"),n.stderr.write(a.join(" ")+`
`)}})(mu);var ta=mu.exports;(function(t,e){ta("lex"),t.exports=n;function n(r){var s="",i,a=0,l=-1,c=0,u=1,d="before-selector",f=[d],p={},E=[],A=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function b(){return z(),r[l]}function y(I){return I?f[f.length-1-I]:d}function R(I){var x=l+1;return I===r.slice(x,x+I.length)}function B(I){var x=r.slice(l).indexOf(I);return x>0?x:!1}function M(I){return I===S(1)}function S(I){return r[l+(I||1)]}function C(){var I=f.pop();return d=f[f.length-1],I}function U(I){return d=I,f.push(d),f.length}function G(I){var x=d;return f[f.length-1]=d=I,x}function z(I){if((I||1)==1)r[l]==`
`?(u++,a=1):a++,l++;else{var x=r.slice(l,l+I).split(`
`);x.length>1&&(u+=x.length-1,a=1),a+=x[x.length-1].length,l=l+I}}function X(){p.end={line:u,col:a},E.push(p),s="",p={}}function V(I){p={type:I,start:{line:u,col:a}}}for(;i=b();)switch(i){case" ":switch(y()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":s+=i;break}break;case`
`:case"	":case"\r":case"\f":switch(y()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":s+=i;break;case"at-value":i===`
`&&(p.value=s.trim(),X(),C());break}break;case":":switch(y()){case"name":p.name=s.trim(),s="",G("before-value");break;case"before-selector":s+=i,V("selector"),U("selector");break;case"before-value":G("value"),s+=i;break;default:s+=i;break}break;case";":switch(y()){case"name":case"before-value":case"value":s.trim().length>0&&(p.value=s.trim(),X()),G("before-name");break;case"value-paren":s+=i;break;case"at-value":p.value=s.trim(),X(),C();break;case"before-name":break;default:s+=i;break}break;case"{":switch(y()){case"selector":if(S(-1)==="\\"){s+=i;break}p.text=s.trim(),X(),G("before-name"),c=c+1;break;case"at-group":switch(p.name=s.trim(),p.type){case"font-face":case"viewport":case"page":U("before-name");break;default:U("before-selector")}X(),c=c+1;break;case"name":case"at-rule":p.name=s.trim(),X(),U("before-name"),c=c+1;break;case"comment":case"double-string":case"single-string":s+=i;break;case"before-value":G("value"),s+=i;break}break;case"}":switch(y()){case"before-name":case"name":case"before-value":case"value":s&&(p.value=s.trim()),p.name&&p.value&&X(),V("end"),X(),C(),y()==="at-group"&&(V("at-group-end"),X(),C()),c>0&&(c=c-1);break;case"at-group":case"before-selector":case"selector":if(S(-1)==="\\"){s+=i;break}c>0&&y(1)==="at-group"&&(V("at-group-end"),X()),c>1&&C(),c>0&&(c=c-1);break;case"double-string":case"single-string":case"comment":s+=i;break}break;case'"':case"'":switch(y()){case"double-string":i==='"'&&S(-1)!=="\\"&&C();break;case"single-string":i==="'"&&S(-1)!=="\\"&&C();break;case"before-at-value":G("at-value"),U(i==='"'?"double-string":"single-string");break;case"before-value":G("value"),U(i==='"'?"double-string":"single-string");break;case"comment":break;default:S(-1)!=="\\"&&U(i==='"'?"double-string":"single-string")}s+=i;break;case"/":switch(y()){case"comment":case"double-string":case"single-string":s+=i;break;case"before-value":case"selector":case"name":case"value":if(M("*")){var P=B("*/");P&&z(P+1)}else y()=="before-value"&&G("value"),s+=i;break;default:M("*")?(V("comment"),U("comment"),z()):s+=i;break}break;case"*":switch(y()){case"comment":M("/")?(p.text=s,z(),X(),C()):s+=i;break;case"before-selector":s+=i,V("selector"),U("selector");break;case"before-value":G("value"),s+=i;break;default:s+=i}break;case"@":switch(y()){case"comment":case"double-string":case"single-string":s+=i;break;case"before-value":G("value"),s+=i;break;default:for(var D=!1,F,v,k=0,O=A.length;!D&&k<O;++k)v=A[k],F=v.name||v,R(F)&&(D=!0,V(F),U(v.state||"at-group"),z(F.length),v.prefix&&(p.prefix=v.prefix),v.type&&(p.type=v.type));D||(s+=i);break}break;case"(":switch(y()){case"value":U("value-paren");break;case"before-value":G("value");break}s+=i;break;case")":switch(y()){case"value-paren":C();break;case"before-value":G("value");break}s+=i;break;default:switch(y()){case"before-selector":V("selector"),U("selector");break;case"before-name":V("property"),G("name");break;case"before-value":G("value");break;case"before-at-value":G("at-value");break}s+=i;break}return E}})(fu);var pu=fu.exports,_u={exports:{}};(function(t,e){ta("parse");var n=pu;t.exports=l;var r,s,i,a;function l(C,U){U||(U={}),r=!!U.comments,i=!!U.position,s=0,a=Array.isArray(C)?C.slice():n(C);for(var G,z=[],X;X=u();)G=R(X),G&&z.push(G);return{type:"stylesheet",stylesheet:{rules:z}}}function c(C,U){U||(U={});for(var G,z=["type","name","value"],X={},V=0;V<z.length;++V)G=z[V],C[G]&&(X[G]=U[G]||C[G]);for(z=Object.keys(U),V=0;V<z.length;++V)G=z[V],X[G]||(X[G]=U[G]);return i&&(X.position={start:C.start,end:C.end}),X}function u(){var C=a.shift();return C}function d(C){s=s+1;var U={};switch(C.type){case"font-face":case"viewport":U.declarations=M();break;case"page":U.prefix=C.prefix,U.declarations=M();break;default:U.prefix=C.prefix,U.rules=S()}return c(C,U)}function f(C){return c(C)}function p(C){return c(C)}function E(C){return c(C,{text:C.text})}function A(C){return c(C)}function b(C){return c(C)}function y(C){function U(G){return G.trim()}return c(C,{type:"rule",selectors:C.text.split(",").map(U),declarations:M()})}function R(C){switch(C.type){case"property":return b(C);case"selector":return y(C);case"at-group-end":s=s-1;return;case"media":case"keyframes":return d(C);case"comment":if(r)return E(C);break;case"charset":return p(C);case"import":return f(C);case"namespace":return A(C);case"font-face":case"supports":case"viewport":case"document":case"page":return d(C)}}function B(C){for(var U,G=[],z;(z=u())&&C&&C(z);)U=R(z),U&&G.push(U);return z&&z.type!=="end"&&a.unshift(z),G}function M(){return B(function(C){return C.type==="property"||C.type==="comment"})}function S(){return B(function(){return s})}})(_u);var t_=_u.exports,Eu={exports:{}};(function(t,e){ta("stringify");var n,r,s,i,a,l;t.exports=c;function c(S,C){C||(C={}),s=C.indentation||"",r=!!C.compress,n=!!C.comments,i=1,r?a=l="":(a=`
`,l=" ");var U=A(S.stylesheet.rules,B).join(`
`).trim();return U}function u(S){if(S){i+=S;return}return r?"":Array(i).join(s||"")}function d(S){return"@"+S.type+" "+S.value+";"+a}function f(S){var C="",U=S.prefix||"";S.name&&(C=" "+S.name);var G=S.type!=="page";return"@"+U+S.type+C+l+b(S,G)+a}function p(S){return n?"/*"+(S.text||"")+"*/"+a:""}function E(S){var C;return S.selectors?C=S.selectors.join(","+a):(C="@"+S.type,C+=S.name?" "+S.name:""),u()+C+l+b(S)+a}function A(S,C){return S.reduce(function(U,G){var z=G.type==="comment"?p(G):C(G);return z&&U.push(z),U},[])}function b(S,C){var U=S.declarations,G=R;return S.rules&&(U=S.rules,G=E),U=y(U,G),U&&(U=a+U+(C?"":a)),"{"+U+u()+"}"}function y(S,C){if(!S)return"";u(1);var U=A(S,C);return u(-1),U.length?U.join(a):""}function R(S){if(S.type==="property")return M(S)}function B(S){switch(S.type){case"rule":return E(S);case"media":case"keyframes":return f(S);case"comment":return p(S);case"import":case"charset":case"namespace":return d(S);case"font-face":case"supports":case"viewport":case"document":case"page":return f(S)}}function M(S){var C=S.name?S.name+":"+l:"";return u()+C+S.value+";"}})(Eu);var n_=Eu.exports,xO={lex:pu,parse:t_,stringify:n_},gu={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Tf,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",d="week",f="month",p="quarter",E="year",A="date",b="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var k=["th","st","nd","rd"],O=v%100;return"["+v+(k[(O-20)%10]||k[O]||k[0])+"]"}},M=function(v,k,O){var I=String(v);return!I||I.length>=k?v:""+Array(k+1-I.length).join(O)+v},S={s:M,z:function(v){var k=-v.utcOffset(),O=Math.abs(k),I=Math.floor(O/60),x=O%60;return(k<=0?"+":"-")+M(I,2,"0")+":"+M(x,2,"0")},m:function v(k,O){if(k.date()<O.date())return-v(O,k);var I=12*(O.year()-k.year())+(O.month()-k.month()),x=k.clone().add(I,f),$=O-x<0,H=k.clone().add(I+($?-1:1),f);return+(-(I+(O-x)/($?x-H:H-x))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:f,y:E,w:d,d:u,D:A,h:c,m:l,s:a,ms:i,Q:p}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},C="en",U={};U[C]=B;var G="$isDayjsObject",z=function(v){return v instanceof D||!(!v||!v[G])},X=function v(k,O,I){var x;if(!k)return C;if(typeof k=="string"){var $=k.toLowerCase();U[$]&&(x=$),O&&(U[$]=O,x=$);var H=k.split("-");if(!x&&H.length>1)return v(H[0])}else{var q=k.name;U[q]=k,x=q}return!I&&x&&(C=x),x||!I&&C},V=function(v,k){if(z(v))return v.clone();var O=typeof k=="object"?k:{};return O.date=v,O.args=arguments,new D(O)},P=S;P.l=X,P.i=z,P.w=function(v,k){return V(v,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var D=function(){function v(O){this.$L=X(O.locale,null,!0),this.parse(O),this.$x=this.$x||O.x||{},this[G]=!0}var k=v.prototype;return k.parse=function(O){this.$d=function(I){var x=I.date,$=I.utc;if(x===null)return new Date(NaN);if(P.u(x))return new Date;if(x instanceof Date)return new Date(x);if(typeof x=="string"&&!/Z$/i.test(x)){var H=x.match(y);if(H){var q=H[2]-1||0,ue=(H[7]||"0").substring(0,3);return $?new Date(Date.UTC(H[1],q,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ue)):new Date(H[1],q,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ue)}}return new Date(x)}(O),this.init()},k.init=function(){var O=this.$d;this.$y=O.getFullYear(),this.$M=O.getMonth(),this.$D=O.getDate(),this.$W=O.getDay(),this.$H=O.getHours(),this.$m=O.getMinutes(),this.$s=O.getSeconds(),this.$ms=O.getMilliseconds()},k.$utils=function(){return P},k.isValid=function(){return this.$d.toString()!==b},k.isSame=function(O,I){var x=V(O);return this.startOf(I)<=x&&x<=this.endOf(I)},k.isAfter=function(O,I){return V(O)<this.startOf(I)},k.isBefore=function(O,I){return this.endOf(I)<V(O)},k.$g=function(O,I,x){return P.u(O)?this[I]:this.set(x,O)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(O,I){var x=this,$=!!P.u(I)||I,H=P.p(O),q=function(_e,oe){var Ie=P.w(x.$u?Date.UTC(x.$y,oe,_e):new Date(x.$y,oe,_e),x);return $?Ie:Ie.endOf(u)},ue=function(_e,oe){return P.w(x.toDate()[_e].apply(x.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(oe)),x)},pe=this.$W,ne=this.$M,Me=this.$D,de="set"+(this.$u?"UTC":"");switch(H){case E:return $?q(1,0):q(31,11);case f:return $?q(1,ne):q(0,ne+1);case d:var Ee=this.$locale().weekStart||0,et=(pe<Ee?pe+7:pe)-Ee;return q($?Me-et:Me+(6-et),ne);case u:case A:return ue(de+"Hours",0);case c:return ue(de+"Minutes",1);case l:return ue(de+"Seconds",2);case a:return ue(de+"Milliseconds",3);default:return this.clone()}},k.endOf=function(O){return this.startOf(O,!1)},k.$set=function(O,I){var x,$=P.p(O),H="set"+(this.$u?"UTC":""),q=(x={},x[u]=H+"Date",x[A]=H+"Date",x[f]=H+"Month",x[E]=H+"FullYear",x[c]=H+"Hours",x[l]=H+"Minutes",x[a]=H+"Seconds",x[i]=H+"Milliseconds",x)[$],ue=$===u?this.$D+(I-this.$W):I;if($===f||$===E){var pe=this.clone().set(A,1);pe.$d[q](ue),pe.init(),this.$d=pe.set(A,Math.min(this.$D,pe.daysInMonth())).$d}else q&&this.$d[q](ue);return this.init(),this},k.set=function(O,I){return this.clone().$set(O,I)},k.get=function(O){return this[P.p(O)]()},k.add=function(O,I){var x,$=this;O=Number(O);var H=P.p(I),q=function(ne){var Me=V($);return P.w(Me.date(Me.date()+Math.round(ne*O)),$)};if(H===f)return this.set(f,this.$M+O);if(H===E)return this.set(E,this.$y+O);if(H===u)return q(1);if(H===d)return q(7);var ue=(x={},x[l]=r,x[c]=s,x[a]=n,x)[H]||1,pe=this.$d.getTime()+O*ue;return P.w(pe,this)},k.subtract=function(O,I){return this.add(-1*O,I)},k.format=function(O){var I=this,x=this.$locale();if(!this.isValid())return x.invalidDate||b;var $=O||"YYYY-MM-DDTHH:mm:ssZ",H=P.z(this),q=this.$H,ue=this.$m,pe=this.$M,ne=x.weekdays,Me=x.months,de=x.meridiem,Ee=function(oe,Ie,Pe,tt){return oe&&(oe[Ie]||oe(I,$))||Pe[Ie].slice(0,tt)},et=function(oe){return P.s(q%12||12,oe,"0")},_e=de||function(oe,Ie,Pe){var tt=oe<12?"AM":"PM";return Pe?tt.toLowerCase():tt};return $.replace(R,function(oe,Ie){return Ie||function(Pe){switch(Pe){case"YY":return String(I.$y).slice(-2);case"YYYY":return P.s(I.$y,4,"0");case"M":return pe+1;case"MM":return P.s(pe+1,2,"0");case"MMM":return Ee(x.monthsShort,pe,Me,3);case"MMMM":return Ee(Me,pe);case"D":return I.$D;case"DD":return P.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return Ee(x.weekdaysMin,I.$W,ne,2);case"ddd":return Ee(x.weekdaysShort,I.$W,ne,3);case"dddd":return ne[I.$W];case"H":return String(q);case"HH":return P.s(q,2,"0");case"h":return et(1);case"hh":return et(2);case"a":return _e(q,ue,!0);case"A":return _e(q,ue,!1);case"m":return String(ue);case"mm":return P.s(ue,2,"0");case"s":return String(I.$s);case"ss":return P.s(I.$s,2,"0");case"SSS":return P.s(I.$ms,3,"0");case"Z":return H}return null}(oe)||H.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(O,I,x){var $,H=this,q=P.p(I),ue=V(O),pe=(ue.utcOffset()-this.utcOffset())*r,ne=this-ue,Me=function(){return P.m(H,ue)};switch(q){case E:$=Me()/12;break;case f:$=Me();break;case p:$=Me()/3;break;case d:$=(ne-pe)/6048e5;break;case u:$=(ne-pe)/864e5;break;case c:$=ne/s;break;case l:$=ne/r;break;case a:$=ne/n;break;default:$=ne}return x?$:P.a($)},k.daysInMonth=function(){return this.endOf(f).$D},k.$locale=function(){return U[this.$L]},k.locale=function(O,I){if(!O)return this.$L;var x=this.clone(),$=X(O,I,!0);return $&&(x.$L=$),x},k.clone=function(){return P.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},v}(),F=D.prototype;return V.prototype=F,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",E],["$D",A]].forEach(function(v){F[v[1]]=function(k){return this.$g(k,v[0],v[1])}}),V.extend=function(v,k){return v.$i||(v(k,D,V),v.$i=!0),V},V.locale=X,V.isDayjs=z,V.unix=function(v){return V(1e3*v)},V.en=U[C],V.Ls=U,V.p={},V})})(gu);var r_=gu.exports;const BO=Af(r_);var Tu=typeof gr=="object"&&gr&&gr.Object===Object&&gr,s_=typeof self=="object"&&self&&self.Object===Object&&self,gt=Tu||s_||Function("return this")(),it=gt.Symbol,Au=Object.prototype,i_=Au.hasOwnProperty,a_=Au.toString,Dn=it?it.toStringTag:void 0;function o_(t){var e=i_.call(t,Dn),n=t[Dn];try{t[Dn]=void 0;var r=!0}catch{}var s=a_.call(t);return r&&(e?t[Dn]=n:delete t[Dn]),s}var l_=Object.prototype,c_=l_.toString;function u_(t){return c_.call(t)}var d_="[object Null]",h_="[object Undefined]",io=it?it.toStringTag:void 0;function Lt(t){return t==null?t===void 0?h_:d_:io&&io in Object(t)?o_(t):u_(t)}function He(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var f_="[object AsyncFunction]",m_="[object Function]",p_="[object GeneratorFunction]",__="[object Proxy]";function Tt(t){if(!He(t))return!1;var e=Lt(t);return e==m_||e==p_||e==f_||e==__}var Hs=gt["__core-js_shared__"],ao=function(){var t=/[^.]+$/.exec(Hs&&Hs.keys&&Hs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function E_(t){return!!ao&&ao in t}var g_=Function.prototype,T_=g_.toString;function tn(t){if(t!=null){try{return T_.call(t)}catch{}try{return t+""}catch{}}return""}var A_=/[\\^$.*+?()[\]{}|]/g,N_=/^\[object .+?Constructor\]$/,b_=Function.prototype,I_=Object.prototype,R_=b_.toString,S_=I_.hasOwnProperty,v_=RegExp("^"+R_.call(S_).replace(A_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O_(t){if(!He(t)||E_(t))return!1;var e=Tt(t)?v_:N_;return e.test(tn(t))}function C_(t,e){return t==null?void 0:t[e]}function nn(t,e){var n=C_(t,e);return O_(n)?n:void 0}var Qn=nn(Object,"create");function y_(){this.__data__=Qn?Qn(null):{},this.size=0}function L_(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var k_="__lodash_hash_undefined__",M_=Object.prototype,P_=M_.hasOwnProperty;function D_(t){var e=this.__data__;if(Qn){var n=e[t];return n===k_?void 0:n}return P_.call(e,t)?e[t]:void 0}var w_=Object.prototype,x_=w_.hasOwnProperty;function B_(t){var e=this.__data__;return Qn?e[t]!==void 0:x_.call(e,t)}var U_="__lodash_hash_undefined__";function F_(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qn&&e===void 0?U_:e,this}function Kt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kt.prototype.clear=y_;Kt.prototype.delete=L_;Kt.prototype.get=D_;Kt.prototype.has=B_;Kt.prototype.set=F_;function j_(){this.__data__=[],this.size=0}function vn(t,e){return t===e||t!==t&&e!==e}function ms(t,e){for(var n=t.length;n--;)if(vn(t[n][0],e))return n;return-1}var H_=Array.prototype,$_=H_.splice;function G_(t){var e=this.__data__,n=ms(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$_.call(e,n,1),--this.size,!0}function Y_(t){var e=this.__data__,n=ms(e,t);return n<0?void 0:e[n][1]}function W_(t){return ms(this.__data__,t)>-1}function V_(t,e){var n=this.__data__,r=ms(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function kt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kt.prototype.clear=j_;kt.prototype.delete=G_;kt.prototype.get=Y_;kt.prototype.has=W_;kt.prototype.set=V_;var qn=nn(gt,"Map");function K_(){this.size=0,this.__data__={hash:new Kt,map:new(qn||kt),string:new Kt}}function z_(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ps(t,e){var n=t.__data__;return z_(e)?n[typeof e=="string"?"string":"hash"]:n.map}function X_(t){var e=ps(this,t).delete(t);return this.size-=e?1:0,e}function Q_(t){return ps(this,t).get(t)}function q_(t){return ps(this,t).has(t)}function J_(t,e){var n=ps(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Mt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mt.prototype.clear=K_;Mt.prototype.delete=X_;Mt.prototype.get=Q_;Mt.prototype.has=q_;Mt.prototype.set=J_;var Z_="Expected a function";function na(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Z_);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(na.Cache||Mt),n}na.Cache=Mt;function eE(){this.__data__=new kt,this.size=0}function tE(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function nE(t){return this.__data__.get(t)}function rE(t){return this.__data__.has(t)}var sE=200;function iE(t,e){var n=this.__data__;if(n instanceof kt){var r=n.__data__;if(!qn||r.length<sE-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mt(r)}return n.set(t,e),this.size=n.size,this}function lt(t){var e=this.__data__=new kt(t);this.size=e.size}lt.prototype.clear=eE;lt.prototype.delete=tE;lt.prototype.get=nE;lt.prototype.has=rE;lt.prototype.set=iE;var xr=function(){try{var t=nn(Object,"defineProperty");return t({},"",{}),t}catch{}}();function sr(t,e,n){e=="__proto__"&&xr?xr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function li(t,e,n){(n!==void 0&&!vn(t[e],n)||n===void 0&&!(e in t))&&sr(t,e,n)}function aE(t){return function(e,n,r){for(var s=-1,i=Object(e),a=r(e),l=a.length;l--;){var c=a[++s];if(n(i[c],c,i)===!1)break}return e}}var ra=aE(),Nu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oo=Nu&&typeof module=="object"&&module&&!module.nodeType&&module,oE=oo&&oo.exports===Nu,lo=oE?gt.Buffer:void 0,co=lo?lo.allocUnsafe:void 0;function bu(t,e){if(e)return t.slice();var n=t.length,r=co?co(n):new t.constructor(n);return t.copy(r),r}var Br=gt.Uint8Array;function sa(t){var e=new t.constructor(t.byteLength);return new Br(e).set(new Br(t)),e}function Iu(t,e){var n=e?sa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ru(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var uo=Object.create,lE=function(){function t(){}return function(e){if(!He(e))return{};if(uo)return uo(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Su(t,e){return function(n){return t(e(n))}}var ia=Su(Object.getPrototypeOf,Object),cE=Object.prototype;function ir(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cE;return t===n}function vu(t){return typeof t.constructor=="function"&&!ir(t)?lE(ia(t)):{}}function at(t){return t!=null&&typeof t=="object"}var uE="[object Arguments]";function ho(t){return at(t)&&Lt(t)==uE}var Ou=Object.prototype,dE=Ou.hasOwnProperty,hE=Ou.propertyIsEnumerable,mn=ho(function(){return arguments}())?ho:function(t){return at(t)&&dE.call(t,"callee")&&!hE.call(t,"callee")},Q=Array.isArray,fE=9007199254740991;function aa(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fE}function At(t){return t!=null&&aa(t.length)&&!Tt(t)}function Ur(t){return at(t)&&At(t)}function mE(){return!1}var Cu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fo=Cu&&typeof module=="object"&&module&&!module.nodeType&&module,pE=fo&&fo.exports===Cu,mo=pE?gt.Buffer:void 0,_E=mo?mo.isBuffer:void 0,pn=_E||mE,EE="[object Object]",gE=Function.prototype,TE=Object.prototype,yu=gE.toString,AE=TE.hasOwnProperty,NE=yu.call(Object);function bE(t){if(!at(t)||Lt(t)!=EE)return!1;var e=ia(t);if(e===null)return!0;var n=AE.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yu.call(n)==NE}var IE="[object Arguments]",RE="[object Array]",SE="[object Boolean]",vE="[object Date]",OE="[object Error]",CE="[object Function]",yE="[object Map]",LE="[object Number]",kE="[object Object]",ME="[object RegExp]",PE="[object Set]",DE="[object String]",wE="[object WeakMap]",xE="[object ArrayBuffer]",BE="[object DataView]",UE="[object Float32Array]",FE="[object Float64Array]",jE="[object Int8Array]",HE="[object Int16Array]",$E="[object Int32Array]",GE="[object Uint8Array]",YE="[object Uint8ClampedArray]",WE="[object Uint16Array]",VE="[object Uint32Array]",ie={};ie[UE]=ie[FE]=ie[jE]=ie[HE]=ie[$E]=ie[GE]=ie[YE]=ie[WE]=ie[VE]=!0;ie[IE]=ie[RE]=ie[xE]=ie[SE]=ie[BE]=ie[vE]=ie[OE]=ie[CE]=ie[yE]=ie[LE]=ie[kE]=ie[ME]=ie[PE]=ie[DE]=ie[wE]=!1;function KE(t){return at(t)&&aa(t.length)&&!!ie[Lt(t)]}function ar(t){return function(e){return t(e)}}var Lu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Kn=Lu&&typeof module=="object"&&module&&!module.nodeType&&module,zE=Kn&&Kn.exports===Lu,$s=zE&&Tu.process,Bt=function(){try{var t=Kn&&Kn.require&&Kn.require("util").types;return t||$s&&$s.binding&&$s.binding("util")}catch{}}(),po=Bt&&Bt.isTypedArray,_s=po?ar(po):KE;function ci(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var XE=Object.prototype,QE=XE.hasOwnProperty;function or(t,e,n){var r=t[e];(!(QE.call(t,e)&&vn(r,n))||n===void 0&&!(e in t))&&sr(t,e,n)}function On(t,e,n,r){var s=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],c=void 0;c===void 0&&(c=t[l]),s?sr(n,l,c):or(n,l,c)}return n}function qE(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var JE=9007199254740991,ZE=/^(?:0|[1-9]\d*)$/;function Es(t,e){var n=typeof t;return e=e??JE,!!e&&(n=="number"||n!="symbol"&&ZE.test(t))&&t>-1&&t%1==0&&t<e}var eg=Object.prototype,tg=eg.hasOwnProperty;function ku(t,e){var n=Q(t),r=!n&&mn(t),s=!n&&!r&&pn(t),i=!n&&!r&&!s&&_s(t),a=n||r||s||i,l=a?qE(t.length,String):[],c=l.length;for(var u in t)(e||tg.call(t,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Es(u,c)))&&l.push(u);return l}function ng(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var rg=Object.prototype,sg=rg.hasOwnProperty;function ig(t){if(!He(t))return ng(t);var e=ir(t),n=[];for(var r in t)r=="constructor"&&(e||!sg.call(t,r))||n.push(r);return n}function rn(t){return At(t)?ku(t,!0):ig(t)}function ag(t){return On(t,rn(t))}function og(t,e,n,r,s,i,a){var l=ci(t,n),c=ci(e,n),u=a.get(c);if(u){li(t,n,u);return}var d=i?i(l,c,n+"",t,e,a):void 0,f=d===void 0;if(f){var p=Q(c),E=!p&&pn(c),A=!p&&!E&&_s(c);d=c,p||E||A?Q(l)?d=l:Ur(l)?d=Ru(l):E?(f=!1,d=bu(c,!0)):A?(f=!1,d=Iu(c,!0)):d=[]:bE(c)||mn(c)?(d=l,mn(l)?d=ag(l):(!He(l)||Tt(l))&&(d=vu(c))):f=!1}f&&(a.set(c,d),s(d,c,r,i,a),a.delete(c)),li(t,n,d)}function Mu(t,e,n,r,s){t!==e&&ra(e,function(i,a){if(s||(s=new lt),He(i))og(t,e,a,n,Mu,r,s);else{var l=r?r(ci(t,a),i,a+"",t,e,s):void 0;l===void 0&&(l=i),li(t,a,l)}},rn)}function vt(t){return t}function lg(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _o=Math.max;function Pu(t,e,n){return e=_o(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=_o(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(a),lg(t,this,l)}}function cg(t){return function(){return t}}var ug=xr?function(t,e){return xr(t,"toString",{configurable:!0,enumerable:!1,value:cg(e),writable:!0})}:vt,dg=800,hg=16,fg=Date.now;function mg(t){var e=0,n=0;return function(){var r=fg(),s=hg-(r-n);if(n=r,s>0){if(++e>=dg)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Du=mg(ug);function lr(t,e){return Du(Pu(t,e,vt),t+"")}function Jn(t,e,n){if(!He(n))return!1;var r=typeof e;return(r=="number"?At(n)&&Es(e,n.length):r=="string"&&e in n)?vn(n[e],t):!1}function wu(t){return lr(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,a&&Jn(n[0],n[1],a)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var l=n[r];l&&t(e,l,r,i)}return e})}var UO=wu(function(t,e,n){Mu(t,e,n)}),pg=Su(Object.keys,Object),_g=Object.prototype,Eg=_g.hasOwnProperty;function xu(t){if(!ir(t))return pg(t);var e=[];for(var n in Object(t))Eg.call(t,n)&&n!="constructor"&&e.push(n);return e}var ui=nn(gt,"DataView"),di=nn(gt,"Promise"),un=nn(gt,"Set"),hi=nn(gt,"WeakMap"),Eo="[object Map]",gg="[object Object]",go="[object Promise]",To="[object Set]",Ao="[object WeakMap]",No="[object DataView]",Tg=tn(ui),Ag=tn(qn),Ng=tn(di),bg=tn(un),Ig=tn(hi),rt=Lt;(ui&&rt(new ui(new ArrayBuffer(1)))!=No||qn&&rt(new qn)!=Eo||di&&rt(di.resolve())!=go||un&&rt(new un)!=To||hi&&rt(new hi)!=Ao)&&(rt=function(t){var e=Lt(t),n=e==gg?t.constructor:void 0,r=n?tn(n):"";if(r)switch(r){case Tg:return No;case Ag:return Eo;case Ng:return go;case bg:return To;case Ig:return Ao}return e});var Rg="[object Map]",Sg="[object Set]",vg=Object.prototype,Og=vg.hasOwnProperty;function re(t){if(t==null)return!0;if(At(t)&&(Q(t)||typeof t=="string"||typeof t.splice=="function"||pn(t)||_s(t)||mn(t)))return!t.length;var e=rt(t);if(e==Rg||e==Sg)return!t.size;if(ir(t))return!xu(t).length;for(var n in t)if(Og.call(t,n))return!1;return!0}var Cg="[object Symbol]";function zt(t){return typeof t=="symbol"||at(t)&&Lt(t)==Cg}function Vt(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var yg=1/0,bo=it?it.prototype:void 0,Io=bo?bo.toString:void 0;function Bu(t){if(typeof t=="string")return t;if(Q(t))return Vt(t,Bu)+"";if(zt(t))return Io?Io.call(t):"";var e=t+"";return e=="0"&&1/t==-yg?"-0":e}var Lg=/\s/;function kg(t){for(var e=t.length;e--&&Lg.test(t.charAt(e)););return e}var Mg=/^\s+/;function Pg(t){return t&&t.slice(0,kg(t)+1).replace(Mg,"")}var Ro=NaN,Dg=/^[-+]0x[0-9a-f]+$/i,wg=/^0b[01]+$/i,xg=/^0o[0-7]+$/i,Bg=parseInt;function Ug(t){if(typeof t=="number")return t;if(zt(t))return Ro;if(He(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=He(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pg(t);var n=wg.test(t);return n||xg.test(t)?Bg(t.slice(2),n?2:8):Dg.test(t)?Ro:+t}var So=1/0,Fg=17976931348623157e292;function vr(t){if(!t)return t===0?t:0;if(t=Ug(t),t===So||t===-So){var e=t<0?-1:1;return e*Fg}return t===t?t:0}function gs(t){var e=vr(t),n=e%1;return e===e?n?e-n:e:0}function Te(){}function Uu(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Fu(t,e,n,r){for(var s=t.length,i=n+-1;++i<s;)if(e(t[i],i,t))return i;return-1}function jg(t){return t!==t}function Hg(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function oa(t,e,n){return e===e?Hg(t,e,n):Fu(t,jg,n)}function ju(t,e){var n=t==null?0:t.length;return!!n&&oa(t,e,0)>-1}function Xe(t){return At(t)?ku(t):xu(t)}var $g=Object.prototype,Gg=$g.hasOwnProperty,Qe=wu(function(t,e){if(ir(e)||At(e)){On(e,Xe(e),t);return}for(var n in e)Gg.call(e,n)&&or(t,n,e[n])}),Yg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wg=/^\w*$/;function la(t,e){if(Q(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||zt(t)?!0:Wg.test(t)||!Yg.test(t)||e!=null&&t in Object(e)}var Vg=500;function Kg(t){var e=na(t,function(r){return n.size===Vg&&n.clear(),r}),n=e.cache;return e}var zg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xg=/\\(\\)?/g,Qg=Kg(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zg,function(n,r,s,i){e.push(s?i.replace(Xg,"$1"):r||n)}),e});function Hu(t){return t==null?"":Bu(t)}function Ts(t,e){return Q(t)?t:la(t,e)?[t]:Qg(Hu(t))}var qg=1/0;function cr(t){if(typeof t=="string"||zt(t))return t;var e=t+"";return e=="0"&&1/t==-qg?"-0":e}function As(t,e){e=Ts(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cr(e[n++])];return n&&n==r?t:void 0}function Jg(t,e,n){var r=t==null?void 0:As(t,e);return r===void 0?n:r}function ca(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var vo=it?it.isConcatSpreadable:void 0;function Zg(t){return Q(t)||mn(t)||!!(vo&&t&&t[vo])}function ur(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=Zg),s||(s=[]);++i<a;){var l=t[i];n(l)?ca(s,l):r||(s[s.length]=l)}return s}function Ke(t){var e=t==null?0:t.length;return e?ur(t):[]}function eT(t){return Du(Pu(t,void 0,Ke),t+"")}function $u(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}function tT(t,e,n,r){var s=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++s]);++s<i;)n=e(n,t[s],s,t);return n}function nT(t,e){return t&&On(e,Xe(e),t)}function rT(t,e){return t&&On(e,rn(e),t)}function ua(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}function Gu(){return[]}var sT=Object.prototype,iT=sT.propertyIsEnumerable,Oo=Object.getOwnPropertySymbols,da=Oo?function(t){return t==null?[]:(t=Object(t),ua(Oo(t),function(e){return iT.call(t,e)}))}:Gu;function aT(t,e){return On(t,da(t),e)}var oT=Object.getOwnPropertySymbols,Yu=oT?function(t){for(var e=[];t;)ca(e,da(t)),t=ia(t);return e}:Gu;function lT(t,e){return On(t,Yu(t),e)}function Wu(t,e,n){var r=e(t);return Q(t)?r:ca(r,n(t))}function fi(t){return Wu(t,Xe,da)}function Vu(t){return Wu(t,rn,Yu)}var cT=Object.prototype,uT=cT.hasOwnProperty;function dT(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&uT.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function hT(t,e){var n=e?sa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var fT=/\w*$/;function mT(t){var e=new t.constructor(t.source,fT.exec(t));return e.lastIndex=t.lastIndex,e}var Co=it?it.prototype:void 0,yo=Co?Co.valueOf:void 0;function pT(t){return yo?Object(yo.call(t)):{}}var _T="[object Boolean]",ET="[object Date]",gT="[object Map]",TT="[object Number]",AT="[object RegExp]",NT="[object Set]",bT="[object String]",IT="[object Symbol]",RT="[object ArrayBuffer]",ST="[object DataView]",vT="[object Float32Array]",OT="[object Float64Array]",CT="[object Int8Array]",yT="[object Int16Array]",LT="[object Int32Array]",kT="[object Uint8Array]",MT="[object Uint8ClampedArray]",PT="[object Uint16Array]",DT="[object Uint32Array]";function wT(t,e,n){var r=t.constructor;switch(e){case RT:return sa(t);case _T:case ET:return new r(+t);case ST:return hT(t,n);case vT:case OT:case CT:case yT:case LT:case kT:case MT:case PT:case DT:return Iu(t,n);case gT:return new r;case TT:case bT:return new r(t);case AT:return mT(t);case NT:return new r;case IT:return pT(t)}}var xT="[object Map]";function BT(t){return at(t)&&rt(t)==xT}var Lo=Bt&&Bt.isMap,UT=Lo?ar(Lo):BT,FT="[object Set]";function jT(t){return at(t)&&rt(t)==FT}var ko=Bt&&Bt.isSet,HT=ko?ar(ko):jT,$T=1,GT=2,YT=4,Ku="[object Arguments]",WT="[object Array]",VT="[object Boolean]",KT="[object Date]",zT="[object Error]",zu="[object Function]",XT="[object GeneratorFunction]",QT="[object Map]",qT="[object Number]",Xu="[object Object]",JT="[object RegExp]",ZT="[object Set]",eA="[object String]",tA="[object Symbol]",nA="[object WeakMap]",rA="[object ArrayBuffer]",sA="[object DataView]",iA="[object Float32Array]",aA="[object Float64Array]",oA="[object Int8Array]",lA="[object Int16Array]",cA="[object Int32Array]",uA="[object Uint8Array]",dA="[object Uint8ClampedArray]",hA="[object Uint16Array]",fA="[object Uint32Array]",se={};se[Ku]=se[WT]=se[rA]=se[sA]=se[VT]=se[KT]=se[iA]=se[aA]=se[oA]=se[lA]=se[cA]=se[QT]=se[qT]=se[Xu]=se[JT]=se[ZT]=se[eA]=se[tA]=se[uA]=se[dA]=se[hA]=se[fA]=!0;se[zT]=se[zu]=se[nA]=!1;function zn(t,e,n,r,s,i){var a,l=e&$T,c=e&GT,u=e&YT;if(a!==void 0)return a;if(!He(t))return t;var d=Q(t);if(d){if(a=dT(t),!l)return Ru(t,a)}else{var f=rt(t),p=f==zu||f==XT;if(pn(t))return bu(t,l);if(f==Xu||f==Ku||p&&!s){if(a=c||p?{}:vu(t),!l)return c?lT(t,rT(a,t)):aT(t,nT(a,t))}else{if(!se[f])return s?t:{};a=wT(t,f,l)}}i||(i=new lt);var E=i.get(t);if(E)return E;i.set(t,a),HT(t)?t.forEach(function(y){a.add(zn(y,e,n,y,t,i))}):UT(t)&&t.forEach(function(y,R){a.set(R,zn(y,e,n,R,t,i))});var A=u?c?Vu:fi:c?rn:Xe,b=d?void 0:A(t);return Uu(b||t,function(y,R){b&&(R=y,y=t[R]),or(a,R,zn(y,e,n,R,t,i))}),a}var mA=4;function Oe(t){return zn(t,mA)}var pA=1,_A=4;function FO(t){return zn(t,pA|_A)}function dr(t){for(var e=-1,n=t==null?0:t.length,r=0,s=[];++e<n;){var i=t[e];i&&(s[r++]=i)}return s}var EA="__lodash_hash_undefined__";function gA(t){return this.__data__.set(t,EA),this}function TA(t){return this.__data__.has(t)}function _n(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Mt;++e<n;)this.add(t[e])}_n.prototype.add=_n.prototype.push=gA;_n.prototype.has=TA;function Qu(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ha(t,e){return t.has(e)}var AA=1,NA=2;function qu(t,e,n,r,s,i){var a=n&AA,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,p=!0,E=n&NA?new _n:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var A=t[f],b=e[f];if(r)var y=a?r(b,A,f,e,t,i):r(A,b,f,t,e,i);if(y!==void 0){if(y)continue;p=!1;break}if(E){if(!Qu(e,function(R,B){if(!ha(E,B)&&(A===R||s(A,R,n,r,i)))return E.push(B)})){p=!1;break}}else if(!(A===b||s(A,b,n,r,i))){p=!1;break}}return i.delete(t),i.delete(e),p}function bA(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function fa(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var IA=1,RA=2,SA="[object Boolean]",vA="[object Date]",OA="[object Error]",CA="[object Map]",yA="[object Number]",LA="[object RegExp]",kA="[object Set]",MA="[object String]",PA="[object Symbol]",DA="[object ArrayBuffer]",wA="[object DataView]",Mo=it?it.prototype:void 0,Gs=Mo?Mo.valueOf:void 0;function xA(t,e,n,r,s,i,a){switch(n){case wA:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case DA:return!(t.byteLength!=e.byteLength||!i(new Br(t),new Br(e)));case SA:case vA:case yA:return vn(+t,+e);case OA:return t.name==e.name&&t.message==e.message;case LA:case MA:return t==e+"";case CA:var l=bA;case kA:var c=r&IA;if(l||(l=fa),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=RA,a.set(t,e);var d=qu(l(t),l(e),r,s,i,a);return a.delete(t),d;case PA:if(Gs)return Gs.call(t)==Gs.call(e)}return!1}var BA=1,UA=Object.prototype,FA=UA.hasOwnProperty;function jA(t,e,n,r,s,i){var a=n&BA,l=fi(t),c=l.length,u=fi(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var p=l[f];if(!(a?p in e:FA.call(e,p)))return!1}var E=i.get(t),A=i.get(e);if(E&&A)return E==e&&A==t;var b=!0;i.set(t,e),i.set(e,t);for(var y=a;++f<c;){p=l[f];var R=t[p],B=e[p];if(r)var M=a?r(B,R,p,e,t,i):r(R,B,p,t,e,i);if(!(M===void 0?R===B||s(R,B,n,r,i):M)){b=!1;break}y||(y=p=="constructor")}if(b&&!y){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(b=!1)}return i.delete(t),i.delete(e),b}var HA=1,Po="[object Arguments]",Do="[object Array]",Ar="[object Object]",$A=Object.prototype,wo=$A.hasOwnProperty;function GA(t,e,n,r,s,i){var a=Q(t),l=Q(e),c=a?Do:rt(t),u=l?Do:rt(e);c=c==Po?Ar:c,u=u==Po?Ar:u;var d=c==Ar,f=u==Ar,p=c==u;if(p&&pn(t)){if(!pn(e))return!1;a=!0,d=!1}if(p&&!d)return i||(i=new lt),a||_s(t)?qu(t,e,n,r,s,i):xA(t,e,c,n,r,s,i);if(!(n&HA)){var E=d&&wo.call(t,"__wrapped__"),A=f&&wo.call(e,"__wrapped__");if(E||A){var b=E?t.value():t,y=A?e.value():e;return i||(i=new lt),s(b,y,n,r,i)}}return p?(i||(i=new lt),jA(t,e,n,r,s,i)):!1}function ma(t,e,n,r,s){return t===e?!0:t==null||e==null||!at(t)&&!at(e)?t!==t&&e!==e:GA(t,e,n,r,ma,s)}var YA=1,WA=2;function VA(t,e,n,r){var s=n.length,i=s;if(t==null)return!i;for(t=Object(t);s--;){var a=n[s];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<i;){a=n[s];var l=a[0],c=t[l],u=a[1];if(a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new lt,f;if(!(f===void 0?ma(u,c,YA|WA,r,d):f))return!1}}return!0}function Ju(t){return t===t&&!He(t)}function KA(t){for(var e=Xe(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Ju(s)]}return e}function Zu(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function zA(t){var e=KA(t);return e.length==1&&e[0][2]?Zu(e[0][0],e[0][1]):function(n){return n===t||VA(n,t,e)}}function XA(t,e){return t!=null&&e in Object(t)}function ed(t,e,n){e=Ts(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var a=cr(e[r]);if(!(i=t!=null&&n(t,a)))break;t=t[a]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&aa(s)&&Es(a,s)&&(Q(t)||mn(t)))}function td(t,e){return t!=null&&ed(t,e,XA)}var QA=1,qA=2;function JA(t,e){return la(t)&&Ju(e)?Zu(cr(t),e):function(n){var r=Jg(n,t);return r===void 0&&r===e?td(n,t):ma(e,r,QA|qA)}}function ZA(t){return function(e){return e==null?void 0:e[t]}}function eN(t){return function(e){return As(e,t)}}function tN(t){return la(t)?ZA(cr(t)):eN(t)}function Ye(t){return typeof t=="function"?t:t==null?vt:typeof t=="object"?Q(t)?JA(t[0],t[1]):zA(t):tN(t)}function nN(t,e,n,r){for(var s=-1,i=t==null?0:t.length;++s<i;){var a=t[s];e(r,a,n(a),t)}return r}function pa(t,e){return t&&ra(t,e,Xe)}function rN(t,e){return function(n,r){if(n==null)return n;if(!At(n))return t(n,r);for(var s=n.length,i=-1,a=Object(n);++i<s&&r(a[i],i,a)!==!1;);return n}}var sn=rN(pa);function sN(t,e,n,r){return sn(t,function(s,i,a){e(r,s,n(s),a)}),r}function iN(t,e){return function(n,r){var s=Q(n)?nN:sN,i=e?e():{};return s(n,t,Ye(r),i)}}var nd=Object.prototype,aN=nd.hasOwnProperty,_a=lr(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&Jn(e[0],e[1],s)&&(r=1);++n<r;)for(var i=e[n],a=rn(i),l=-1,c=a.length;++l<c;){var u=a[l],d=t[u];(d===void 0||vn(d,nd[u])&&!aN.call(t,u))&&(t[u]=i[u])}return t}),oN=200;function lN(t,e,n,r){var s=-1,i=ju,a=!0,l=t.length,c=[],u=e.length;if(!l)return c;e.length>=oN&&(i=ha,a=!1,e=new _n(e));e:for(;++s<l;){var d=t[s],f=d;if(d=d!==0?d:0,a&&f===f){for(var p=u;p--;)if(e[p]===f)continue e;c.push(d)}else i(e,f,r)||c.push(d)}return c}var Ns=lr(function(t,e){return Ur(t)?lN(t,ur(e,1,Ur,!0)):[]});function En(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Re(t,e,n){var r=t==null?0:t.length;return r?(e=e===void 0?1:gs(e),$u(t,e<0?0:e,r)):[]}function Zn(t,e,n){var r=t==null?0:t.length;return r?(e=e===void 0?1:gs(e),e=r-e,$u(t,0,e<0?0:e)):[]}function Ea(t){return typeof t=="function"?t:vt}function Y(t,e){var n=Q(t)?Uu:sn;return n(t,Ea(e))}function cN(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function uN(t,e){var n=!0;return sn(t,function(r,s,i){return n=!!e(r,s,i),n}),n}function ct(t,e,n){var r=Q(t)?cN:uN;return r(t,Ye(e))}function rd(t,e){var n=[];return sn(t,function(r,s,i){e(r,s,i)&&n.push(r)}),n}function qe(t,e){var n=Q(t)?ua:rd;return n(t,Ye(e))}function dN(t){return function(e,n,r){var s=Object(e);if(!At(e)){var i=Ye(n);e=Xe(e),n=function(l){return i(s[l],l,s)}}var a=t(e,n,r);return a>-1?s[i?e[a]:a]:void 0}}var hN=Math.max;function fN(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:gs(n);return s<0&&(s=hN(r+s,0)),Fu(t,Ye(e),s)}var gn=dN(fN);function dt(t){return t&&t.length?t[0]:void 0}function sd(t,e){var n=-1,r=At(t)?Array(t.length):[];return sn(t,function(s,i,a){r[++n]=e(s,i,a)}),r}function j(t,e){var n=Q(t)?Vt:sd;return n(t,Ye(e))}function ze(t,e){return ur(j(t,e))}function jO(t,e){return t==null?t:ra(t,Ea(e),rn)}function HO(t,e){return pa(t,Ea(e))}var mN=Object.prototype,pN=mN.hasOwnProperty,_N=iN(function(t,e,n){pN.call(t,n)?t[n].push(e):sr(t,n,[e])});function EN(t,e){return t>e}var gN=Object.prototype,TN=gN.hasOwnProperty;function AN(t,e){return t!=null&&TN.call(t,e)}function W(t,e){return t!=null&&ed(t,e,AN)}var NN="[object String]";function $e(t){return typeof t=="string"||!Q(t)&&at(t)&&Lt(t)==NN}function bN(t,e){return Vt(e,function(n){return t[n]})}function Ae(t){return t==null?[]:bN(t,Xe(t))}var IN=Math.max;function Be(t,e,n,r){t=At(t)?t:Ae(t),n=n&&!r?gs(n):0;var s=t.length;return n<0&&(n=IN(s+n,0)),$e(t)?n<=s&&t.indexOf(e,n)>-1:!!s&&oa(t,e,n)>-1}function xo(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=0;return oa(t,e,s)}var RN="[object RegExp]";function SN(t){return at(t)&&Lt(t)==RN}var Bo=Bt&&Bt.isRegExp,Ot=Bo?ar(Bo):SN;function Ct(t){return t===void 0}function id(t,e){return t<e}function $O(t,e){var n={};return e=Ye(e),pa(t,function(r,s,i){sr(n,s,e(r,s,i))}),n}function ga(t,e,n){for(var r=-1,s=t.length;++r<s;){var i=t[r],a=e(i);if(a!=null&&(l===void 0?a===a&&!zt(a):n(a,l)))var l=a,c=i}return c}function GO(t){return t&&t.length?ga(t,vt,EN):void 0}function vN(t){return t&&t.length?ga(t,vt,id):void 0}function YO(t,e){return t&&t.length?ga(t,Ye(e),id):void 0}var ON="Expected a function";function CN(t){if(typeof t!="function")throw new TypeError(ON);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function yN(t,e,n,r){if(!He(t))return t;e=Ts(e,t);for(var s=-1,i=e.length,a=i-1,l=t;l!=null&&++s<i;){var c=cr(e[s]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=a){var d=l[c];u=void 0,u===void 0&&(u=He(d)?d:Es(e[s+1])?[]:{})}or(l,c,u),l=l[c]}return t}function ad(t,e,n){for(var r=-1,s=e.length,i={};++r<s;){var a=e[r],l=As(t,a);n(l,a)&&yN(i,Ts(a,t),l)}return i}function ft(t,e){if(t==null)return{};var n=Vt(Vu(t),function(r){return[r]});return e=Ye(e),ad(t,n,function(r,s){return e(r,s[0])})}function LN(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function kN(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=zt(t),a=e!==void 0,l=e===null,c=e===e,u=zt(e);if(!l&&!u&&!i&&t>e||i&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&t<e||u&&n&&s&&!r&&!i||l&&n&&s||!a&&s||!c)return-1}return 0}function MN(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,a=s.length,l=n.length;++r<a;){var c=kN(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}function PN(t,e,n){e.length?e=Vt(e,function(i){return Q(i)?function(a){return As(a,i.length===1?i[0]:i)}:i}):e=[vt];var r=-1;e=Vt(e,ar(Ye));var s=sd(t,function(i,a,l){var c=Vt(e,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return LN(s,function(i,a){return MN(i,a,n)})}function DN(t,e){return ad(t,e,function(n,r){return td(t,r)})}var WO=eT(function(t,e){return t==null?{}:DN(t,e)}),wN=Math.ceil,xN=Math.max;function BN(t,e,n,r){for(var s=-1,i=xN(wN((e-t)/(n||1)),0),a=Array(i);i--;)a[++s]=t,t+=n;return a}function UN(t){return function(e,n,r){return r&&typeof r!="number"&&Jn(e,n,r)&&(n=r=void 0),e=vr(e),n===void 0?(n=e,e=0):n=vr(n),r=r===void 0?e<n?1:-1:vr(r),BN(e,n,r)}}var VO=UN();function FN(t,e,n,r,s){return s(t,function(i,a,l){n=r?(r=!1,i):e(n,i,a,l)}),n}function De(t,e,n){var r=Q(t)?tT:FN,s=arguments.length<3;return r(t,Ye(e),n,s,sn)}function bs(t,e){var n=Q(t)?ua:rd;return n(t,CN(Ye(e)))}function jN(t,e){var n;return sn(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}function od(t,e,n){var r=Q(t)?Qu:jN;return r(t,Ye(e))}var KO=lr(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Jn(t,e[0],e[1])?e=[]:n>2&&Jn(e[0],e[1],e[2])&&(e=[e[0]]),PN(t,ur(e),[])}),HN=1/0,$N=un&&1/fa(new un([,-0]))[1]==HN?function(t){return new un(t)}:Te,GN=200;function Ta(t,e,n){var r=-1,s=ju,i=t.length,a=!0,l=[],c=l;if(i>=GN){var u=e?null:$N(t);if(u)return fa(u);a=!1,s=ha,c=new _n}else c=e?[]:l;e:for(;++r<i;){var d=t[r],f=e?e(d):d;if(d=d!==0?d:0,a&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var zO=lr(function(t){return Ta(ur(t,1,Ur,!0))});function Aa(t){return t&&t.length?Ta(t):[]}function YN(t,e){return t&&t.length?Ta(t,Ye(e)):[]}var WN=0;function XO(t){var e=++WN;return Hu(t)+e}function VN(t,e,n){for(var r=-1,s=t.length,i=e.length,a={};++r<s;){var l=r<i?e[r]:void 0;n(a,t[r],l)}return a}function QO(t,e){return VN(t||[],e||[],or)}function Le(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function _t(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function KN(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function Or(t){return typeof t=="object"&&t!==null&&Le(t.container)&&_t(t.reference)&&typeof t.message=="string"}class zN{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,n){return Le(e)&&this.isSubtype(e.$type,n)}isSubtype(e,n){if(e===n)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});const s=r[n];if(s!==void 0)return s;{const i=this.computeIsSubtype(e,n);return r[n]=i,i}}getAllSubTypes(e){const n=this.allSubtypes[e];if(n)return n;{const r=this.getAllTypes(),s=[];for(const i of r)this.isSubtype(i,e)&&s.push(i);return this.allSubtypes[e]=s,s}}}function Tn(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function ld(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function cd(t){return Tn(t)&&typeof t.fullText=="string"}class Ce{constructor(e,n){this.startFn=e,this.nextFn=n}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let n=0,r=e.next();for(;!r.done;)n++,r=e.next();return n}toArray(){const e=[],n=this.iterator();let r;do r=n.next(),r.value!==void 0&&e.push(r.value);while(!r.done);return e}toSet(){return new Set(this)}toMap(e,n){const r=this.map(s=>[e?e(s):s,n?n(s):s]);return new Map(r)}toString(){return this.join()}concat(e){const n=e[Symbol.iterator]();return new Ce(()=>({first:this.startFn(),firstDone:!1}),r=>{let s;if(!r.firstDone){do if(s=this.nextFn(r.first),!s.done)return s;while(!s.done);r.firstDone=!0}do if(s=n.next(),!s.done)return s;while(!s.done);return st})}join(e=","){const n=this.iterator();let r="",s,i=!1;do s=n.next(),s.done||(i&&(r+=e),r+=XN(s.value)),i=!0;while(!s.done);return r}indexOf(e,n=0){const r=this.iterator();let s=0,i=r.next();for(;!i.done;){if(s>=n&&i.value===e)return s;i=r.next(),s++}return-1}every(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(!e(r.value))return!1;r=n.next()}return!0}some(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return!0;r=n.next()}return!1}forEach(e){const n=this.iterator();let r=0,s=n.next();for(;!s.done;)e(s.value,r),s=n.next(),r++}map(e){return new Ce(this.startFn,n=>{const{done:r,value:s}=this.nextFn(n);return r?st:{done:!1,value:e(s)}})}filter(e){return new Ce(this.startFn,n=>{let r;do if(r=this.nextFn(n),!r.done&&e(r.value))return r;while(!r.done);return st})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,n){const r=this.iterator();let s=n,i=r.next();for(;!i.done;)s===void 0?s=i.value:s=e(s,i.value),i=r.next();return s}reduceRight(e,n){return this.recursiveReduce(this.iterator(),e,n)}recursiveReduce(e,n,r){const s=e.next();if(s.done)return r;const i=this.recursiveReduce(e,n,r);return i===void 0?s.value:n(i,s.value)}find(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return r.value;r=n.next()}}findIndex(e){const n=this.iterator();let r=0,s=n.next();for(;!s.done;){if(e(s.value))return r;s=n.next(),r++}return-1}includes(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(r.value===e)return!0;r=n.next()}return!1}flatMap(e){return new Ce(()=>({this:this.startFn()}),n=>{do{if(n.iterator){const i=n.iterator.next();if(i.done)n.iterator=void 0;else return i}const{done:r,value:s}=this.nextFn(n.this);if(!r){const i=e(s);if(Fr(i))n.iterator=i[Symbol.iterator]();else return{done:!1,value:i}}}while(n.iterator);return st})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const n=e>1?this.flat(e-1):this;return new Ce(()=>({this:n.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:s,value:i}=n.nextFn(r.this);if(!s)if(Fr(i))r.iterator=i[Symbol.iterator]();else return{done:!1,value:i}}while(r.iterator);return st})}head(){const n=this.iterator().next();if(!n.done)return n.value}tail(e=1){return new Ce(()=>{const n=this.startFn();for(let r=0;r<e;r++)if(this.nextFn(n).done)return n;return n},this.nextFn)}limit(e){return new Ce(()=>({size:0,state:this.startFn()}),n=>(n.size++,n.size>e?st:this.nextFn(n.state)))}distinct(e){const n=new Set;return this.filter(r=>{const s=e?e(r):r;return n.has(s)?!1:(n.add(s),!0)})}exclude(e,n){const r=new Set;for(const s of e){const i=n?n(s):s;r.add(i)}return this.filter(s=>{const i=n?n(s):s;return!r.has(i)})}}function XN(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function Fr(t){return!!t&&typeof t[Symbol.iterator]=="function"}const QN=new Ce(()=>{},()=>st),st=Object.freeze({done:!0,value:void 0});function Se(...t){if(t.length===1){const e=t[0];if(e instanceof Ce)return e;if(Fr(e))return new Ce(()=>e[Symbol.iterator](),n=>n.next());if(typeof e.length=="number")return new Ce(()=>({index:0}),n=>n.index<e.length?{done:!1,value:e[n.index++]}:st)}return t.length>1?new Ce(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const n=e.iterator.next();if(!n.done)return n;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const n=t[e.collIndex++];Fr(n)?e.iterator=n[Symbol.iterator]():n&&typeof n.length=="number"&&(e.array=n)}}while(e.iterator||e.array||e.collIndex<t.length);return st}):QN}class Na extends Ce{constructor(e,n,r){super(()=>({iterators:r!=null&&r.includeRoot?[[e][Symbol.iterator]()]:[n(e)[Symbol.iterator]()],pruned:!1}),s=>{for(s.pruned&&(s.iterators.pop(),s.pruned=!1);s.iterators.length>0;){const a=s.iterators[s.iterators.length-1].next();if(a.done)s.iterators.pop();else return s.iterators.push(n(a.value)[Symbol.iterator]()),a}return st})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var mi;(function(t){function e(i){return i.reduce((a,l)=>a+l,0)}t.sum=e;function n(i){return i.reduce((a,l)=>a*l,0)}t.product=n;function r(i){return i.reduce((a,l)=>Math.min(a,l))}t.min=r;function s(i){return i.reduce((a,l)=>Math.max(a,l))}t.max=s})(mi||(mi={}));function pi(t){return new Na(t,e=>Tn(e)?e.content:[],{includeRoot:!0})}function qN(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function _i(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function jr(t){if(!t)return;const{offset:e,end:n,range:r}=t;return{range:r,offset:e,end:n,length:n-e}}var xt;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside"})(xt||(xt={}));function JN(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<t.start.character)return xt.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>e.end.character)return xt.After;const n=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,r=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return n&&r?xt.Inside:n?xt.OverlapBack:xt.OverlapFront}function ZN(t,e){return JN(t,e)>xt.After}const eb=/^[\w\p{L}]$/u;function tb(t,e){if(t){const n=nb(t,!0);if(n&&Uo(n,e))return n;if(cd(t)){const r=t.content.findIndex(s=>!s.hidden);for(let s=r-1;s>=0;s--){const i=t.content[s];if(Uo(i,e))return i}}}}function Uo(t,e){return ld(t)&&e.includes(t.tokenType.name)}function nb(t,e=!0){for(;t.container;){const n=t.container;let r=n.content.indexOf(t);for(;r>0;){r--;const s=n.content[r];if(e||!s.hidden)return s}t=n}}class ud extends Error{constructor(e,n){super(e?`${n} at ${e.range.start.line}:${e.range.start.character}`:n)}}function Is(t){throw new Error("Error! The input value was not handled.")}const Ys="AbstractRule",Ws="AbstractType",Fo="Condition",rb="TypeDefinition",jo="ValueLiteral",dd="AbstractElement";function sb(t){return te.isInstance(t,dd)}const ib="ArrayLiteral",ab="ArrayType",hd="BooleanLiteral";function ob(t){return te.isInstance(t,hd)}const fd="Conjunction";function lb(t){return te.isInstance(t,fd)}const md="Disjunction";function cb(t){return te.isInstance(t,md)}const ub="Grammar",pd="InferredType";function _d(t){return te.isInstance(t,pd)}const Ed="Interface";function gd(t){return te.isInstance(t,Ed)}const Td="Negation";function db(t){return te.isInstance(t,Td)}const hb="NumberLiteral",fb="Parameter",Ad="ParameterReference";function mb(t){return te.isInstance(t,Ad)}const Nd="ParserRule";function ot(t){return te.isInstance(t,Nd)}const pb="ReferenceType",_b="ReturnType";function Eb(t){return te.isInstance(t,_b)}const bd="SimpleType";function gb(t){return te.isInstance(t,bd)}const Tb="StringLiteral",Ei="TerminalRule";function an(t){return te.isInstance(t,Ei)}const Id="Type";function Rd(t){return te.isInstance(t,Id)}const Ab="UnionType",Sd="Action";function Rs(t){return te.isInstance(t,Sd)}const vd="Alternatives";function Od(t){return te.isInstance(t,vd)}const Cd="Assignment";function Xt(t){return te.isInstance(t,Cd)}const yd="CharacterRange";function Nb(t){return te.isInstance(t,yd)}const Ld="CrossReference";function ba(t){return te.isInstance(t,Ld)}const kd="EndOfFile";function bb(t){return te.isInstance(t,kd)}const Md="Group";function Ia(t){return te.isInstance(t,Md)}const Pd="Keyword";function Qt(t){return te.isInstance(t,Pd)}const Dd="NegatedToken";function Ib(t){return te.isInstance(t,Dd)}const wd="RegexToken";function Rb(t){return te.isInstance(t,wd)}const xd="RuleCall";function qt(t){return te.isInstance(t,xd)}const Bd="TerminalAlternatives";function Sb(t){return te.isInstance(t,Bd)}const Ud="TerminalGroup";function vb(t){return te.isInstance(t,Ud)}const Fd="TerminalRuleCall";function Ob(t){return te.isInstance(t,Fd)}const jd="UnorderedGroup";function Hd(t){return te.isInstance(t,jd)}const $d="UntilToken";function Cb(t){return te.isInstance(t,$d)}const Gd="Wildcard";function yb(t){return te.isInstance(t,Gd)}class Yd extends zN{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,n){switch(e){case Sd:case vd:case Cd:case yd:case Ld:case kd:case Md:case Pd:case Dd:case wd:case xd:case Bd:case Ud:case Fd:case jd:case $d:case Gd:return this.isSubtype(dd,n);case ib:case hb:case Tb:return this.isSubtype(jo,n);case ab:case pb:case bd:case Ab:return this.isSubtype(rb,n);case hd:return this.isSubtype(Fo,n)||this.isSubtype(jo,n);case fd:case md:case Td:case Ad:return this.isSubtype(Fo,n);case pd:case Ed:case Id:return this.isSubtype(Ws,n);case Nd:return this.isSubtype(Ys,n)||this.isSubtype(Ws,n);case Ei:return this.isSubtype(Ys,n);default:return!1}}getReferenceType(e){const n=`${e.container.$type}:${e.property}`;switch(n){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Ws;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Ys;case"Grammar:usedGrammars":return ub;case"NamedArgument:parameter":case"ParameterReference:parameter":return fb;case"TerminalRuleCall:rule":return Ei;default:throw new Error(`${n} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const te=new Yd;function Lb(t){for(const[e,n]of Object.entries(t))e.startsWith("$")||(Array.isArray(n)?n.forEach((r,s)=>{Le(r)&&(r.$container=t,r.$containerProperty=e,r.$containerIndex=s)}):Le(n)&&(n.$container=t,n.$containerProperty=e))}function Ss(t,e){let n=t;for(;n;){if(e(n))return n;n=n.$container}}function Et(t){const n=kb(t).$document;if(!n)throw new Error("AST node has no document.");return n}function kb(t){for(;t.$container;)t=t.$container;return t}function Ra(t,e){if(!t)throw new Error("Node must be an AstNode.");const n=e==null?void 0:e.range;return new Ce(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),r=>{for(;r.keyIndex<r.keys.length;){const s=r.keys[r.keyIndex];if(!s.startsWith("$")){const i=t[s];if(Le(i)){if(r.keyIndex++,Ho(i,n))return{done:!1,value:i}}else if(Array.isArray(i)){for(;r.arrayIndex<i.length;){const a=r.arrayIndex++,l=i[a];if(Le(l)&&Ho(l,n))return{done:!1,value:l}}r.arrayIndex=0}}r.keyIndex++}return st})}function hr(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new Na(t,n=>Ra(n,e))}function dn(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new Na(t,n=>Ra(n,e),{includeRoot:!0})}function Ho(t,e){var n;if(!e)return!0;const r=(n=t.$cstNode)===null||n===void 0?void 0:n.range;return r?ZN(r,e):!1}function Wd(t){return new Ce(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const n=e.keys[e.keyIndex];if(!n.startsWith("$")){const r=t[n];if(_t(r))return e.keyIndex++,{done:!1,value:{reference:r,container:t,property:n}};if(Array.isArray(r)){for(;e.arrayIndex<r.length;){const s=e.arrayIndex++,i=r[s];if(_t(i))return{done:!1,value:{reference:i,container:t,property:n,index:s}}}e.arrayIndex=0}}e.keyIndex++}return st})}function Mb(t,e){const n=t.getTypeMetaData(e.$type),r=e;for(const s of n.properties)s.defaultValue!==void 0&&r[s.name]===void 0&&(r[s.name]=Vd(s.defaultValue))}function Vd(t){return Array.isArray(t)?[...t.map(Vd)]:t}function K(t){return t.charCodeAt(0)}function Vs(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function wn(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function ln(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Pb(){throw Error("Internal Error - Should never get here!")}function $o(t){return t.type==="Character"}const Hr=[];for(let t=K("0");t<=K("9");t++)Hr.push(t);const $r=[K("_")].concat(Hr);for(let t=K("a");t<=K("z");t++)$r.push(t);for(let t=K("A");t<=K("Z");t++)$r.push(t);const Go=[K(" "),K("\f"),K(`
`),K("\r"),K("	"),K("\v"),K("	"),K("Â "),K("á"),K("â"),K("â"),K("â"),K("â"),K("â"),K("â"),K("â"),K("â"),K("â"),K("â"),K("â"),K("\u2028"),K("\u2029"),K("â¯"),K("â"),K("ã"),K("\uFEFF")],Db=/[0-9a-fA-F]/,Nr=/[0-9]/,wb=/[1-9]/;class Kd{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":wn(r,"global");break;case"i":wn(r,"ignoreCase");break;case"m":wn(r,"multiLine");break;case"u":wn(r,"unicode");break;case"y":wn(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}ln(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return Pb()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const s=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:s,atMost:s};break;case",":let i;this.isDigit()?(i=this.integerIncludingZero(),n={atLeast:s,atMost:i}):n={atLeast:s,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;ln(n);break}if(!(e===!0&&n===void 0)&&ln(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),ln(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[K(`
`),K("\r"),K("\u2028"),K("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=Hr;break;case"D":e=Hr,n=!0;break;case"s":e=Go;break;case"S":e=Go,n=!0;break;case"w":e=$r;break;case"W":e=$r,n=!0;break}if(ln(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=K("\f");break;case"n":e=K(`
`);break;case"r":e=K("\r");break;case"t":e=K("	");break;case"v":e=K("\v");break}if(ln(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:K("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:K(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:K(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,$o(r)&&this.isRangeDash()){this.consumeChar("-");const s=this.classAtom();if(s.type,$o(s)){if(s.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:s.value})}else Vs(r.value,e),e.push(K("-")),Vs(s.value,e)}else Vs(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:K("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(wb.test(e)===!1)throw Error("Expecting a positive integer");for(;Nr.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Nr.test(e)===!1)throw Error("Expecting an integer");for(;Nr.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:K(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Nr.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let s=0;s<e;s++){const i=this.popChar();if(Db.test(i)===!1)throw Error("Expecting a HexDecimal digits");n+=i}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class vs{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(s=>{this.visit(s)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const xb=/\r?\n/gm,Bb=new Kd;class Ub extends vs{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const n=String.fromCharCode(e.value);if(!this.multiline&&n===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=Os(n);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){const n=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(n);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const Ks=new Ub;function Fb(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),Ks.reset(t),Ks.visit(Bb.pattern(t)),Ks.multiline}catch{return!1}}function Yo(t){return(typeof t=="string"?new RegExp(t):t).test(" ")}function Os(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jb(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:Os(e)).join("")}function Hb(t,e){const n=$b(t),r=e.match(n);return!!r&&r[0].length>0}function $b(t){typeof t=="string"&&(t=new RegExp(t));const e=t,n=t.source;let r=0;function s(){let i="",a;function l(u){i+=n.substr(r,u),r+=u}function c(u){i+="(?:"+n.substr(r,u)+"|$)",r+=u}for(;r<n.length;)switch(n[r]){case"\\":switch(n[r+1]){case"c":c(3);break;case"x":c(4);break;case"u":e.unicode?n[r+2]==="{"?c(n.indexOf("}",r)-r+1):c(6):c(2);break;case"p":case"P":e.unicode?c(n.indexOf("}",r)-r+1):c(2);break;case"k":c(n.indexOf(">",r)-r+1);break;default:c(2);break}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=r,a=a.exec(n)||[],c(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":l(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=r,a=a.exec(n),a?l(a[0].length):c(1);break;case"(":if(n[r+1]==="?")switch(n[r+2]){case":":i+="(?:",r+=3,i+=s()+"|$)";break;case"=":i+="(?=",r+=3,i+=s()+")";break;case"!":a=r,r+=3,s(),i+=n.substr(a,r-a);break;case"<":switch(n[r+3]){case"=":case"!":a=r,r+=4,s(),i+=n.substr(a,r-a);break;default:l(n.indexOf(">",r)-r+1),i+=s()+"|$)";break}break}else l(1),i+=s()+"|$)";break;case")":return++r,i;default:c(1);break}return i}return new RegExp(s(),t.flags)}function Gb(t){return t.rules.find(e=>ot(e)&&e.entry)}function Yb(t){return t.rules.filter(e=>an(e)&&e.hidden)}function zd(t,e){const n=new Set,r=Gb(t);if(!r)return new Set(t.rules);const s=[r].concat(Yb(t));for(const a of s)Xd(a,n,e);const i=new Set;for(const a of t.rules)(n.has(a.name)||an(a)&&a.hidden)&&i.add(a);return i}function Xd(t,e,n){e.add(t.name),hr(t).forEach(r=>{if(qt(r)||n){const s=r.rule.ref;s&&!e.has(s.name)&&Xd(s,e,n)}})}function Wb(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=qd(t.type.ref);return e==null?void 0:e.terminal}}function Vb(t){return t.hidden&&!Oa(t).test(" ")}function Kb(t,e){return!t||!e?[]:Sa(t,e,t.astNode,!0)}function Qd(t,e,n){if(!t||!e)return;const r=Sa(t,e,t.astNode,!0);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function Sa(t,e,n,r){if(!r){const s=Ss(t.grammarSource,Xt);if(s&&s.feature===e)return[t]}return Tn(t)&&t.astNode===n?t.content.flatMap(s=>Sa(s,e,n,!1)):[]}function zb(t,e,n){if(!t)return;const r=Xb(t,e,t==null?void 0:t.astNode);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function Xb(t,e,n){if(t.astNode!==n)return[];if(Qt(t.grammarSource)&&t.grammarSource.value===e)return[t];const r=pi(t).iterator();let s;const i=[];do if(s=r.next(),!s.done){const a=s.value;a.astNode===n?Qt(a.grammarSource)&&a.grammarSource.value===e&&i.push(a):r.prune()}while(!s.done);return i}function Qb(t){var e;const n=t.astNode;for(;n===((e=t.container)===null||e===void 0?void 0:e.astNode);){const r=Ss(t.grammarSource,Xt);if(r)return r;t=t.container}}function qd(t){let e=t;return _d(e)&&(Rs(e.$container)?e=e.$container.$container:ot(e.$container)?e=e.$container:Is(e.$container)),Jd(t,e,new Map)}function Jd(t,e,n){var r;function s(i,a){let l;return Ss(i,Xt)||(l=Jd(a,a,n)),n.set(t,l),l}if(n.has(t))return n.get(t);n.set(t,void 0);for(const i of hr(e)){if(Xt(i)&&i.feature.toLowerCase()==="name")return n.set(t,i),i;if(qt(i)&&ot(i.rule.ref))return s(i,i.rule.ref);if(gb(i)&&(!((r=i.typeRef)===null||r===void 0)&&r.ref))return s(i,i.typeRef.ref)}}function va(t){return Zd(t,new Set)}function Zd(t,e){if(e.has(t))return!0;e.add(t);for(const n of hr(t))if(qt(n)){if(!n.rule.ref||ot(n.rule.ref)&&!Zd(n.rule.ref,e))return!1}else{if(Xt(n))return!1;if(Rs(n))return!1}return!!t.definition}function eh(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(ot(e))return e.name;if(gd(e)||Rd(e))return e.name}}}function Cs(t){var e;if(ot(t))return va(t)?t.name:(e=eh(t))!==null&&e!==void 0?e:t.name;if(gd(t)||Rd(t)||Eb(t))return t.name;if(Rs(t)){const n=qb(t);if(n)return n}else if(_d(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function qb(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return Cs(t.type.ref)}function Jb(t){var e,n,r;return an(t)?(n=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:"string":va(t)?t.name:(r=eh(t))!==null&&r!==void 0?r:t.name}function Oa(t){const e={s:!1,i:!1,u:!1},n=Cn(t.definition,e),r=Object.entries(e).filter(([,s])=>s).map(([s])=>s).join("");return new RegExp(n,r)}const Ca=/[\s\S]/.source;function Cn(t,e){if(Sb(t))return Zb(t);if(vb(t))return eI(t);if(Nb(t))return rI(t);if(Ob(t)){const n=t.rule.ref;if(!n)throw new Error("Missing rule reference.");return St(Cn(n.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(Ib(t))return nI(t);if(Cb(t))return tI(t);if(Rb(t)){const n=t.regex.lastIndexOf("/"),r=t.regex.substring(1,n),s=t.regex.substring(n+1);return e&&(e.i=s.includes("i"),e.s=s.includes("s"),e.u=s.includes("u")),St(r,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(yb(t))return St(Ca,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function Zb(t){return St(t.elements.map(e=>Cn(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function eI(t){return St(t.elements.map(e=>Cn(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function tI(t){return St(`${Ca}*?${Cn(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function nI(t){return St(`(?!${Cn(t.terminal)})${Ca}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function rI(t){return t.right?St(`[${zs(t.left)}-${zs(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):St(zs(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function zs(t){return Os(t.value)}function St(t,e){var n;return(e.wrap!==!1||e.lookahead)&&(t=`(${(n=e.lookahead)!==null&&n!==void 0?n:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function sI(t){const e=[],n=t.Grammar;for(const r of n.rules)an(r)&&Vb(r)&&Fb(Oa(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:eb}}function gi(t){console&&console.error&&console.error(`Error: ${t}`)}function th(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function nh(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function rh(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function iI(t){return aI(t)?t.LABEL:t.name}function aI(t){return $e(t.LABEL)&&t.LABEL!==""}class Nt{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Y(this.definition,n=>{n.accept(e)})}}class we extends Nt{constructor(e){super([]),this.idx=1,Qe(this,ft(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class yn extends Nt{constructor(e){super(e.definition),this.orgText="",Qe(this,ft(e,n=>n!==void 0))}}class Ge extends Nt{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Qe(this,ft(e,n=>n!==void 0))}}class ve extends Nt{constructor(e){super(e.definition),this.idx=1,Qe(this,ft(e,n=>n!==void 0))}}class Je extends Nt{constructor(e){super(e.definition),this.idx=1,Qe(this,ft(e,n=>n!==void 0))}}class Ze extends Nt{constructor(e){super(e.definition),this.idx=1,Qe(this,ft(e,n=>n!==void 0))}}class fe extends Nt{constructor(e){super(e.definition),this.idx=1,Qe(this,ft(e,n=>n!==void 0))}}class We extends Nt{constructor(e){super(e.definition),this.idx=1,Qe(this,ft(e,n=>n!==void 0))}}class Ve extends Nt{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Qe(this,ft(e,n=>n!==void 0))}}class ae{constructor(e){this.idx=1,Qe(this,ft(e,n=>n!==void 0))}accept(e){e.visit(this)}}function oI(t){return j(t,Cr)}function Cr(t){function e(n){return j(n,Cr)}if(t instanceof we){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return $e(t.label)&&(n.label=t.label),n}else{if(t instanceof Ge)return{type:"Alternative",definition:e(t.definition)};if(t instanceof ve)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Je)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Ze)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Cr(new ae({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof We)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Cr(new ae({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof fe)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Ve)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof ae){const n={type:"Terminal",name:t.terminalType.name,label:iI(t.terminalType),idx:t.idx};$e(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Ot(r)?r.source:r),n}else{if(t instanceof yn)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class Ln{visit(e){const n=e;switch(n.constructor){case we:return this.visitNonTerminal(n);case Ge:return this.visitAlternative(n);case ve:return this.visitOption(n);case Je:return this.visitRepetitionMandatory(n);case Ze:return this.visitRepetitionMandatoryWithSeparator(n);case We:return this.visitRepetitionWithSeparator(n);case fe:return this.visitRepetition(n);case Ve:return this.visitAlternation(n);case ae:return this.visitTerminal(n);case yn:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function lI(t){return t instanceof Ge||t instanceof ve||t instanceof fe||t instanceof Je||t instanceof Ze||t instanceof We||t instanceof ae||t instanceof yn}function Gr(t,e=[]){return t instanceof ve||t instanceof fe||t instanceof We?!0:t instanceof Ve?od(t.definition,r=>Gr(r,e)):t instanceof we&&Be(e,t)?!1:t instanceof Nt?(t instanceof we&&e.push(t),ct(t.definition,r=>Gr(r,e))):!1}function cI(t){return t instanceof Ve}function pt(t){if(t instanceof we)return"SUBRULE";if(t instanceof ve)return"OPTION";if(t instanceof Ve)return"OR";if(t instanceof Je)return"AT_LEAST_ONE";if(t instanceof Ze)return"AT_LEAST_ONE_SEP";if(t instanceof We)return"MANY_SEP";if(t instanceof fe)return"MANY";if(t instanceof ae)return"CONSUME";throw Error("non exhaustive match")}class ys{walk(e,n=[]){Y(e.definition,(r,s)=>{const i=Re(e.definition,s+1);if(r instanceof we)this.walkProdRef(r,i,n);else if(r instanceof ae)this.walkTerminal(r,i,n);else if(r instanceof Ge)this.walkFlat(r,i,n);else if(r instanceof ve)this.walkOption(r,i,n);else if(r instanceof Je)this.walkAtLeastOne(r,i,n);else if(r instanceof Ze)this.walkAtLeastOneSep(r,i,n);else if(r instanceof We)this.walkManySep(r,i,n);else if(r instanceof fe)this.walkMany(r,i,n);else if(r instanceof Ve)this.walkOr(r,i,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const s=n.concat(r);this.walk(e,s)}walkOption(e,n,r){const s=n.concat(r);this.walk(e,s)}walkAtLeastOne(e,n,r){const s=[new ve({definition:e.definition})].concat(n,r);this.walk(e,s)}walkAtLeastOneSep(e,n,r){const s=Wo(e,n,r);this.walk(e,s)}walkMany(e,n,r){const s=[new ve({definition:e.definition})].concat(n,r);this.walk(e,s)}walkManySep(e,n,r){const s=Wo(e,n,r);this.walk(e,s)}walkOr(e,n,r){const s=n.concat(r);Y(e.definition,i=>{const a=new Ge({definition:[i]});this.walk(a,s)})}}function Wo(t,e,n){return[new ve({definition:[new ae({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function fr(t){if(t instanceof we)return fr(t.referencedRule);if(t instanceof ae)return hI(t);if(lI(t))return uI(t);if(cI(t))return dI(t);throw Error("non exhaustive match")}function uI(t){let e=[];const n=t.definition;let r=0,s=n.length>r,i,a=!0;for(;s&&a;)i=n[r],a=Gr(i),e=e.concat(fr(i)),r=r+1,s=n.length>r;return Aa(e)}function dI(t){const e=j(t.definition,n=>fr(n));return Aa(Ke(e))}function hI(t){return[t.terminalType]}const sh="_~IN~_";class fI extends ys{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const s=pI(e.referencedRule,e.idx)+this.topProd.name,i=n.concat(r),a=new Ge({definition:i}),l=fr(a);this.follows[s]=l}}function mI(t){const e={};return Y(t,n=>{const r=new fI(n).startWalking();Qe(e,r)}),e}function pI(t,e){return t.name+e+sh}let yr={};const _I=new Kd;function Ls(t){const e=t.toString();if(yr.hasOwnProperty(e))return yr[e];{const n=_I.pattern(e);return yr[e]=n,n}}function EI(){yr={}}const ih="Complement Sets are not supported for first char optimization",Yr=`Unable to use "first char" lexer optimizations:
`;function gI(t,e=!1){try{const n=Ls(t);return Ti(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===ih)e&&th(`${Yr}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),gi(`${Yr}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Ti(t,e,n){switch(t.type){case"Disjunction":for(let s=0;s<t.value.length;s++)Ti(t.value[s],e,n);break;case"Alternative":const r=t.value;for(let s=0;s<r.length;s++){const i=r[s];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=i;switch(a.type){case"Character":br(a.value,e,n);break;case"Set":if(a.complement===!0)throw Error(ih);Y(a.value,c=>{if(typeof c=="number")br(c,e,n);else{const u=c;if(n===!0)for(let d=u.from;d<=u.to;d++)br(d,e,n);else{for(let d=u.from;d<=u.to&&d<jn;d++)br(d,e,n);if(u.to>=jn){const d=u.from>=jn?u.from:jn,f=u.to,p=Ut(d),E=Ut(f);for(let A=p;A<=E;A++)e[A]=A}}}});break;case"Group":Ti(a.value,e,n);break;default:throw Error("Non Exhaustive Match")}const l=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&Ai(a)===!1||a.type!=="Group"&&l===!1)break}break;default:throw Error("non exhaustive match!")}return Ae(e)}function br(t,e,n){const r=Ut(t);e[r]=r,n===!0&&TI(t,e)}function TI(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const s=Ut(r.charCodeAt(0));e[s]=s}else{const s=n.toLowerCase();if(s!==n){const i=Ut(s.charCodeAt(0));e[i]=i}}}function Vo(t,e){return gn(t.value,n=>{if(typeof n=="number")return Be(e,n);{const r=n;return gn(e,s=>r.from<=s&&s<=r.to)!==void 0}})}function Ai(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Q(t.value)?ct(t.value,Ai):Ai(t.value):!1}class AI extends vs{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Be(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?Vo(e,this.targetCharCodes)===void 0&&(this.found=!0):Vo(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function ya(t,e){if(e instanceof RegExp){const n=Ls(e),r=new AI(t);return r.visit(n),r.found}else return gn(e,n=>Be(t,n.charCodeAt(0)))!==void 0}const Jt="PATTERN",Fn="defaultMode",Ir="modes";let ah=typeof new RegExp("(?:)").sticky=="boolean";function NI(t,e){e=_a(e,{useSticky:ah,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(B,M)=>M()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{YI()});let r;n("Reject Lexer.NA",()=>{r=bs(t,B=>B[Jt]===je.NA)});let s=!1,i;n("Transform Patterns",()=>{s=!1,i=j(r,B=>{const M=B[Jt];if(Ot(M)){const S=M.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!M.ignoreCase?S:S.length===2&&S[0]==="\\"&&!Be(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:e.useSticky?zo(M):Ko(M)}else{if(Tt(M))return s=!0,{exec:M};if(typeof M=="object")return s=!0,M;if(typeof M=="string"){if(M.length===1)return M;{const S=M.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),C=new RegExp(S);return e.useSticky?zo(C):Ko(C)}}else throw Error("non exhaustive match")}})});let a,l,c,u,d;n("misc mapping",()=>{a=j(r,B=>B.tokenTypeIdx),l=j(r,B=>{const M=B.GROUP;if(M!==je.SKIPPED){if($e(M))return M;if(Ct(M))return!1;throw Error("non exhaustive match")}}),c=j(r,B=>{const M=B.LONGER_ALT;if(M)return Q(M)?j(M,C=>xo(r,C)):[xo(r,M)]}),u=j(r,B=>B.PUSH_MODE),d=j(r,B=>W(B,"POP_MODE"))});let f;n("Line Terminator Handling",()=>{const B=ch(e.lineTerminatorCharacters);f=j(r,M=>!1),e.positionTracking!=="onlyOffset"&&(f=j(r,M=>W(M,"LINE_BREAKS")?!!M.LINE_BREAKS:lh(M,B)===!1&&ya(B,M.PATTERN)))});let p,E,A,b;n("Misc Mapping #2",()=>{p=j(r,oh),E=j(i,HI),A=De(r,(B,M)=>{const S=M.GROUP;return $e(S)&&S!==je.SKIPPED&&(B[S]=[]),B},{}),b=j(i,(B,M)=>({pattern:i[M],longerAlt:c[M],canLineTerminator:f[M],isCustom:p[M],short:E[M],group:l[M],push:u[M],pop:d[M],tokenTypeIdx:a[M],tokenType:r[M]}))});let y=!0,R=[];return e.safeMode||n("First Char Optimization",()=>{R=De(r,(B,M,S)=>{if(typeof M.PATTERN=="string"){const C=M.PATTERN.charCodeAt(0),U=Ut(C);Xs(B,U,b[S])}else if(Q(M.START_CHARS_HINT)){let C;Y(M.START_CHARS_HINT,U=>{const G=typeof U=="string"?U.charCodeAt(0):U,z=Ut(G);C!==z&&(C=z,Xs(B,z,b[S]))})}else if(Ot(M.PATTERN))if(M.PATTERN.unicode)y=!1,e.ensureOptimizations&&gi(`${Yr}	Unable to analyze < ${M.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const C=gI(M.PATTERN,e.ensureOptimizations);re(C)&&(y=!1),Y(C,U=>{Xs(B,U,b[S])})}else e.ensureOptimizations&&gi(`${Yr}	TokenType: <${M.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return B},[])}),{emptyGroups:A,patternIdxToConfig:b,charCodeToPatternIdxToConfig:R,hasCustom:s,canBeOptimized:y}}function bI(t,e){let n=[];const r=RI(t);n=n.concat(r.errors);const s=SI(r.valid),i=s.valid;return n=n.concat(s.errors),n=n.concat(II(i)),n=n.concat(PI(i)),n=n.concat(DI(i,e)),n=n.concat(wI(i)),n}function II(t){let e=[];const n=qe(t,r=>Ot(r[Jt]));return e=e.concat(OI(n)),e=e.concat(LI(n)),e=e.concat(kI(n)),e=e.concat(MI(n)),e=e.concat(CI(n)),e}function RI(t){const e=qe(t,s=>!W(s,Jt)),n=j(e,s=>({message:"Token Type: ->"+s.name+"<- missing static 'PATTERN' property",type:me.MISSING_PATTERN,tokenTypes:[s]})),r=Ns(t,e);return{errors:n,valid:r}}function SI(t){const e=qe(t,s=>{const i=s[Jt];return!Ot(i)&&!Tt(i)&&!W(i,"exec")&&!$e(i)}),n=j(e,s=>({message:"Token Type: ->"+s.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:me.INVALID_PATTERN,tokenTypes:[s]})),r=Ns(t,e);return{errors:n,valid:r}}const vI=/[^\\][$]/;function OI(t){class e extends vs{constructor(){super(...arguments),this.found=!1}visitEndAnchor(i){this.found=!0}}const n=qe(t,s=>{const i=s.PATTERN;try{const a=Ls(i),l=new e;return l.visit(a),l.found}catch{return vI.test(i.source)}});return j(n,s=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+s.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:me.EOI_ANCHOR_FOUND,tokenTypes:[s]}))}function CI(t){const e=qe(t,r=>r.PATTERN.test(""));return j(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:me.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const yI=/[^\\[][\^]|^\^/;function LI(t){class e extends vs{constructor(){super(...arguments),this.found=!1}visitStartAnchor(i){this.found=!0}}const n=qe(t,s=>{const i=s.PATTERN;try{const a=Ls(i),l=new e;return l.visit(a),l.found}catch{return yI.test(i.source)}});return j(n,s=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+s.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:me.SOI_ANCHOR_FOUND,tokenTypes:[s]}))}function kI(t){const e=qe(t,r=>{const s=r[Jt];return s instanceof RegExp&&(s.multiline||s.global)});return j(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:me.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function MI(t){const e=[];let n=j(t,i=>De(t,(a,l)=>(i.PATTERN.source===l.PATTERN.source&&!Be(e,l)&&l.PATTERN!==je.NA&&(e.push(l),a.push(l)),a),[]));n=dr(n);const r=qe(n,i=>i.length>1);return j(r,i=>{const a=j(i,c=>c.name);return{message:`The same RegExp pattern ->${dt(i).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:me.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function PI(t){const e=qe(t,r=>{if(!W(r,"GROUP"))return!1;const s=r.GROUP;return s!==je.SKIPPED&&s!==je.NA&&!$e(s)});return j(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:me.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function DI(t,e){const n=qe(t,s=>s.PUSH_MODE!==void 0&&!Be(e,s.PUSH_MODE));return j(n,s=>({message:`Token Type: ->${s.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${s.PUSH_MODE}<-which does not exist`,type:me.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[s]}))}function wI(t){const e=[],n=De(t,(r,s,i)=>{const a=s.PATTERN;return a===je.NA||($e(a)?r.push({str:a,idx:i,tokenType:s}):Ot(a)&&BI(a)&&r.push({str:a.source,idx:i,tokenType:s})),r},[]);return Y(t,(r,s)=>{Y(n,({str:i,idx:a,tokenType:l})=>{if(s<a&&xI(i,r.PATTERN)){const c=`Token: ->${l.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:c,type:me.UNREACHABLE_PATTERN,tokenTypes:[r,l]})}})}),e}function xI(t,e){if(Ot(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(Tt(e))return e(t,0,[],{});if(W(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function BI(t){return gn([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function Ko(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function zo(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function UI(t,e,n){const r=[];return W(t,Fn)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Fn+`> property in its definition
`,type:me.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),W(t,Ir)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Ir+`> property in its definition
`,type:me.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),W(t,Ir)&&W(t,Fn)&&!W(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${Fn}: <${t.defaultMode}>which does not exist
`,type:me.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),W(t,Ir)&&Y(t.modes,(s,i)=>{Y(s,(a,l)=>{if(Ct(a))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${i}> at index: <${l}>
`,type:me.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(W(a,"LONGER_ALT")){const c=Q(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];Y(c,u=>{!Ct(u)&&!Be(s,u)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${a.name}> outside of mode <${i}>
`,type:me.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function FI(t,e,n){const r=[];let s=!1;const i=dr(Ke(Ae(t.modes))),a=bs(i,c=>c[Jt]===je.NA),l=ch(n);return e&&Y(a,c=>{const u=lh(c,l);if(u!==!1){const f={message:GI(c,u),type:u.issue,tokenType:c};r.push(f)}else W(c,"LINE_BREAKS")?c.LINE_BREAKS===!0&&(s=!0):ya(l,c.PATTERN)&&(s=!0)}),e&&!s&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:me.NO_LINE_BREAKS_FLAGS}),r}function jI(t){const e={},n=Xe(t);return Y(n,r=>{const s=t[r];if(Q(s))e[r]=[];else throw Error("non exhaustive match")}),e}function oh(t){const e=t.PATTERN;if(Ot(e))return!1;if(Tt(e))return!0;if(W(e,"exec"))return!0;if($e(e))return!1;throw Error("non exhaustive match")}function HI(t){return $e(t)&&t.length===1?t.charCodeAt(0):!1}const $I={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function lh(t,e){if(W(t,"LINE_BREAKS"))return!1;if(Ot(t.PATTERN)){try{ya(e,t.PATTERN)}catch(n){return{issue:me.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if($e(t.PATTERN))return!1;if(oh(t))return{issue:me.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function GI(t,e){if(e.issue===me.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===me.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function ch(t){return j(t,n=>$e(n)?n.charCodeAt(0):n)}function Xs(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const jn=256;let Lr=[];function Ut(t){return t<jn?t:Lr[t]}function YI(){if(re(Lr)){Lr=new Array(65536);for(let t=0;t<65536;t++)Lr[t]=t>255?255+~~(t/255):t}}function mr(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function Wr(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let Xo=1;const uh={};function pr(t){const e=WI(t);VI(e),zI(e),KI(e),Y(e,n=>{n.isParent=n.categoryMatches.length>0})}function WI(t){let e=Oe(t),n=t,r=!0;for(;r;){n=dr(Ke(j(n,i=>i.CATEGORIES)));const s=Ns(n,e);e=e.concat(s),re(s)?r=!1:n=s}return e}function VI(t){Y(t,e=>{hh(e)||(uh[Xo]=e,e.tokenTypeIdx=Xo++),Qo(e)&&!Q(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Qo(e)||(e.CATEGORIES=[]),XI(e)||(e.categoryMatches=[]),QI(e)||(e.categoryMatchesMap={})})}function KI(t){Y(t,e=>{e.categoryMatches=[],Y(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(uh[r].tokenTypeIdx)})})}function zI(t){Y(t,e=>{dh([],e)})}function dh(t,e){Y(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),Y(e.CATEGORIES,n=>{const r=t.concat(e);Be(r,n)||dh(r,n)})}function hh(t){return W(t,"tokenTypeIdx")}function Qo(t){return W(t,"CATEGORIES")}function XI(t){return W(t,"categoryMatches")}function QI(t){return W(t,"categoryMatchesMap")}function qI(t){return W(t,"tokenTypeIdx")}const JI={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,s){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var me;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(me||(me={}));const Hn={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:JI,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Hn);class je{constructor(e,n=Hn){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(s,i)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${s}>`);const{time:l,value:c}=nh(i),u=l>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${s}> time: ${l}ms`),this.traceInitIndent--,c}else return i()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Qe({},Hn,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let s,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Hn.lineTerminatorsPattern)this.config.lineTerminatorsPattern=$I;else if(this.config.lineTerminatorCharacters===Hn.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Q(e)?s={modes:{defaultMode:Oe(e)},defaultMode:Fn}:(i=!1,s=Oe(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(UI(s,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(FI(s,this.trackStartLines,this.config.lineTerminatorCharacters))})),s.modes=s.modes?s.modes:{},Y(s.modes,(l,c)=>{s.modes[c]=bs(l,u=>Ct(u))});const a=Xe(s.modes);if(Y(s.modes,(l,c)=>{this.TRACE_INIT(`Mode: <${c}> processing`,()=>{if(this.modes.push(c),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(bI(l,a))}),re(this.lexerDefinitionErrors)){pr(l);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=NI(l,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[c]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[c]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Qe({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[c]=u.canBeOptimized}})}),this.defaultMode=s.defaultMode,!re(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const c=j(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+c)}Y(this.lexerDefinitionWarning,l=>{th(l.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(ah?(this.chopInput=vt,this.match=this.matchWithTest):(this.updateLastIndex=Te,this.match=this.matchWithExec),i&&(this.handleModes=Te),this.trackStartLines===!1&&(this.computeNewColumn=vt),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Te),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const l=De(this.canModeBeOptimized,(c,u,d)=>(u===!1&&c.push(d),c),[]);if(n.ensureOptimizations&&!re(l))throw Error(`Lexer Modes: < ${l.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{EI()}),this.TRACE_INIT("toFastProperties",()=>{rh(this)})})}tokenize(e,n=this.defaultMode){if(!re(this.lexerDefinitionErrors)){const s=j(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+s)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,s,i,a,l,c,u,d,f,p,E,A,b,y,R;const B=e,M=B.length;let S=0,C=0;const U=this.hasCustom?0:Math.floor(e.length/10),G=new Array(U),z=[];let X=this.trackStartLines?1:void 0,V=this.trackStartLines?1:void 0;const P=jI(this.emptyGroups),D=this.trackStartLines,F=this.config.lineTerminatorsPattern;let v=0,k=[],O=[];const I=[],x=[];Object.freeze(x);let $;function H(){return k}function q(de){const Ee=Ut(de),et=O[Ee];return et===void 0?x:et}const ue=de=>{if(I.length===1&&de.tokenType.PUSH_MODE===void 0){const Ee=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(de);z.push({offset:de.startOffset,line:de.startLine,column:de.startColumn,length:de.image.length,message:Ee})}else{I.pop();const Ee=En(I);k=this.patternIdxToConfig[Ee],O=this.charCodeToPatternIdxToConfig[Ee],v=k.length;const et=this.canModeBeOptimized[Ee]&&this.config.safeMode===!1;O&&et?$=q:$=H}};function pe(de){I.push(de),O=this.charCodeToPatternIdxToConfig[de],k=this.patternIdxToConfig[de],v=k.length,v=k.length;const Ee=this.canModeBeOptimized[de]&&this.config.safeMode===!1;O&&Ee?$=q:$=H}pe.call(this,n);let ne;const Me=this.config.recoveryEnabled;for(;S<M;){c=null;const de=B.charCodeAt(S),Ee=$(de),et=Ee.length;for(r=0;r<et;r++){ne=Ee[r];const _e=ne.pattern;u=null;const oe=ne.short;if(oe!==!1?de===oe&&(c=_e):ne.isCustom===!0?(R=_e.exec(B,S,G,P),R!==null?(c=R[0],R.payload!==void 0&&(u=R.payload)):c=null):(this.updateLastIndex(_e,S),c=this.match(_e,e,S)),c!==null){if(l=ne.longerAlt,l!==void 0){const Ie=l.length;for(i=0;i<Ie;i++){const Pe=k[l[i]],tt=Pe.pattern;if(d=null,Pe.isCustom===!0?(R=tt.exec(B,S,G,P),R!==null?(a=R[0],R.payload!==void 0&&(d=R.payload)):a=null):(this.updateLastIndex(tt,S),a=this.match(tt,e,S)),a&&a.length>c.length){c=a,u=d,ne=Pe;break}}}break}}if(c!==null){if(f=c.length,p=ne.group,p!==void 0&&(E=ne.tokenTypeIdx,A=this.createTokenInstance(c,S,E,ne.tokenType,X,V,f),this.handlePayload(A,u),p===!1?C=this.addToken(G,C,A):P[p].push(A)),e=this.chopInput(e,f),S=S+f,V=this.computeNewColumn(V,f),D===!0&&ne.canLineTerminator===!0){let _e=0,oe,Ie;F.lastIndex=0;do oe=F.test(c),oe===!0&&(Ie=F.lastIndex-1,_e++);while(oe===!0);_e!==0&&(X=X+_e,V=f-Ie,this.updateTokenEndLineColumnLocation(A,p,Ie,_e,X,V,f))}this.handleModes(ne,ue,pe,A)}else{const _e=S,oe=X,Ie=V;let Pe=Me===!1;for(;Pe===!1&&S<M;)for(e=this.chopInput(e,1),S++,s=0;s<v;s++){const tt=k[s],Us=tt.pattern,Wa=tt.short;if(Wa!==!1?B.charCodeAt(S)===Wa&&(Pe=!0):tt.isCustom===!0?Pe=Us.exec(B,S,G,P)!==null:(this.updateLastIndex(Us,S),Pe=Us.exec(e)!==null),Pe===!0)break}if(b=S-_e,V=this.computeNewColumn(V,b),y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(B,_e,b,oe,Ie),z.push({offset:_e,line:oe,column:Ie,length:b,message:y}),Me===!1)break}}return this.hasCustom||(G.length=C),{tokens:G,groups:P,errors:z}}handleModes(e,n,r,s){if(e.pop===!0){const i=e.push;n(s),i!==void 0&&r.call(this,i)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,s,i,a,l){let c,u;n!==void 0&&(c=r===l-1,u=c?-1:0,s===1&&c===!0||(e.endLine=i+u,e.endColumn=a-1+-u))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,s){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:s}}createStartOnlyToken(e,n,r,s,i,a){return{image:e,startOffset:n,startLine:i,startColumn:a,tokenTypeIdx:r,tokenType:s}}createFullToken(e,n,r,s,i,a,l){return{image:e,startOffset:n,endOffset:n+l-1,startLine:i,endLine:i,startColumn:a,endColumn:a+l-1,tokenTypeIdx:r,tokenType:s}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}je.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";je.NA=/NOT_APPLICABLE/;function hn(t){return fh(t)?t.LABEL:t.name}function fh(t){return $e(t.LABEL)&&t.LABEL!==""}const ZI="parent",qo="categories",Jo="label",Zo="group",el="push_mode",tl="pop_mode",nl="longer_alt",rl="line_breaks",sl="start_chars_hint";function mh(t){return eR(t)}function eR(t){const e=t.pattern,n={};if(n.name=t.name,Ct(e)||(n.PATTERN=e),W(t,ZI))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return W(t,qo)&&(n.CATEGORIES=t[qo]),pr([n]),W(t,Jo)&&(n.LABEL=t[Jo]),W(t,Zo)&&(n.GROUP=t[Zo]),W(t,tl)&&(n.POP_MODE=t[tl]),W(t,el)&&(n.PUSH_MODE=t[el]),W(t,nl)&&(n.LONGER_ALT=t[nl]),W(t,rl)&&(n.LINE_BREAKS=t[rl]),W(t,sl)&&(n.START_CHARS_HINT=t[sl]),n}const Ft=mh({name:"EOF",pattern:je.NA});pr([Ft]);function La(t,e,n,r,s,i,a,l){return{image:e,startOffset:n,endOffset:r,startLine:s,endLine:i,startColumn:a,endColumn:l,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function ph(t,e){return mr(t,e)}const cn={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${fh(t)?`--> ${hn(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:s}){const i="Expecting: ",l=`
but found: '`+dt(e).image+"'";if(r)return i+r+l;{const c=De(t,(p,E)=>p.concat(E),[]),u=j(c,p=>`[${j(p,E=>hn(E)).join(", ")}]`),f=`one of these possible Token sequences:
${j(u,(p,E)=>`  ${E+1}. ${p}`).join(`
`)}`;return i+f+l}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const s="Expecting: ",a=`
but found: '`+dt(e).image+"'";if(n)return s+n+a;{const c=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${j(t,u=>`[${j(u,d=>hn(d)).join(",")}]`).join(" ,")}>`;return s+c+a}}};Object.freeze(cn);const tR={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Yt={buildDuplicateFoundError(t,e){function n(d){return d instanceof ae?d.terminalType.name:d instanceof we?d.nonTerminalName:""}const r=t.name,s=dt(e),i=s.idx,a=pt(s),l=n(s),c=i>0;let u=`->${a}${c?i:""}<- ${l?`with argument: ->${l}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=j(t.prefixPath,s=>hn(s)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=j(t.prefixPath,s=>hn(s)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=pt(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=j(t.leftRecursionPath,i=>i.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof yn?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function nR(t,e){const n=new rR(t,e);return n.resolveRefs(),n.errors}class rR extends Ln{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){Y(Ae(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:xe.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class sR extends ys{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Oe(this.path.ruleStack).reverse(),this.occurrenceStack=Oe(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const s=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,s)}}updateExpectedNext(){re(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class iR extends sR{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const s=n.concat(r),i=new Ge({definition:s});this.possibleTokTypes=fr(i),this.found=!0}}}class ks extends ys{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class aR extends ks{walkMany(e,n,r){if(e.idx===this.occurrence){const s=dt(n.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ae&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else super.walkMany(e,n,r)}}class il extends ks{walkManySep(e,n,r){if(e.idx===this.occurrence){const s=dt(n.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ae&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else super.walkManySep(e,n,r)}}class oR extends ks{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const s=dt(n.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ae&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else super.walkAtLeastOne(e,n,r)}}class al extends ks{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const s=dt(n.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ae&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else super.walkAtLeastOneSep(e,n,r)}}function Ni(t,e,n=[]){n=Oe(n);let r=[],s=0;function i(l){return l.concat(Re(t,s+1))}function a(l){const c=Ni(i(l),e,n);return r.concat(c)}for(;n.length<e&&s<t.length;){const l=t[s];if(l instanceof Ge)return a(l.definition);if(l instanceof we)return a(l.definition);if(l instanceof ve)r=a(l.definition);else if(l instanceof Je){const c=l.definition.concat([new fe({definition:l.definition})]);return a(c)}else if(l instanceof Ze){const c=[new Ge({definition:l.definition}),new fe({definition:[new ae({terminalType:l.separator})].concat(l.definition)})];return a(c)}else if(l instanceof We){const c=l.definition.concat([new fe({definition:[new ae({terminalType:l.separator})].concat(l.definition)})]);r=a(c)}else if(l instanceof fe){const c=l.definition.concat([new fe({definition:l.definition})]);r=a(c)}else{if(l instanceof Ve)return Y(l.definition,c=>{re(c.definition)===!1&&(r=a(c.definition))}),r;if(l instanceof ae)n.push(l.terminalType);else throw Error("non exhaustive match")}s++}return r.push({partialPath:n,suffixDef:Re(t,s)}),r}function _h(t,e,n,r){const s="EXIT_NONE_TERMINAL",i=[s],a="EXIT_ALTERNATIVE";let l=!1;const c=e.length,u=c-r-1,d=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!re(f);){const p=f.pop();if(p===a){l&&En(f).idx<=u&&f.pop();continue}const E=p.def,A=p.idx,b=p.ruleStack,y=p.occurrenceStack;if(re(E))continue;const R=E[0];if(R===s){const B={idx:A,def:Re(E),ruleStack:Zn(b),occurrenceStack:Zn(y)};f.push(B)}else if(R instanceof ae)if(A<c-1){const B=A+1,M=e[B];if(n(M,R.terminalType)){const S={idx:B,def:Re(E),ruleStack:b,occurrenceStack:y};f.push(S)}}else if(A===c-1)d.push({nextTokenType:R.terminalType,nextTokenOccurrence:R.idx,ruleStack:b,occurrenceStack:y}),l=!0;else throw Error("non exhaustive match");else if(R instanceof we){const B=Oe(b);B.push(R.nonTerminalName);const M=Oe(y);M.push(R.idx);const S={idx:A,def:R.definition.concat(i,Re(E)),ruleStack:B,occurrenceStack:M};f.push(S)}else if(R instanceof ve){const B={idx:A,def:Re(E),ruleStack:b,occurrenceStack:y};f.push(B),f.push(a);const M={idx:A,def:R.definition.concat(Re(E)),ruleStack:b,occurrenceStack:y};f.push(M)}else if(R instanceof Je){const B=new fe({definition:R.definition,idx:R.idx}),M=R.definition.concat([B],Re(E)),S={idx:A,def:M,ruleStack:b,occurrenceStack:y};f.push(S)}else if(R instanceof Ze){const B=new ae({terminalType:R.separator}),M=new fe({definition:[B].concat(R.definition),idx:R.idx}),S=R.definition.concat([M],Re(E)),C={idx:A,def:S,ruleStack:b,occurrenceStack:y};f.push(C)}else if(R instanceof We){const B={idx:A,def:Re(E),ruleStack:b,occurrenceStack:y};f.push(B),f.push(a);const M=new ae({terminalType:R.separator}),S=new fe({definition:[M].concat(R.definition),idx:R.idx}),C=R.definition.concat([S],Re(E)),U={idx:A,def:C,ruleStack:b,occurrenceStack:y};f.push(U)}else if(R instanceof fe){const B={idx:A,def:Re(E),ruleStack:b,occurrenceStack:y};f.push(B),f.push(a);const M=new fe({definition:R.definition,idx:R.idx}),S=R.definition.concat([M],Re(E)),C={idx:A,def:S,ruleStack:b,occurrenceStack:y};f.push(C)}else if(R instanceof Ve)for(let B=R.definition.length-1;B>=0;B--){const M=R.definition[B],S={idx:A,def:M.definition.concat(Re(E)),ruleStack:b,occurrenceStack:y};f.push(S),f.push(a)}else if(R instanceof Ge)f.push({idx:A,def:R.definition.concat(Re(E)),ruleStack:b,occurrenceStack:y});else if(R instanceof yn)f.push(lR(R,A,b,y));else throw Error("non exhaustive match")}return d}function lR(t,e,n,r){const s=Oe(n);s.push(t.name);const i=Oe(r);return i.push(1),{idx:e,def:t.definition,ruleStack:s,occurrenceStack:i}}var he;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(he||(he={}));function ka(t){if(t instanceof ve||t==="Option")return he.OPTION;if(t instanceof fe||t==="Repetition")return he.REPETITION;if(t instanceof Je||t==="RepetitionMandatory")return he.REPETITION_MANDATORY;if(t instanceof Ze||t==="RepetitionMandatoryWithSeparator")return he.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof We||t==="RepetitionWithSeparator")return he.REPETITION_WITH_SEPARATOR;if(t instanceof Ve||t==="Alternation")return he.ALTERNATION;throw Error("non exhaustive match")}function ol(t){const{occurrence:e,rule:n,prodType:r,maxLookahead:s}=t,i=ka(r);return i===he.ALTERNATION?Ms(e,n,s):Ps(e,n,i,s)}function cR(t,e,n,r,s,i){const a=Ms(t,e,n),l=Th(a)?Wr:mr;return i(a,r,l,s)}function uR(t,e,n,r,s,i){const a=Ps(t,e,s,n),l=Th(a)?Wr:mr;return i(a[0],l,r)}function dR(t,e,n,r){const s=t.length,i=ct(t,a=>ct(a,l=>l.length===1));if(e)return function(a){const l=j(a,c=>c.GATE);for(let c=0;c<s;c++){const u=t[c],d=u.length,f=l[c];if(!(f!==void 0&&f.call(this)===!1))e:for(let p=0;p<d;p++){const E=u[p],A=E.length;for(let b=0;b<A;b++){const y=this.LA(b+1);if(n(y,E[b])===!1)continue e}return c}}};if(i&&!r){const a=j(t,c=>Ke(c)),l=De(a,(c,u,d)=>(Y(u,f=>{W(c,f.tokenTypeIdx)||(c[f.tokenTypeIdx]=d),Y(f.categoryMatches,p=>{W(c,p)||(c[p]=d)})}),c),{});return function(){const c=this.LA(1);return l[c.tokenTypeIdx]}}else return function(){for(let a=0;a<s;a++){const l=t[a],c=l.length;e:for(let u=0;u<c;u++){const d=l[u],f=d.length;for(let p=0;p<f;p++){const E=this.LA(p+1);if(n(E,d[p])===!1)continue e}return a}}}}function hR(t,e,n){const r=ct(t,i=>i.length===1),s=t.length;if(r&&!n){const i=Ke(t);if(i.length===1&&re(i[0].categoryMatches)){const l=i[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===l}}else{const a=De(i,(l,c,u)=>(l[c.tokenTypeIdx]=!0,Y(c.categoryMatches,d=>{l[d]=!0}),l),[]);return function(){const l=this.LA(1);return a[l.tokenTypeIdx]===!0}}}else return function(){e:for(let i=0;i<s;i++){const a=t[i],l=a.length;for(let c=0;c<l;c++){const u=this.LA(c+1);if(e(u,a[c])===!1)continue e}return!0}return!1}}class fR extends ys{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,s){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(s),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,he.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,he.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,he.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,he.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,he.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class Eh extends Ln{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,he.OPTION)}visitRepetition(e){this.checkIsTarget(e,he.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,he.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,he.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,he.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,he.ALTERNATION)}}function ll(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function Qs(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],s=[];for(let i=0;i<e.length;i++){const a=e[i];s.push(a+"_"+r.tokenTypeIdx);for(let l=0;l<r.categoryMatches.length;l++){const c="_"+r.categoryMatches[l];s.push(a+c)}}e=s}return e}function mR(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const s=t[r];for(let i=0;i<e.length;i++){const a=e[i];if(s[a]===!0)return!1}}return!0}function gh(t,e){const n=j(t,a=>Ni([a],1)),r=ll(n.length),s=j(n,a=>{const l={};return Y(a,c=>{const u=Qs(c.partialPath);Y(u,d=>{l[d]=!0})}),l});let i=n;for(let a=1;a<=e;a++){const l=i;i=ll(l.length);for(let c=0;c<l.length;c++){const u=l[c];for(let d=0;d<u.length;d++){const f=u[d].partialPath,p=u[d].suffixDef,E=Qs(f);if(mR(s,E,c)||re(p)||f.length===e){const b=r[c];if(bi(b,f)===!1){b.push(f);for(let y=0;y<E.length;y++){const R=E[y];s[c][R]=!0}}}else{const b=Ni(p,a+1,f);i[c]=i[c].concat(b),Y(b,y=>{const R=Qs(y.partialPath);Y(R,B=>{s[c][B]=!0})})}}}}return r}function Ms(t,e,n,r){const s=new Eh(t,he.ALTERNATION,r);return e.accept(s),gh(s.result,n)}function Ps(t,e,n,r){const s=new Eh(t,n);e.accept(s);const i=s.result,l=new fR(e,t,n).startWalking(),c=new Ge({definition:i}),u=new Ge({definition:l});return gh([c,u],r)}function bi(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let s=0;s<r.length;s++){const i=e[s],a=r[s];if((i===a||a.categoryMatchesMap[i.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function pR(t,e){return t.length<e.length&&ct(t,(n,r)=>{const s=e[r];return n===s||s.categoryMatchesMap[n.tokenTypeIdx]})}function Th(t){return ct(t,e=>ct(e,n=>ct(n,r=>re(r.categoryMatches))))}function _R(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return j(e,n=>Object.assign({type:xe.CUSTOM_LOOKAHEAD_VALIDATION},n))}function ER(t,e,n,r){const s=ze(t,c=>gR(c,n)),i=LR(t,e,n),a=ze(t,c=>vR(c,n)),l=ze(t,c=>NR(c,t,r,n));return s.concat(i,a,l)}function gR(t,e){const n=new AR;t.accept(n);const r=n.allProductions,s=_N(r,TR),i=ft(s,l=>l.length>1);return j(Ae(i),l=>{const c=dt(l),u=e.buildDuplicateFoundError(t,l),d=pt(c),f={message:u,type:xe.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:d,occurrence:c.idx},p=Ah(c);return p&&(f.parameter=p),f})}function TR(t){return`${pt(t)}_#_${t.idx}_#_${Ah(t)}`}function Ah(t){return t instanceof ae?t.terminalType.name:t instanceof we?t.nonTerminalName:""}class AR extends Ln{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function NR(t,e,n,r){const s=[];if(De(e,(a,l)=>l.name===t.name?a+1:a,0)>1){const a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});s.push({message:a,type:xe.DUPLICATE_RULE_NAME,ruleName:t.name})}return s}function bR(t,e,n){const r=[];let s;return Be(e,t)||(s=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:s,type:xe.INVALID_RULE_OVERRIDE,ruleName:t})),r}function Nh(t,e,n,r=[]){const s=[],i=kr(e.definition);if(re(i))return[];{const a=t.name;Be(i,t)&&s.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:xe.LEFT_RECURSION,ruleName:a});const c=Ns(i,r.concat([t])),u=ze(c,d=>{const f=Oe(r);return f.push(d),Nh(t,d,n,f)});return s.concat(u)}}function kr(t){let e=[];if(re(t))return e;const n=dt(t);if(n instanceof we)e.push(n.referencedRule);else if(n instanceof Ge||n instanceof ve||n instanceof Je||n instanceof Ze||n instanceof We||n instanceof fe)e=e.concat(kr(n.definition));else if(n instanceof Ve)e=Ke(j(n.definition,i=>kr(i.definition)));else if(!(n instanceof ae))throw Error("non exhaustive match");const r=Gr(n),s=t.length>1;if(r&&s){const i=Re(t);return e.concat(kr(i))}else return e}class Ma extends Ln{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function IR(t,e){const n=new Ma;t.accept(n);const r=n.alternations;return ze(r,i=>{const a=Zn(i.definition);return ze(a,(l,c)=>{const u=_h([l],[],mr,1);return re(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:c}),type:xe.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:c+1}]:[]})})}function RR(t,e,n){const r=new Ma;t.accept(r);let s=r.alternations;return s=bs(s,a=>a.ignoreAmbiguities===!0),ze(s,a=>{const l=a.idx,c=a.maxLookahead||e,u=Ms(l,t,c,a),d=CR(u,a,t,n),f=yR(u,a,t,n);return d.concat(f)})}class SR extends Ln{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function vR(t,e){const n=new Ma;t.accept(n);const r=n.alternations;return ze(r,i=>i.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:xe.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}]:[])}function OR(t,e,n){const r=[];return Y(t,s=>{const i=new SR;s.accept(i);const a=i.allProductions;Y(a,l=>{const c=ka(l),u=l.maxLookahead||e,d=l.idx,p=Ps(d,s,c,u)[0];if(re(Ke(p))){const E=n.buildEmptyRepetitionError({topLevelRule:s,repetition:l});r.push({message:E,type:xe.NO_NON_EMPTY_LOOKAHEAD,ruleName:s.name})}})}),r}function CR(t,e,n,r){const s=[],i=De(t,(l,c,u)=>(e.definition[u].ignoreAmbiguities===!0||Y(c,d=>{const f=[u];Y(t,(p,E)=>{u!==E&&bi(p,d)&&e.definition[E].ignoreAmbiguities!==!0&&f.push(E)}),f.length>1&&!bi(s,d)&&(s.push(d),l.push({alts:f,path:d}))}),l),[]);return j(i,l=>{const c=j(l.alts,d=>d+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:c,prefixPath:l.path}),type:xe.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:l.alts}})}function yR(t,e,n,r){const s=De(t,(a,l,c)=>{const u=j(l,d=>({idx:c,path:d}));return a.concat(u)},[]);return dr(ze(s,a=>{if(e.definition[a.idx].ignoreAmbiguities===!0)return[];const c=a.idx,u=a.path,d=qe(s,p=>e.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<c&&pR(p.path,u));return j(d,p=>{const E=[p.idx+1,c+1],A=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:E,prefixPath:p.path}),type:xe.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:A,alternatives:E}})}))}function LR(t,e,n){const r=[],s=j(e,i=>i.name);return Y(t,i=>{const a=i.name;if(Be(s,a)){const l=n.buildNamespaceConflictError(i);r.push({message:l,type:xe.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),r}function kR(t){const e=_a(t,{errMsgProvider:tR}),n={};return Y(t.rules,r=>{n[r.name]=r}),nR(n,e.errMsgProvider)}function MR(t){return t=_a(t,{errMsgProvider:Yt}),ER(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const bh="MismatchedTokenException",Ih="NoViableAltException",Rh="EarlyExitException",Sh="NotAllInputParsedException",vh=[bh,Ih,Rh,Sh];Object.freeze(vh);function Vr(t){return Be(vh,t.name)}class Ds extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Oh extends Ds{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=bh}}class PR extends Ds{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Ih}}class DR extends Ds{constructor(e,n){super(e,n),this.name=Sh}}class wR extends Ds{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Rh}}const qs={},Ch="InRuleRecoveryException";class xR extends Error{constructor(e){super(e),this.name=Ch}}class BR{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=W(e,"recoveryEnabled")?e.recoveryEnabled:yt.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=UR)}getTokenToInsert(e){const n=La(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,s){const i=this.findReSyncTokenType(),a=this.exportLexerState(),l=[];let c=!1;const u=this.LA(1);let d=this.LA(1);const f=()=>{const p=this.LA(0),E=this.errorMessageProvider.buildMismatchTokenMessage({expected:s,actual:u,previous:p,ruleName:this.getCurrRuleFullName()}),A=new Oh(E,u,this.LA(0));A.resyncedTokens=Zn(l),this.SAVE_ERROR(A)};for(;!c;)if(this.tokenMatcher(d,s)){f();return}else if(r.call(this)){f(),e.apply(this,n);return}else this.tokenMatcher(d,i)?c=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,l));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new xR("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||re(n))return!1;const r=this.LA(1);return gn(n,i=>this.tokenMatcher(r,i))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return Be(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const s=gn(e,i=>ph(n,i));if(s!==void 0)return s;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return qs;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return j(e,(r,s)=>s===0?qs:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[s],inRule:this.shortRuleNameToFullName(e[s-1])})}flattenFollowSet(){const e=j(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return Ke(e)}getFollowSetFromFollowKey(e){if(e===qs)return[Ft];const n=e.ruleName+e.idxInCallingRule+sh+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Ft)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return Zn(n)}attemptInRepetitionRecovery(e,n,r,s,i,a,l){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),s=Oe(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:s,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return j(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function UR(t,e,n,r,s,i,a){const l=this.getKeyForAutomaticLookahead(r,s);let c=this.firstAfterRepMap[l];if(c===void 0){const p=this.getCurrRuleFullName(),E=this.getGAstProductions()[p];c=new i(E,s).startWalking(),this.firstAfterRepMap[l]=c}let u=c.token,d=c.occurrence;const f=c.isEndOfRule;this.RULE_STACK.length===1&&f&&u===void 0&&(u=Ft,d=1),!(u===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,d,a)&&this.tryInRepetitionRecovery(t,e,n,u)}const FR=4,$t=8,yh=1<<$t,Lh=2<<$t,Ii=3<<$t,Ri=4<<$t,Si=5<<$t,Mr=6<<$t;function Js(t,e,n){return n|e|t}class Pa{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:yt.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(re(n)){const r=this.validateEmptyOrAlternatives(e.rules),s=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...s,...i]}return n}validateNoLeftRecursion(e){return ze(e,n=>Nh(n,n,Yt))}validateEmptyOrAlternatives(e){return ze(e,n=>IR(n,Yt))}validateAmbiguousAlternationAlternatives(e,n){return ze(e,r=>RR(r,n,Yt))}validateSomeNonEmptyLookaheadPath(e,n){return OR(e,n,Yt)}buildLookaheadForAlternation(e){return cR(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,dR)}buildLookaheadForOptional(e){return uR(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,ka(e.prodType),hR)}}class jR{initLooksAhead(e){this.dynamicTokensEnabled=W(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:yt.dynamicTokensEnabled,this.maxLookahead=W(e,"maxLookahead")?e.maxLookahead:yt.maxLookahead,this.lookaheadStrategy=W(e,"lookaheadStrategy")?e.lookaheadStrategy:new Pa({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Y(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:s,option:i,repetitionMandatory:a,repetitionMandatoryWithSeparator:l,repetitionWithSeparator:c}=$R(n);Y(r,u=>{const d=u.idx===0?"":u.idx;this.TRACE_INIT(`${pt(u)}${d}`,()=>{const f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:n,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=Js(this.fullRuleNameToShort[n.name],yh,u.idx);this.setLaFuncCache(p,f)})}),Y(s,u=>{this.computeLookaheadFunc(n,u.idx,Ii,"Repetition",u.maxLookahead,pt(u))}),Y(i,u=>{this.computeLookaheadFunc(n,u.idx,Lh,"Option",u.maxLookahead,pt(u))}),Y(a,u=>{this.computeLookaheadFunc(n,u.idx,Ri,"RepetitionMandatory",u.maxLookahead,pt(u))}),Y(l,u=>{this.computeLookaheadFunc(n,u.idx,Mr,"RepetitionMandatoryWithSeparator",u.maxLookahead,pt(u))}),Y(c,u=>{this.computeLookaheadFunc(n,u.idx,Si,"RepetitionWithSeparator",u.maxLookahead,pt(u))})})})}computeLookaheadFunc(e,n,r,s,i,a){this.TRACE_INIT(`${a}${n===0?"":n}`,()=>{const l=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:s}),c=Js(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(c,l)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return Js(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class HR extends Ln{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const Rr=new HR;function $R(t){Rr.reset(),t.accept(Rr);const e=Rr.dslMethods;return Rr.reset(),e}function cl(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function ul(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function GR(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function YR(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const WR="name";function kh(t,e){Object.defineProperty(t,WR,{enumerable:!1,configurable:!0,writable:!1,value:e})}function VR(t,e){const n=Xe(t),r=n.length;for(let s=0;s<r;s++){const i=n[s],a=t[i],l=a.length;for(let c=0;c<l;c++){const u=a[c];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function KR(t,e){const n=function(){};kh(n,t+"BaseSemantics");const r={visit:function(s,i){if(Q(s)&&(s=s[0]),!Ct(s))return this[s.name](s.children,i)},validateVisitor:function(){const s=XR(this,e);if(!re(s)){const i=j(s,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${i.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function zR(t,e,n){const r=function(){};kh(r,t+"BaseSemanticsWithDefaults");const s=Object.create(n.prototype);return Y(e,i=>{s[i]=VR}),r.prototype=s,r.prototype.constructor=r,r}var vi;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(vi||(vi={}));function XR(t,e){return QR(t,e)}function QR(t,e){const n=qe(e,s=>Tt(t[s])===!1),r=j(n,s=>({msg:`Missing visitor method: <${s}> on ${t.constructor.name} CST Visitor.`,type:vi.MISSING_METHOD,methodName:s}));return dr(r)}class qR{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=W(e,"nodeLocationTracking")?e.nodeLocationTracking:yt.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Te,this.cstFinallyStateUpdate=Te,this.cstPostTerminal=Te,this.cstPostNonTerminal=Te,this.cstPostRule=Te;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=ul,this.setNodeLocationFromNode=ul,this.cstPostRule=Te,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Te,this.setNodeLocationFromNode=Te,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=cl,this.setNodeLocationFromNode=cl,this.cstPostRule=Te,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Te,this.setNodeLocationFromNode=Te,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Te,this.setNodeLocationFromNode=Te,this.cstPostRule=Te,this.setInitialNodeLocation=Te;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];GR(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];YR(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Ct(this.baseCstVisitorConstructor)){const e=KR(this.className,Xe(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Ct(this.baseCstVisitorWithDefaultsConstructor)){const e=zR(this.className,Xe(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class JR{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):zr}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?zr:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class ZR{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=Xr){if(Be(this.definedRulesNames,e)){const a={message:Yt.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:xe.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a)}this.definedRulesNames.push(e);const s=this.defineRule(e,n,r);return this[e]=s,s}OVERRIDE_RULE(e,n,r=Xr){const s=bR(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(s);const i=this.defineRule(e,n,r);return this[e]=i,i}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(s){if(Vr(s))return!1;throw s}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return oI(Ae(this.gastProductionsCache))}}class eS{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Wr,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},W(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Q(e)){if(re(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Q(e))this.tokensMap=De(e,(i,a)=>(i[a.name]=a,i),{});else if(W(e,"modes")&&ct(Ke(Ae(e.modes)),qI)){const i=Ke(Ae(e.modes)),a=Aa(i);this.tokensMap=De(a,(l,c)=>(l[c.name]=c,l),{})}else if(He(e))this.tokensMap=Oe(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Ft;const r=W(e,"modes")?Ke(Ae(e.modes)):Ae(e),s=ct(r,i=>re(i.categoryMatches));this.tokenMatcher=s?Wr:mr,pr(Ae(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const s=W(r,"resyncEnabled")?r.resyncEnabled:Xr.resyncEnabled,i=W(r,"recoveryValueFunc")?r.recoveryValueFunc:Xr.recoveryValueFunc,a=this.ruleShortNameIdx<<FR+$t;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let l;return this.outputCst===!0?l=function(...d){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,d);const f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,s,i)}finally{this.ruleFinallyStateUpdate()}}:l=function(...d){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,d)}catch(f){return this.invokeRuleCatch(f,s,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(l,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const s=this.RULE_STACK.length===1,i=n&&!this.isBackTracking()&&this.recoveryEnabled;if(Vr(e)){const a=e;if(i){const l=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(l))if(a.resyncedTokens=this.reSyncTo(l),this.outputCst){const c=this.CST_STACK[this.CST_STACK.length-1];return c.recoveredNode=!0,c}else return r(e);else{if(this.outputCst){const c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=!0,a.partialCstResult=c}throw a}}else{if(s)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(Lh,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let s=this.getLaFuncFromCache(r),i;if(typeof e!="function"){i=e.DEF;const a=e.GATE;if(a!==void 0){const l=s;s=()=>a.call(this)&&l.call(this)}}else i=e;if(s.call(this)===!0)return i.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(Ri,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let s=this.getLaFuncFromCache(r),i;if(typeof n!="function"){i=n.DEF;const a=n.GATE;if(a!==void 0){const l=s;s=()=>a.call(this)&&l.call(this)}}else i=n;if(s.call(this)===!0){let a=this.doSingleRepetition(i);for(;s.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i)}else throw this.raiseEarlyExitException(e,he.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],s,Ri,e,oR)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(Mr,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const s=n.DEF,i=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){s.call(this);const l=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,l,s,al],l,Mr,e,al)}else throw this.raiseEarlyExitException(e,he.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(Ii,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let s=this.getLaFuncFromCache(r),i;if(typeof n!="function"){i=n.DEF;const l=n.GATE;if(l!==void 0){const c=s;s=()=>l.call(this)&&c.call(this)}}else i=n;let a=!0;for(;s.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],s,Ii,e,aR,a)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(Si,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const s=n.DEF,i=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){s.call(this);const l=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,l,s,il],l,Si,e,il)}}repetitionSepSecondInternal(e,n,r,s,i){for(;r();)this.CONSUME(n),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,s,i],r,Mr,e,i)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(yh,n),s=Q(e)?e:e.DEF,a=this.getLaFuncFromCache(r).call(this,s);if(a!==void 0)return s[a].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new DR(n,e))}}subruleInternal(e,n,r){let s;try{const i=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,s=e.apply(this,i),this.cstPostNonTerminal(s,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),s}catch(i){throw this.subruleInternalError(i,r,e.ruleName)}}subruleInternalError(e,n,r){throw Vr(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let s;try{const i=this.LA(1);this.tokenMatcher(i,e)===!0?(this.consumeToken(),s=i):this.consumeInternalError(e,i,r)}catch(i){s=this.consumeInternalRecovery(e,n,i)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,s),s}consumeInternalError(e,n,r){let s;const i=this.LA(0);throw r!==void 0&&r.ERR_MSG?s=r.ERR_MSG:s=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Oh(s,n,i))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const s=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,s)}catch(i){throw i.name===Ch?r:i}}else throw r}saveRecogState(){const e=this.errors,n=Oe(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Ft)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class tS{initErrorHandler(e){this._errors=[],this.errorMessageProvider=W(e,"errorMessageProvider")?e.errorMessageProvider:yt.errorMessageProvider}SAVE_ERROR(e){if(Vr(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Oe(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Oe(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const s=this.getCurrRuleFullName(),i=this.getGAstProductions()[s],l=Ps(e,i,n,this.maxLookahead)[0],c=[];for(let d=1;d<=this.maxLookahead;d++)c.push(this.LA(d));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:l,actual:c,previous:this.LA(0),customUserDescription:r,ruleName:s});throw this.SAVE_ERROR(new wR(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],i=Ms(e,s,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));const l=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:a,previous:l,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new PR(c,this.LA(1),l))}}class nS{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(Ct(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return _h([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=dt(e.ruleStack),s=this.getGAstProductions()[n];return new iR(s,e).startWalking()}}const ws={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ws);const dl=!0,hl=Math.pow(2,$t)-1,Mh=mh({name:"RECORDING_PHASE_TOKEN",pattern:je.NA});pr([Mh]);const Ph=La(Mh,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Ph);const rS={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class sS{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,s){return this.consumeInternalRecord(r,e,s)},this[`SUBRULE${n}`]=function(r,s){return this.subruleInternalRecord(r,e,s)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return zr}topLevelRuleRecord(e,n){try{const r=new yn({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return xn.call(this,ve,e,n)}atLeastOneInternalRecord(e,n){xn.call(this,Je,n,e)}atLeastOneSepFirstInternalRecord(e,n){xn.call(this,Ze,n,e,dl)}manyInternalRecord(e,n){xn.call(this,fe,n,e)}manySepFirstInternalRecord(e,n){xn.call(this,We,n,e,dl)}orInternalRecord(e,n){return iS.call(this,e,n)}subruleInternalRecord(e,n,r){if(Kr(n),!e||W(e,"ruleName")===!1){const l=new Error(`<SUBRULE${fl(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw l.KNOWN_RECORDER_ERROR=!0,l}const s=En(this.recordingProdStack),i=e.ruleName,a=new we({idx:n,nonTerminalName:i,label:r==null?void 0:r.LABEL,referencedRule:void 0});return s.definition.push(a),this.outputCst?rS:ws}consumeInternalRecord(e,n,r){if(Kr(n),!hh(e)){const a=new Error(`<CONSUME${fl(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const s=En(this.recordingProdStack),i=new ae({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return s.definition.push(i),Ph}}function xn(t,e,n,r=!1){Kr(n);const s=En(this.recordingProdStack),i=Tt(e)?e:e.DEF,a=new t({definition:[],idx:n});return r&&(a.separator=e.SEP),W(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),i.call(this),s.definition.push(a),this.recordingProdStack.pop(),ws}function iS(t,e){Kr(e);const n=En(this.recordingProdStack),r=Q(t)===!1,s=r===!1?t:t.DEF,i=new Ve({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});W(t,"MAX_LOOKAHEAD")&&(i.maxLookahead=t.MAX_LOOKAHEAD);const a=od(s,l=>Tt(l.GATE));return i.hasPredicates=a,n.definition.push(i),Y(s,l=>{const c=new Ge({definition:[]});i.definition.push(c),W(l,"IGNORE_AMBIGUITIES")?c.ignoreAmbiguities=l.IGNORE_AMBIGUITIES:W(l,"GATE")&&(c.ignoreAmbiguities=!0),this.recordingProdStack.push(c),l.ALT.call(this),this.recordingProdStack.pop()}),ws}function fl(t){return t===0?"":`${t}`}function Kr(t){if(t<0||t>hl){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${hl+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class aS{initPerformanceTracer(e){if(W(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=yt.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:s,value:i}=nh(n),a=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${s}ms`),this.traceInitIndent--,i}else return n()}}function oS(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(s=>{if(s==="constructor")return;const i=Object.getOwnPropertyDescriptor(r,s);i&&(i.get||i.set)?Object.defineProperty(t.prototype,s,i):t.prototype[s]=n.prototype[s]})})}const zr=La(Ft,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(zr);const yt=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:cn,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Xr=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var xe;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(xe||(xe={}));function ml(t=void 0){return function(){return t}}class _r{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{rh(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Y(this.definedRulesNames,s=>{const a=this[s].originalGrammarAction;let l;this.TRACE_INIT(`${s} Rule`,()=>{l=this.topLevelRuleRecord(s,a)}),this.gastProductionsCache[s]=l})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=kR({rules:Ae(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(re(r)&&this.skipValidations===!1){const s=MR({rules:Ae(this.gastProductionsCache),tokenTypes:Ae(this.tokensMap),errMsgProvider:Yt,grammarName:n}),i=_R({lookaheadStrategy:this.lookaheadStrategy,rules:Ae(this.gastProductionsCache),tokenTypes:Ae(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(s,i)}}),re(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const s=mI(Ae(this.gastProductionsCache));this.resyncFollows=s}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var s,i;(i=(s=this.lookaheadStrategy).initialize)===null||i===void 0||i.call(s,{rules:Ae(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Ae(this.gastProductionsCache))})),!_r.DEFER_DEFINITION_ERRORS_HANDLING&&!re(this.definitionErrors))throw e=j(this.definitionErrors,s=>s.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),W(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=W(n,"skipValidations")?n.skipValidations:yt.skipValidations}}_r.DEFER_DEFINITION_ERRORS_HANDLING=!1;oS(_r,[BR,jR,qR,JR,eS,ZR,tS,nS,sS,aS]);class lS extends _r{constructor(e,n=yt){const r=Oe(n);r.outputCst=!1,super(e,r)}}function An(t,e,n){return`${t.name}_${e}_${n}`}const jt=1,cS=2,Dh=4,wh=5,Er=7,uS=8,dS=9,hS=10,fS=11,xh=12;class Da{constructor(e){this.target=e}isEpsilon(){return!1}}class wa extends Da{constructor(e,n){super(e),this.tokenType=n}}class Bh extends Da{constructor(e){super(e)}isEpsilon(){return!0}}class xa extends Da{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function mS(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};pS(e,t);const n=t.length;for(let r=0;r<n;r++){const s=t[r],i=on(e,s,s);i!==void 0&&vS(e,s,i)}return e}function pS(t,e){const n=e.length;for(let r=0;r<n;r++){const s=e[r],i=Ne(t,s,void 0,{type:cS}),a=Ne(t,s,void 0,{type:Er});i.stop=a,t.ruleToStartState.set(s,i),t.ruleToStopState.set(s,a)}}function Uh(t,e,n){return n instanceof ae?Ba(t,e,n.terminalType,n):n instanceof we?SS(t,e,n):n instanceof Ve?AS(t,e,n):n instanceof ve?NS(t,e,n):n instanceof fe?_S(t,e,n):n instanceof We?ES(t,e,n):n instanceof Je?gS(t,e,n):n instanceof Ze?TS(t,e,n):on(t,e,n)}function _S(t,e,n){const r=Ne(t,e,n,{type:wh});Gt(t,r);const s=kn(t,e,r,n,on(t,e,n));return jh(t,e,n,s)}function ES(t,e,n){const r=Ne(t,e,n,{type:wh});Gt(t,r);const s=kn(t,e,r,n,on(t,e,n)),i=Ba(t,e,n.separator,n);return jh(t,e,n,s,i)}function gS(t,e,n){const r=Ne(t,e,n,{type:Dh});Gt(t,r);const s=kn(t,e,r,n,on(t,e,n));return Fh(t,e,n,s)}function TS(t,e,n){const r=Ne(t,e,n,{type:Dh});Gt(t,r);const s=kn(t,e,r,n,on(t,e,n)),i=Ba(t,e,n.separator,n);return Fh(t,e,n,s,i)}function AS(t,e,n){const r=Ne(t,e,n,{type:jt});Gt(t,r);const s=j(n.definition,a=>Uh(t,e,a));return kn(t,e,r,n,...s)}function NS(t,e,n){const r=Ne(t,e,n,{type:jt});Gt(t,r);const s=kn(t,e,r,n,on(t,e,n));return bS(t,e,n,s)}function on(t,e,n){const r=qe(j(n.definition,s=>Uh(t,e,s)),s=>s!==void 0);return r.length===1?r[0]:r.length===0?void 0:RS(t,r)}function Fh(t,e,n,r,s){const i=r.left,a=r.right,l=Ne(t,e,n,{type:fS});Gt(t,l);const c=Ne(t,e,n,{type:xh});return i.loopback=l,c.loopback=l,t.decisionMap[An(e,s?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=l,ge(a,l),s===void 0?(ge(l,i),ge(l,c)):(ge(l,c),ge(l,s.left),ge(s.right,i)),{left:i,right:c}}function jh(t,e,n,r,s){const i=r.left,a=r.right,l=Ne(t,e,n,{type:hS});Gt(t,l);const c=Ne(t,e,n,{type:xh}),u=Ne(t,e,n,{type:dS});return l.loopback=u,c.loopback=u,ge(l,i),ge(l,c),ge(a,u),s!==void 0?(ge(u,c),ge(u,s.left),ge(s.right,i)):ge(u,l),t.decisionMap[An(e,s?"RepetitionWithSeparator":"Repetition",n.idx)]=l,{left:l,right:c}}function bS(t,e,n,r){const s=r.left,i=r.right;return ge(s,i),t.decisionMap[An(e,"Option",n.idx)]=s,r}function Gt(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function kn(t,e,n,r,...s){const i=Ne(t,e,r,{type:uS,start:n});n.end=i;for(const l of s)l!==void 0?(ge(n,l.left),ge(l.right,i)):ge(n,i);const a={left:n,right:i};return t.decisionMap[An(e,IS(r),r.idx)]=n,a}function IS(t){if(t instanceof Ve)return"Alternation";if(t instanceof ve)return"Option";if(t instanceof fe)return"Repetition";if(t instanceof We)return"RepetitionWithSeparator";if(t instanceof Je)return"RepetitionMandatory";if(t instanceof Ze)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function RS(t,e){const n=e.length;for(let i=0;i<n-1;i++){const a=e[i];let l;a.left.transitions.length===1&&(l=a.left.transitions[0]);const c=l instanceof xa,u=l,d=e[i+1].left;a.left.type===jt&&a.right.type===jt&&l!==void 0&&(c&&u.followState===a.right||l.target===a.right)?(c?u.followState=d:l.target=d,OS(t,a.right)):ge(a.right,d)}const r=e[0],s=e[n-1];return{left:r.left,right:s.right}}function Ba(t,e,n,r){const s=Ne(t,e,r,{type:jt}),i=Ne(t,e,r,{type:jt});return Ua(s,new wa(i,n)),{left:s,right:i}}function SS(t,e,n){const r=n.referencedRule,s=t.ruleToStartState.get(r),i=Ne(t,e,n,{type:jt}),a=Ne(t,e,n,{type:jt}),l=new xa(s,r,a);return Ua(i,l),{left:i,right:a}}function vS(t,e,n){const r=t.ruleToStartState.get(e);ge(r,n.left);const s=t.ruleToStopState.get(e);return ge(n.right,s),{left:r,right:s}}function ge(t,e){const n=new Bh(e);Ua(t,n)}function Ne(t,e,n,r){const s=Object.assign({atn:t,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},r);return t.states.push(s),s}function Ua(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function OS(t,e){t.states.splice(t.states.indexOf(e),1)}const Qr={};class Oi{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=Hh(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return j(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function Hh(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(n=>n.stateNumber.toString()).join("_")}`}function CS(t,e){const n={};return r=>{const s=r.toString();let i=n[s];return i!==void 0||(i={atnStartState:t,decision:e,states:{}},n[s]=i),i}}class $h{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=this.predicates[r]===!0?"1":"0";return e}}const pl=new $h;class yS extends Pa{constructor(e){var n;super(),this.logging=(n=e==null?void 0:e.logging)!==null&&n!==void 0?n:r=>console.log(r)}initialize(e){this.atn=mS(e.rules),this.dfas=LS(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:s,dynamicTokensEnabled:i}=e,a=this.dfas,l=this.logging,c=An(r,"Alternation",n),d=this.atn.decisionMap[c].decision,f=j(ol({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),p=>j(p,E=>E[0]));if(_l(f,!1)&&!i){const p=De(f,(E,A,b)=>(Y(A,y=>{y&&(E[y.tokenTypeIdx]=b,Y(y.categoryMatches,R=>{E[R]=b}))}),E),{});return s?function(E){var A;const b=this.LA(1),y=p[b.tokenTypeIdx];if(E!==void 0&&y!==void 0){const R=(A=E[y])===null||A===void 0?void 0:A.GATE;if(R!==void 0&&R.call(this)===!1)return}return y}:function(){const E=this.LA(1);return p[E.tokenTypeIdx]}}else return s?function(p){const E=new $h,A=p===void 0?0:p.length;for(let y=0;y<A;y++){const R=p==null?void 0:p[y].GATE;E.set(y,R===void 0||R.call(this))}const b=Zs.call(this,a,d,E,l);return typeof b=="number"?b:void 0}:function(){const p=Zs.call(this,a,d,pl,l);return typeof p=="number"?p:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:s,dynamicTokensEnabled:i}=e,a=this.dfas,l=this.logging,c=An(r,s,n),d=this.atn.decisionMap[c].decision,f=j(ol({maxLookahead:1,occurrence:n,prodType:s,rule:r}),p=>j(p,E=>E[0]));if(_l(f)&&f[0][0]&&!i){const p=f[0],E=Ke(p);if(E.length===1&&re(E[0].categoryMatches)){const b=E[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===b}}else{const A=De(E,(b,y)=>(y!==void 0&&(b[y.tokenTypeIdx]=!0,Y(y.categoryMatches,R=>{b[R]=!0})),b),{});return function(){const b=this.LA(1);return A[b.tokenTypeIdx]===!0}}}return function(){const p=Zs.call(this,a,d,pl,l);return typeof p=="object"?!1:p===0}}}function _l(t,e=!0){const n=new Set;for(const r of t){const s=new Set;for(const i of r){if(i===void 0){if(e)break;return!1}const a=[i.tokenTypeIdx].concat(i.categoryMatches);for(const l of a)if(n.has(l)){if(!s.has(l))return!1}else n.add(l),s.add(l)}}return!0}function LS(t){const e=t.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=CS(t.decisionStates[r],r);return n}function Zs(t,e,n,r){const s=t[e](n);let i=s.start;if(i===void 0){const l=HS(s.atnStartState);i=Yh(s,Gh(l)),s.start=i}return kS.apply(this,[s,i,n,r])}function kS(t,e,n,r){let s=e,i=1;const a=[];let l=this.LA(i++);for(;;){let c=BS(s,l);if(c===void 0&&(c=MS.apply(this,[t,s,l,i,n,r])),c===Qr)return xS(a,s,l);if(c.isAcceptState===!0)return c.prediction;s=c,a.push(l),l=this.LA(i++)}}function MS(t,e,n,r,s,i){const a=US(e.configs,n,s);if(a.size===0)return El(t,e,n,Qr),Qr;let l=Gh(a);const c=jS(a,s);if(c!==void 0)l.isAcceptState=!0,l.prediction=c,l.configs.uniqueAlt=c;else if(WS(a)){const u=vN(a.alts);l.isAcceptState=!0,l.prediction=u,l.configs.uniqueAlt=u,PS.apply(this,[t,r,a.alts,i])}return l=El(t,e,n,l),l}function PS(t,e,n,r){const s=[];for(let u=1;u<=e;u++)s.push(this.LA(u).tokenType);const i=t.atnStartState,a=i.rule,l=i.production,c=DS({topLevelRule:a,ambiguityIndices:n,production:l,prefixPath:s});r(c)}function DS(t){const e=j(t.prefixPath,s=>hn(s)).join(", "),n=t.production.idx===0?"":t.production.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${wS(t.production)}${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r}function wS(t){if(t instanceof we)return"SUBRULE";if(t instanceof ve)return"OPTION";if(t instanceof Ve)return"OR";if(t instanceof Je)return"AT_LEAST_ONE";if(t instanceof Ze)return"AT_LEAST_ONE_SEP";if(t instanceof We)return"MANY_SEP";if(t instanceof fe)return"MANY";if(t instanceof ae)return"CONSUME";throw Error("non exhaustive match")}function xS(t,e,n){const r=ze(e.configs.elements,i=>i.state.transitions),s=YN(r.filter(i=>i instanceof wa).map(i=>i.tokenType),i=>i.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:s,tokenPath:t}}function BS(t,e){return t.edges[e.tokenTypeIdx]}function US(t,e,n){const r=new Oi,s=[];for(const a of t.elements){if(n.is(a.alt)===!1)continue;if(a.state.type===Er){s.push(a);continue}const l=a.state.transitions.length;for(let c=0;c<l;c++){const u=a.state.transitions[c],d=FS(u,e);d!==void 0&&r.add({state:d,alt:a.alt,stack:a.stack})}}let i;if(s.length===0&&r.size===1&&(i=r),i===void 0){i=new Oi;for(const a of r.elements)qr(a,i)}if(s.length>0&&!GS(i))for(const a of s)i.add(a);return i}function FS(t,e){if(t instanceof wa&&ph(e,t.tokenType))return t.target}function jS(t,e){let n;for(const r of t.elements)if(e.is(r.alt)===!0){if(n===void 0)n=r.alt;else if(n!==r.alt)return}return n}function Gh(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function El(t,e,n,r){return r=Yh(t,r),e.edges[n.tokenTypeIdx]=r,r}function Yh(t,e){if(e===Qr)return e;const n=e.configs.key,r=t.states[n];return r!==void 0?r:(e.configs.finalize(),t.states[n]=e,e)}function HS(t){const e=new Oi,n=t.transitions.length;for(let r=0;r<n;r++){const i={state:t.transitions[r].target,alt:r,stack:[]};qr(i,e)}return e}function qr(t,e){const n=t.state;if(n.type===Er){if(t.stack.length>0){const s=[...t.stack],a={state:s.pop(),alt:t.alt,stack:s};qr(a,e)}else e.add(t);return}n.epsilonOnlyTransitions||e.add(t);const r=n.transitions.length;for(let s=0;s<r;s++){const i=n.transitions[s],a=$S(t,i);a!==void 0&&qr(a,e)}}function $S(t,e){if(e instanceof Bh)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof xa){const n=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:n}}}function GS(t){for(const e of t.elements)if(e.state.type===Er)return!0;return!1}function YS(t){for(const e of t.elements)if(e.state.type!==Er)return!1;return!0}function WS(t){if(YS(t))return!0;const e=VS(t.elements);return KS(e)&&!zS(e)}function VS(t){const e=new Map;for(const n of t){const r=Hh(n,!1);let s=e.get(r);s===void 0&&(s={},e.set(r,s)),s[n.alt]=!0}return e}function KS(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function zS(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var gl;(function(t){function e(n){return typeof n=="string"}t.is=e})(gl||(gl={}));var Ci;(function(t){function e(n){return typeof n=="string"}t.is=e})(Ci||(Ci={}));var Tl;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(Tl||(Tl={}));var Jr;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(Jr||(Jr={}));var ee;(function(t){function e(r,s){return r===Number.MAX_VALUE&&(r=Jr.MAX_VALUE),s===Number.MAX_VALUE&&(s=Jr.MAX_VALUE),{line:r,character:s}}t.create=e;function n(r){let s=r;return T.objectLiteral(s)&&T.uinteger(s.line)&&T.uinteger(s.character)}t.is=n})(ee||(ee={}));var J;(function(t){function e(r,s,i,a){if(T.uinteger(r)&&T.uinteger(s)&&T.uinteger(i)&&T.uinteger(a))return{start:ee.create(r,s),end:ee.create(i,a)};if(ee.is(r)&&ee.is(s))return{start:r,end:s};throw new Error(`Range#create called with invalid arguments[${r}, ${s}, ${i}, ${a}]`)}t.create=e;function n(r){let s=r;return T.objectLiteral(s)&&ee.is(s.start)&&ee.is(s.end)}t.is=n})(J||(J={}));var Zr;(function(t){function e(r,s){return{uri:r,range:s}}t.create=e;function n(r){let s=r;return T.objectLiteral(s)&&J.is(s.range)&&(T.string(s.uri)||T.undefined(s.uri))}t.is=n})(Zr||(Zr={}));var Al;(function(t){function e(r,s,i,a){return{targetUri:r,targetRange:s,targetSelectionRange:i,originSelectionRange:a}}t.create=e;function n(r){let s=r;return T.objectLiteral(s)&&J.is(s.targetRange)&&T.string(s.targetUri)&&J.is(s.targetSelectionRange)&&(J.is(s.originSelectionRange)||T.undefined(s.originSelectionRange))}t.is=n})(Al||(Al={}));var yi;(function(t){function e(r,s,i,a){return{red:r,green:s,blue:i,alpha:a}}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&T.numberRange(s.red,0,1)&&T.numberRange(s.green,0,1)&&T.numberRange(s.blue,0,1)&&T.numberRange(s.alpha,0,1)}t.is=n})(yi||(yi={}));var Nl;(function(t){function e(r,s){return{range:r,color:s}}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&J.is(s.range)&&yi.is(s.color)}t.is=n})(Nl||(Nl={}));var bl;(function(t){function e(r,s,i){return{label:r,textEdit:s,additionalTextEdits:i}}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&T.string(s.label)&&(T.undefined(s.textEdit)||bn.is(s))&&(T.undefined(s.additionalTextEdits)||T.typedArray(s.additionalTextEdits,bn.is))}t.is=n})(bl||(bl={}));var Il;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Il||(Il={}));var Rl;(function(t){function e(r,s,i,a,l,c){const u={startLine:r,endLine:s};return T.defined(i)&&(u.startCharacter=i),T.defined(a)&&(u.endCharacter=a),T.defined(l)&&(u.kind=l),T.defined(c)&&(u.collapsedText=c),u}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&T.uinteger(s.startLine)&&T.uinteger(s.startLine)&&(T.undefined(s.startCharacter)||T.uinteger(s.startCharacter))&&(T.undefined(s.endCharacter)||T.uinteger(s.endCharacter))&&(T.undefined(s.kind)||T.string(s.kind))}t.is=n})(Rl||(Rl={}));var Li;(function(t){function e(r,s){return{location:r,message:s}}t.create=e;function n(r){let s=r;return T.defined(s)&&Zr.is(s.location)&&T.string(s.message)}t.is=n})(Li||(Li={}));var Sl;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(Sl||(Sl={}));var vl;(function(t){t.Unnecessary=1,t.Deprecated=2})(vl||(vl={}));var Ol;(function(t){function e(n){const r=n;return T.objectLiteral(r)&&T.string(r.href)}t.is=e})(Ol||(Ol={}));var es;(function(t){function e(r,s,i,a,l,c){let u={range:r,message:s};return T.defined(i)&&(u.severity=i),T.defined(a)&&(u.code=a),T.defined(l)&&(u.source=l),T.defined(c)&&(u.relatedInformation=c),u}t.create=e;function n(r){var s;let i=r;return T.defined(i)&&J.is(i.range)&&T.string(i.message)&&(T.number(i.severity)||T.undefined(i.severity))&&(T.integer(i.code)||T.string(i.code)||T.undefined(i.code))&&(T.undefined(i.codeDescription)||T.string((s=i.codeDescription)===null||s===void 0?void 0:s.href))&&(T.string(i.source)||T.undefined(i.source))&&(T.undefined(i.relatedInformation)||T.typedArray(i.relatedInformation,Li.is))}t.is=n})(es||(es={}));var Nn;(function(t){function e(r,s,...i){let a={title:r,command:s};return T.defined(i)&&i.length>0&&(a.arguments=i),a}t.create=e;function n(r){let s=r;return T.defined(s)&&T.string(s.title)&&T.string(s.command)}t.is=n})(Nn||(Nn={}));var bn;(function(t){function e(i,a){return{range:i,newText:a}}t.replace=e;function n(i,a){return{range:{start:i,end:i},newText:a}}t.insert=n;function r(i){return{range:i,newText:""}}t.del=r;function s(i){const a=i;return T.objectLiteral(a)&&T.string(a.newText)&&J.is(a.range)}t.is=s})(bn||(bn={}));var ki;(function(t){function e(r,s,i){const a={label:r};return s!==void 0&&(a.needsConfirmation=s),i!==void 0&&(a.description=i),a}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&T.string(s.label)&&(T.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(T.string(s.description)||s.description===void 0)}t.is=n})(ki||(ki={}));var In;(function(t){function e(n){const r=n;return T.string(r)}t.is=e})(In||(In={}));var Cl;(function(t){function e(i,a,l){return{range:i,newText:a,annotationId:l}}t.replace=e;function n(i,a,l){return{range:{start:i,end:i},newText:a,annotationId:l}}t.insert=n;function r(i,a){return{range:i,newText:"",annotationId:a}}t.del=r;function s(i){const a=i;return bn.is(a)&&(ki.is(a.annotationId)||In.is(a.annotationId))}t.is=s})(Cl||(Cl={}));var Mi;(function(t){function e(r,s){return{textDocument:r,edits:s}}t.create=e;function n(r){let s=r;return T.defined(s)&&Bi.is(s.textDocument)&&Array.isArray(s.edits)}t.is=n})(Mi||(Mi={}));var Pi;(function(t){function e(r,s,i){let a={kind:"create",uri:r};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),i!==void 0&&(a.annotationId=i),a}t.create=e;function n(r){let s=r;return s&&s.kind==="create"&&T.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||T.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||T.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||In.is(s.annotationId))}t.is=n})(Pi||(Pi={}));var Di;(function(t){function e(r,s,i,a){let l={kind:"rename",oldUri:r,newUri:s};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(l.options=i),a!==void 0&&(l.annotationId=a),l}t.create=e;function n(r){let s=r;return s&&s.kind==="rename"&&T.string(s.oldUri)&&T.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||T.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||T.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||In.is(s.annotationId))}t.is=n})(Di||(Di={}));var wi;(function(t){function e(r,s,i){let a={kind:"delete",uri:r};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(a.options=s),i!==void 0&&(a.annotationId=i),a}t.create=e;function n(r){let s=r;return s&&s.kind==="delete"&&T.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||T.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||T.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||In.is(s.annotationId))}t.is=n})(wi||(wi={}));var xi;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(s=>T.string(s.kind)?Pi.is(s)||Di.is(s)||wi.is(s):Mi.is(s)))}t.is=e})(xi||(xi={}));var yl;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let s=r;return T.defined(s)&&T.string(s.uri)}t.is=n})(yl||(yl={}));var Ll;(function(t){function e(r,s){return{uri:r,version:s}}t.create=e;function n(r){let s=r;return T.defined(s)&&T.string(s.uri)&&T.integer(s.version)}t.is=n})(Ll||(Ll={}));var Bi;(function(t){function e(r,s){return{uri:r,version:s}}t.create=e;function n(r){let s=r;return T.defined(s)&&T.string(s.uri)&&(s.version===null||T.integer(s.version))}t.is=n})(Bi||(Bi={}));var kl;(function(t){function e(r,s,i,a){return{uri:r,languageId:s,version:i,text:a}}t.create=e;function n(r){let s=r;return T.defined(s)&&T.string(s.uri)&&T.string(s.languageId)&&T.integer(s.version)&&T.string(s.text)}t.is=n})(kl||(kl={}));var Ui;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(Ui||(Ui={}));var er;(function(t){function e(n){const r=n;return T.objectLiteral(n)&&Ui.is(r.kind)&&T.string(r.value)}t.is=e})(er||(er={}));var Ml;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(Ml||(Ml={}));var Pl;(function(t){t.PlainText=1,t.Snippet=2})(Pl||(Pl={}));var Dl;(function(t){t.Deprecated=1})(Dl||(Dl={}));var wl;(function(t){function e(r,s,i){return{newText:r,insert:s,replace:i}}t.create=e;function n(r){const s=r;return s&&T.string(s.newText)&&J.is(s.insert)&&J.is(s.replace)}t.is=n})(wl||(wl={}));var xl;(function(t){t.asIs=1,t.adjustIndentation=2})(xl||(xl={}));var Bl;(function(t){function e(n){const r=n;return r&&(T.string(r.detail)||r.detail===void 0)&&(T.string(r.description)||r.description===void 0)}t.is=e})(Bl||(Bl={}));var Ul;(function(t){function e(n){return{label:n}}t.create=e})(Ul||(Ul={}));var Fl;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(Fl||(Fl={}));var ts;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const s=r;return T.string(s)||T.objectLiteral(s)&&T.string(s.language)&&T.string(s.value)}t.is=n})(ts||(ts={}));var jl;(function(t){function e(n){let r=n;return!!r&&T.objectLiteral(r)&&(er.is(r.contents)||ts.is(r.contents)||T.typedArray(r.contents,ts.is))&&(n.range===void 0||J.is(n.range))}t.is=e})(jl||(jl={}));var Hl;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(Hl||(Hl={}));var $l;(function(t){function e(n,r,...s){let i={label:n};return T.defined(r)&&(i.documentation=r),T.defined(s)?i.parameters=s:i.parameters=[],i}t.create=e})($l||($l={}));var Gl;(function(t){t.Text=1,t.Read=2,t.Write=3})(Gl||(Gl={}));var Yl;(function(t){function e(n,r){let s={range:n};return T.number(r)&&(s.kind=r),s}t.create=e})(Yl||(Yl={}));var Wl;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(Wl||(Wl={}));var Vl;(function(t){t.Deprecated=1})(Vl||(Vl={}));var Kl;(function(t){function e(n,r,s,i,a){let l={name:n,kind:r,location:{uri:i,range:s}};return a&&(l.containerName=a),l}t.create=e})(Kl||(Kl={}));var zl;(function(t){function e(n,r,s,i){return i!==void 0?{name:n,kind:r,location:{uri:s,range:i}}:{name:n,kind:r,location:{uri:s}}}t.create=e})(zl||(zl={}));var Xl;(function(t){function e(r,s,i,a,l,c){let u={name:r,detail:s,kind:i,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}t.create=e;function n(r){let s=r;return s&&T.string(s.name)&&T.number(s.kind)&&J.is(s.range)&&J.is(s.selectionRange)&&(s.detail===void 0||T.string(s.detail))&&(s.deprecated===void 0||T.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}t.is=n})(Xl||(Xl={}));var Ql;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Ql||(Ql={}));var ns;(function(t){t.Invoked=1,t.Automatic=2})(ns||(ns={}));var ql;(function(t){function e(r,s,i){let a={diagnostics:r};return s!=null&&(a.only=s),i!=null&&(a.triggerKind=i),a}t.create=e;function n(r){let s=r;return T.defined(s)&&T.typedArray(s.diagnostics,es.is)&&(s.only===void 0||T.typedArray(s.only,T.string))&&(s.triggerKind===void 0||s.triggerKind===ns.Invoked||s.triggerKind===ns.Automatic)}t.is=n})(ql||(ql={}));var Jl;(function(t){function e(r,s,i){let a={title:r},l=!0;return typeof s=="string"?(l=!1,a.kind=s):Nn.is(s)?a.command=s:a.edit=s,l&&i!==void 0&&(a.kind=i),a}t.create=e;function n(r){let s=r;return s&&T.string(s.title)&&(s.diagnostics===void 0||T.typedArray(s.diagnostics,es.is))&&(s.kind===void 0||T.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||Nn.is(s.command))&&(s.isPreferred===void 0||T.boolean(s.isPreferred))&&(s.edit===void 0||xi.is(s.edit))}t.is=n})(Jl||(Jl={}));var Zl;(function(t){function e(r,s){let i={range:r};return T.defined(s)&&(i.data=s),i}t.create=e;function n(r){let s=r;return T.defined(s)&&J.is(s.range)&&(T.undefined(s.command)||Nn.is(s.command))}t.is=n})(Zl||(Zl={}));var ec;(function(t){function e(r,s){return{tabSize:r,insertSpaces:s}}t.create=e;function n(r){let s=r;return T.defined(s)&&T.uinteger(s.tabSize)&&T.boolean(s.insertSpaces)}t.is=n})(ec||(ec={}));var tc;(function(t){function e(r,s,i){return{range:r,target:s,data:i}}t.create=e;function n(r){let s=r;return T.defined(s)&&J.is(s.range)&&(T.undefined(s.target)||T.string(s.target))}t.is=n})(tc||(tc={}));var nc;(function(t){function e(r,s){return{range:r,parent:s}}t.create=e;function n(r){let s=r;return T.objectLiteral(s)&&J.is(s.range)&&(s.parent===void 0||t.is(s.parent))}t.is=n})(nc||(nc={}));var rc;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(rc||(rc={}));var sc;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(sc||(sc={}));var ic;(function(t){function e(n){const r=n;return T.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(ic||(ic={}));var ac;(function(t){function e(r,s){return{range:r,text:s}}t.create=e;function n(r){const s=r;return s!=null&&J.is(s.range)&&T.string(s.text)}t.is=n})(ac||(ac={}));var oc;(function(t){function e(r,s,i){return{range:r,variableName:s,caseSensitiveLookup:i}}t.create=e;function n(r){const s=r;return s!=null&&J.is(s.range)&&T.boolean(s.caseSensitiveLookup)&&(T.string(s.variableName)||s.variableName===void 0)}t.is=n})(oc||(oc={}));var lc;(function(t){function e(r,s){return{range:r,expression:s}}t.create=e;function n(r){const s=r;return s!=null&&J.is(s.range)&&(T.string(s.expression)||s.expression===void 0)}t.is=n})(lc||(lc={}));var cc;(function(t){function e(r,s){return{frameId:r,stoppedLocation:s}}t.create=e;function n(r){const s=r;return T.defined(s)&&J.is(r.stoppedLocation)}t.is=n})(cc||(cc={}));var Fi;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(Fi||(Fi={}));var ji;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&(s.tooltip===void 0||T.string(s.tooltip)||er.is(s.tooltip))&&(s.location===void 0||Zr.is(s.location))&&(s.command===void 0||Nn.is(s.command))}t.is=n})(ji||(ji={}));var uc;(function(t){function e(r,s,i){const a={position:r,label:s};return i!==void 0&&(a.kind=i),a}t.create=e;function n(r){const s=r;return T.objectLiteral(s)&&ee.is(s.position)&&(T.string(s.label)||T.typedArray(s.label,ji.is))&&(s.kind===void 0||Fi.is(s.kind))&&s.textEdits===void 0||T.typedArray(s.textEdits,bn.is)&&(s.tooltip===void 0||T.string(s.tooltip)||er.is(s.tooltip))&&(s.paddingLeft===void 0||T.boolean(s.paddingLeft))&&(s.paddingRight===void 0||T.boolean(s.paddingRight))}t.is=n})(uc||(uc={}));var dc;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(dc||(dc={}));var hc;(function(t){function e(n,r,s,i){return{insertText:n,filterText:r,range:s,command:i}}t.create=e})(hc||(hc={}));var fc;(function(t){function e(n){return{items:n}}t.create=e})(fc||(fc={}));var mc;(function(t){t.Invoked=0,t.Automatic=1})(mc||(mc={}));var pc;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(pc||(pc={}));var _c;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(_c||(_c={}));var Ec;(function(t){function e(n){const r=n;return T.objectLiteral(r)&&Ci.is(r.uri)&&T.string(r.name)}t.is=e})(Ec||(Ec={}));var gc;(function(t){function e(i,a,l,c){return new XS(i,a,l,c)}t.create=e;function n(i){let a=i;return!!(T.defined(a)&&T.string(a.uri)&&(T.undefined(a.languageId)||T.string(a.languageId))&&T.uinteger(a.lineCount)&&T.func(a.getText)&&T.func(a.positionAt)&&T.func(a.offsetAt))}t.is=n;function r(i,a){let l=i.getText(),c=s(a,(d,f)=>{let p=d.range.start.line-f.range.start.line;return p===0?d.range.start.character-f.range.start.character:p}),u=l.length;for(let d=c.length-1;d>=0;d--){let f=c[d],p=i.offsetAt(f.range.start),E=i.offsetAt(f.range.end);if(E<=u)l=l.substring(0,p)+f.newText+l.substring(E,l.length);else throw new Error("Overlapping edit");u=p}return l}t.applyEdits=r;function s(i,a){if(i.length<=1)return i;const l=i.length/2|0,c=i.slice(0,l),u=i.slice(l);s(c,a),s(u,a);let d=0,f=0,p=0;for(;d<c.length&&f<u.length;)a(c[d],u[f])<=0?i[p++]=c[d++]:i[p++]=u[f++];for(;d<c.length;)i[p++]=c[d++];for(;f<u.length;)i[p++]=u[f++];return i}})(gc||(gc={}));let XS=class{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let s=0;s<n.length;s++){r&&(e.push(s),r=!1);let i=n.charAt(s);r=i==="\r"||i===`
`,i==="\r"&&s+1<n.length&&n.charAt(s+1)===`
`&&s++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,s=n.length;if(s===0)return ee.create(0,e);for(;r<s;){let a=Math.floor((r+s)/2);n[a]>e?s=a:r=a+1}let i=r-1;return ee.create(i,e-n[i])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],s=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,s),r)}get lineCount(){return this.getLineOffsets().length}};var T;(function(t){const e=Object.prototype.toString;function n(E){return typeof E<"u"}t.defined=n;function r(E){return typeof E>"u"}t.undefined=r;function s(E){return E===!0||E===!1}t.boolean=s;function i(E){return e.call(E)==="[object String]"}t.string=i;function a(E){return e.call(E)==="[object Number]"}t.number=a;function l(E,A,b){return e.call(E)==="[object Number]"&&A<=E&&E<=b}t.numberRange=l;function c(E){return e.call(E)==="[object Number]"&&-2147483648<=E&&E<=2147483647}t.integer=c;function u(E){return e.call(E)==="[object Number]"&&0<=E&&E<=2147483647}t.uinteger=u;function d(E){return e.call(E)==="[object Function]"}t.func=d;function f(E){return E!==null&&typeof E=="object"}t.objectLiteral=f;function p(E,A){return Array.isArray(E)&&E.every(A)}t.typedArray=p})(T||(T={}));class QS{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new Vh(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new Fa;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new Hi(e.startOffset,e.image.length,_i(e),e.tokenType,!1);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}construct(e){const n=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();(r==null?void 0:r.content.length)===0&&this.removeNode(r)}addHiddenTokens(e){for(const n of e){const r=new Hi(n.startOffset,n.image.length,_i(n),n.tokenType,!0);r.root=this.rootNode,this.addHiddenToken(this.rootNode,r)}}addHiddenToken(e,n){const{offset:r,end:s}=n;for(let i=0;i<e.content.length;i++){const a=e.content[i],{offset:l,end:c}=a;if(Tn(a)&&r>l&&s<c){this.addHiddenToken(a,n);return}else if(s<=l){e.content.splice(i,0,n);return}}e.content.push(n)}}class Wh{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,n;const r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(n=this.container)===null||n===void 0?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Hi extends Wh{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,s,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=s,this._length=n,this._range=r}}class Fa extends Wh{constructor(){super(...arguments),this.content=new ja(this)}get children(){return this.content}get offset(){var e,n;return(n=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&n!==void 0?n:0}get length(){return this.end-this.offset}get end(){var e,n;return(n=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&n!==void 0?n:0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(this._rangeCache===void 0){const{range:r}=e,{range:s}=n;this._rangeCache={start:r.start,end:s.end.line<r.start.line?r.start:s.end}}return this._rangeCache}else return{start:ee.create(0,0),end:ee.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class ja extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,ja.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class Vh extends Fa{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const $i=Symbol("Datatype");function ei(t){return t.$type===$i}const Tc="â",Kh=t=>t.endsWith(Tc)?t:t+Tc;class zh{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;const n=this.lexer.definition;this.wrapper=new tv(n,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class qS extends zh{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new QS,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=e.fragment?void 0:va(e)?$i:Cs(e),s=this.wrapper.DEFINE_RULE(Kh(e.name),this.startImplementation(r,n).bind(this));return e.entry&&(this.mainRule=s),s}parse(e){this.nodeBuilder.buildRootNode(e);const n=this.lexer.tokenize(e);this.wrapper.input=n.tokens;const r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(n.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:n.errors,parserErrors:this.wrapper.errors}}startImplementation(e,n){return r=>{if(!this.isRecording()){const i={$type:e};this.stack.push(i),e===$i&&(i.value="")}let s;try{s=n(r)}catch{s=void 0}return!this.isRecording()&&s===void 0&&(s=this.construct()),s}}consume(e,n,r){const s=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(s)){const i=this.nodeBuilder.buildLeafNode(s,r),{assignment:a,isCrossRef:l}=this.getAssignment(r),c=this.current;if(a){const u=Qt(r)?s.image:this.converter.convert(s.image,i);this.assign(a.operator,a.feature,u,i,l)}else if(ei(c)){let u=s.image;Qt(r)||(u=this.converter.convert(u,i).toString()),c.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,n,r,s){let i;this.isRecording()||(i=this.nodeBuilder.buildCompositeNode(r));const a=this.wrapper.wrapSubrule(e,n,s);!this.isRecording()&&i&&i.length>0&&this.performSubruleAssignment(a,r,i)}performSubruleAssignment(e,n,r){const{assignment:s,isCrossRef:i}=this.getAssignment(n);if(s)this.assign(s.operator,s.feature,e,r,i);else if(!s){const a=this.current;if(ei(a))a.value+=e.toString();else if(typeof e=="object"&&e){const l=e.$type,c=this.assignWithoutOverride(e,a);l&&(c.$type=l);const u=c;this.stack.pop(),this.stack.push(u)}}}action(e,n){if(!this.isRecording()){let r=this.current;if(!r.$cstNode&&n.feature&&n.operator){r=this.construct(!1);const i=r.$cstNode.feature;this.nodeBuilder.buildCompositeNode(i)}const s={$type:e};this.stack.pop(),this.stack.push(s),n.feature&&n.operator&&this.assign(n.operator,n.feature,r,r.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;const n=this.current;return Lb(n),this.nodeBuilder.construct(n),e&&this.stack.pop(),ei(n)?this.converter.convert(n.value,n.$cstNode):(Mb(this.astReflection,n),n)}getAssignment(e){if(!this.assignmentMap.has(e)){const n=Ss(e,Xt);this.assignmentMap.set(e,{assignment:n,isCrossRef:n?ba(n.terminal):!1})}return this.assignmentMap.get(e)}assign(e,n,r,s,i){const a=this.current;let l;switch(i&&typeof r=="string"?l=this.linker.buildReference(a,n,s,r):l=r,e){case"=":{a[n]=l;break}case"?=":{a[n]=!0;break}case"+=":Array.isArray(a[n])||(a[n]=[]),a[n].push(l)}}assignWithoutOverride(e,n){for(const[r,s]of Object.entries(n)){const i=e[r];i===void 0?e[r]=s:Array.isArray(i)&&Array.isArray(s)&&(s.push(...i),e[r]=s)}return e}get definitionErrors(){return this.wrapper.definitionErrors}}class JS{buildMismatchTokenMessage(e){return cn.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return cn.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return cn.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return cn.buildEarlyExitMessage(e)}}class Xh extends JS{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class ZS extends zh{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e);return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(Kh(e.name),this.startImplementation(n).bind(this));return e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,s){this.before(r),this.wrapper.wrapSubrule(e,n,s),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const ev={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Xh};class tv extends lS{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,Object.assign(Object.assign(Object.assign({},ev),{lookaheadStrategy:r?new Pa({maxLookahead:n.maxLookahead}):new yS}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n){return this.RULE(e,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}}function Qh(t,e,n){return nv({parser:e,tokens:n,rules:new Map,ruleNames:new Map},t),e}function nv(t,e){const n=zd(e,!1),r=Se(e.rules).filter(ot).filter(s=>n.has(s));for(const s of r){const i=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});i.rules.set(s.name,t.parser.rule(s,Zt(i,s.definition)))}}function Zt(t,e,n=!1){let r;if(Qt(e))r=cv(t,e);else if(Rs(e))r=rv(t,e);else if(Xt(e))r=Zt(t,e.terminal);else if(ba(e))r=qh(t,e);else if(qt(e))r=sv(t,e);else if(Od(e))r=av(t,e);else if(Hd(e))r=ov(t,e);else if(Ia(e))r=lv(t,e);else if(bb(e)){const s=t.consume++;r=()=>t.parser.consume(s,Ft,e)}else throw new ud(e.$cstNode,`Unexpected element type: ${e.$type}`);return Jh(t,n?void 0:rs(e),r,e.cardinality)}function rv(t,e){const n=Cs(e);return()=>t.parser.action(n,e)}function sv(t,e){const n=e.rule.ref;if(ot(n)){const r=t.subrule++,s=e.arguments.length>0?iv(n,e.arguments):()=>({});return i=>t.parser.subrule(r,Zh(t,n),e,s(i))}else if(an(n)){const r=t.consume++,s=Gi(t,n.name);return()=>t.parser.consume(r,s,e)}else if(n)Is();else throw new ud(e.$cstNode,`Undefined rule type: ${e.$type}`)}function iv(t,e){const n=e.map(r=>Rt(r.value));return r=>{const s={};for(let i=0;i<n.length;i++){const a=t.parameters[i],l=n[i];s[a.name]=l(r)}return s}}function Rt(t){if(cb(t)){const e=Rt(t.left),n=Rt(t.right);return r=>e(r)||n(r)}else if(lb(t)){const e=Rt(t.left),n=Rt(t.right);return r=>e(r)&&n(r)}else if(db(t)){const e=Rt(t.value);return n=>!e(n)}else if(mb(t)){const e=t.parameter.ref.name;return n=>n!==void 0&&n[e]===!0}else if(ob(t)){const e=!!t.true;return()=>e}Is()}function av(t,e){if(e.elements.length===1)return Zt(t,e.elements[0]);{const n=[];for(const s of e.elements){const i={ALT:Zt(t,s,!0)},a=rs(s);a&&(i.GATE=Rt(a)),n.push(i)}const r=t.or++;return s=>t.parser.alternatives(r,n.map(i=>{const a={ALT:()=>i.ALT(s)},l=i.GATE;return l&&(a.GATE=()=>l(s)),a}))}}function ov(t,e){if(e.elements.length===1)return Zt(t,e.elements[0]);const n=[];for(const l of e.elements){const c={ALT:Zt(t,l,!0)},u=rs(l);u&&(c.GATE=Rt(u)),n.push(c)}const r=t.or++,s=(l,c)=>{const u=c.getRuleStack().join("-");return`uGroup_${l}_${u}`},i=l=>t.parser.alternatives(r,n.map((c,u)=>{const d={ALT:()=>!0},f=t.parser;d.ALT=()=>{if(c.ALT(l),!f.isRecording()){const E=s(r,f);f.unorderedGroups.get(E)||f.unorderedGroups.set(E,[]);const A=f.unorderedGroups.get(E);typeof(A==null?void 0:A[u])>"u"&&(A[u]=!0)}};const p=c.GATE;return p?d.GATE=()=>p(l):d.GATE=()=>{const E=f.unorderedGroups.get(s(r,f));return!(E!=null&&E[u])},d})),a=Jh(t,rs(e),i,"*");return l=>{a(l),t.parser.isRecording()||t.parser.unorderedGroups.delete(s(r,t.parser))}}function lv(t,e){const n=e.elements.map(r=>Zt(t,r));return r=>n.forEach(s=>s(r))}function rs(t){if(Ia(t))return t.guardCondition}function qh(t,e,n=e.terminal){if(n)if(qt(n)&&ot(n.rule.ref)){const r=t.subrule++;return s=>t.parser.subrule(r,Zh(t,n.rule.ref),e,s)}else if(qt(n)&&an(n.rule.ref)){const r=t.consume++,s=Gi(t,n.rule.ref.name);return()=>t.parser.consume(r,s,e)}else if(Qt(n)){const r=t.consume++,s=Gi(t,n.value);return()=>t.parser.consume(r,s,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=qd(e.type.ref),s=r==null?void 0:r.terminal;if(!s)throw new Error("Could not find name assignment for type: "+Cs(e.type.ref));return qh(t,e,s)}}function cv(t,e){const n=t.consume++,r=t.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(n,r,e)}function Jh(t,e,n,r){const s=e&&Rt(e);if(!r)if(s){const i=t.or++;return a=>t.parser.alternatives(i,[{ALT:()=>n(a),GATE:()=>s(a)},{ALT:ml(),GATE:()=>!s(a)}])}else return n;if(r==="*"){const i=t.many++;return a=>t.parser.many(i,{DEF:()=>n(a),GATE:s?()=>s(a):void 0})}else if(r==="+"){const i=t.many++;if(s){const a=t.or++;return l=>t.parser.alternatives(a,[{ALT:()=>t.parser.atLeastOne(i,{DEF:()=>n(l)}),GATE:()=>s(l)},{ALT:ml(),GATE:()=>!s(l)}])}else return a=>t.parser.atLeastOne(i,{DEF:()=>n(a)})}else if(r==="?"){const i=t.optional++;return a=>t.parser.optional(i,{DEF:()=>n(a),GATE:s?()=>s(a):void 0})}else Is()}function Zh(t,e){const n=uv(t,e),r=t.rules.get(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function uv(t,e){if(ot(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let n=e,r=n.$container,s=e.$type;for(;!ot(r);)(Ia(r)||Od(r)||Hd(r))&&(s=r.elements.indexOf(n).toString()+":"+s),n=r,r=r.$container;return s=r.name+":"+s,t.ruleNames.set(e,s),s}}function Gi(t,e){const n=t.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}function dv(t){const e=t.Grammar,n=t.parser.Lexer,r=new ZS(t);return Qh(e,r,n.definition),r.finalize(),r}function hv(t){const e=fv(t);return e.finalize(),e}function fv(t){const e=t.Grammar,n=t.parser.Lexer,r=new qS(t);return Qh(e,r,n.definition)}class mv{buildTokens(e,n){const r=Se(zd(e,!1)),s=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,s,n);return s.forEach(a=>{const l=a.PATTERN;typeof l=="object"&&l&&"test"in l&&Yo(l)?i.unshift(a):i.push(a)}),i}buildTerminalTokens(e){return e.filter(an).filter(n=>!n.fragment).map(n=>this.buildTerminalToken(n)).toArray()}buildTerminalToken(e){const n=Oa(e),r=this.requiresCustomPattern(n)?this.regexPatternFunction(n):n,s={name:e.name,PATTERN:r,LINE_BREAKS:!0};return e.hidden&&(s.GROUP=Yo(n)?je.SKIPPED:"hidden"),s}requiresCustomPattern(e){return e.flags.includes("u")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const n=new RegExp(e,e.flags+"y");return(r,s)=>(n.lastIndex=s,n.exec(r))}buildKeywordTokens(e,n,r){return e.filter(ot).flatMap(s=>hr(s).filter(Qt)).distinct(s=>s.value).toArray().sort((s,i)=>i.value.length-s.value.length).map(s=>this.buildKeywordToken(s,n,!!(r!=null&&r.caseInsensitive)))}buildKeywordToken(e,n,r){return{name:e.value,PATTERN:this.buildKeywordPattern(e,r),LONGER_ALT:this.findLongerAlt(e,n)}}buildKeywordPattern(e,n){return n?new RegExp(jb(e.value)):e.value}findLongerAlt(e,n){return n.reduce((r,s)=>{const i=s==null?void 0:s.PATTERN;return i!=null&&i.source&&Hb("^"+i.source+"$",e.value)&&r.push(s),r},[])}}class pv{convert(e,n){let r=n.grammarSource;if(ba(r)&&(r=Wb(r)),qt(r)){const s=r.rule.ref;if(!s)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(s,e,n)}return e}runConverter(e,n,r){var s;switch(e.name.toUpperCase()){case"INT":return It.convertInt(n);case"STRING":return It.convertString(n);case"ID":return It.convertID(n)}switch((s=Jb(e))===null||s===void 0?void 0:s.toLowerCase()){case"number":return It.convertNumber(n);case"boolean":return It.convertBoolean(n);case"bigint":return It.convertBigint(n);case"date":return It.convertDate(n);default:return n}}}var It;(function(t){function e(u){let d="";for(let f=1;f<u.length-1;f++){const p=u.charAt(f);if(p==="\\"){const E=u.charAt(++f);d+=n(E)}else d+=p}return d}t.convertString=e;function n(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function r(u){return u.charAt(0)==="^"?u.substring(1):u}t.convertID=r;function s(u){return parseInt(u)}t.convertInt=s;function i(u){return BigInt(u)}t.convertBigint=i;function a(u){return new Date(u)}t.convertDate=a;function l(u){return Number(u)}t.convertNumber=l;function c(u){return u.toLowerCase()==="true"}t.convertBoolean=c})(It||(It={}));var tr={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});let Yi;function ef(){if(Yi===void 0)throw new Error("No runtime abstraction layer installed");return Yi}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Yi=n}t.install=e})(ef);xs.default=ef;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.stringArray=ye.array=ye.func=ye.error=ye.number=ye.string=ye.boolean=void 0;function _v(t){return t===!0||t===!1}ye.boolean=_v;function tf(t){return typeof t=="string"||t instanceof String}ye.string=tf;function Ev(t){return typeof t=="number"||t instanceof Number}ye.number=Ev;function gv(t){return t instanceof Error}ye.error=gv;function Tv(t){return typeof t=="function"}ye.func=Tv;function nf(t){return Array.isArray(t)}ye.array=nf;function Av(t){return nf(t)&&t.every(e=>tf(e))}ye.stringArray=Av;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Emitter=Rn.Event=void 0;const Nv=xs;var Ac;(function(t){const e={dispose(){}};t.None=function(){return e}})(Ac||(Rn.Event=Ac={}));class bv{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let s=0,i=this._callbacks.length;s<i;s++)if(this._callbacks[s]===e)if(this._contexts[s]===n){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),s=this._contexts.slice(0);for(let i=0,a=r.length;i<a;i++)try{n.push(r[i].apply(s[i],e))}catch(l){(0,Nv.default)().console.error(l)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Bs{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new bv),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);const s={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),s.dispose=Bs._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Rn.Emitter=Bs;Bs._noop=function(){};var be;Object.defineProperty(tr,"__esModule",{value:!0});var Wi=tr.CancellationTokenSource=be=tr.CancellationToken=void 0;const Iv=xs,Rv=ye,Vi=Rn;var ss;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Vi.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Vi.Event.None});function e(n){const r=n;return r&&(r===t.None||r===t.Cancelled||Rv.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(ss||(be=tr.CancellationToken=ss={}));const Sv=Object.freeze(function(t,e){const n=(0,Iv.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}});class Nc{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Sv:(this._emitter||(this._emitter=new Vi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class vv{get token(){return this._token||(this._token=new Nc),this._token}cancel(){this._token?this._token.cancel():this._token=ss.Cancelled}dispose(){this._token?this._token instanceof Nc&&this._token.dispose():this._token=ss.None}}Wi=tr.CancellationTokenSource=vv;function Ov(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let bc=0,Cv=10;const is=Symbol("OperationCancelled");function Ha(t){return t===is}async function ut(t){if(t===be.None)return;const e=Date.now();if(e-bc>=Cv&&(bc=e,await Ov()),t.isCancellationRequested)throw is}class $a{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class nr{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(nr.isIncremental(r)){const s=sf(r.range),i=this.offsetAt(s.start),a=this.offsetAt(s.end);this._content=this._content.substring(0,i)+r.text+this._content.substring(a,this._content.length);const l=Math.max(s.start.line,0),c=Math.max(s.end.line,0);let u=this._lineOffsets;const d=Ic(r.text,!1,i);if(c-l===d.length)for(let p=0,E=d.length;p<E;p++)u[p+l+1]=d[p];else d.length<1e4?u.splice(l+1,c-l,...d):this._lineOffsets=u=u.slice(0,l+1).concat(d,u.slice(c+1));const f=r.text.length-(a-i);if(f!==0)for(let p=l+1+d.length,E=u.length;p<E;p++)u[p]=u[p]+f}else if(nr.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Ic(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,s=n.length;if(s===0)return{line:0,character:e};for(;r<s;){const a=Math.floor((r+s)/2);n[a]>e?s=a:r=a+1}const i=r-1;return e=this.ensureBeforeEOL(e,n[i]),{line:i,character:e-n[i]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const s=e.line+1<n.length?n[e.line+1]:this._content.length,i=Math.min(r+e.character,s);return this.ensureBeforeEOL(i,r)}ensureBeforeEOL(e,n){for(;e>n&&rf(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var Ki;(function(t){function e(s,i,a,l){return new nr(s,i,a,l)}t.create=e;function n(s,i,a){if(s instanceof nr)return s.update(i,a),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=n;function r(s,i){const a=s.getText(),l=zi(i.map(yv),(d,f)=>{const p=d.range.start.line-f.range.start.line;return p===0?d.range.start.character-f.range.start.character:p});let c=0;const u=[];for(const d of l){const f=s.offsetAt(d.range.start);if(f<c)throw new Error("Overlapping edit");f>c&&u.push(a.substring(c,f)),d.newText.length&&u.push(d.newText),c=s.offsetAt(d.range.end)}return u.push(a.substr(c)),u.join("")}t.applyEdits=r})(Ki||(Ki={}));function zi(t,e){if(t.length<=1)return t;const n=t.length/2|0,r=t.slice(0,n),s=t.slice(n);zi(r,e),zi(s,e);let i=0,a=0,l=0;for(;i<r.length&&a<s.length;)e(r[i],s[a])<=0?t[l++]=r[i++]:t[l++]=s[a++];for(;i<r.length;)t[l++]=r[i++];for(;a<s.length;)t[l++]=s[a++];return t}function Ic(t,e,n=0){const r=e?[n]:[];for(let s=0;s<t.length;s++){const i=t.charCodeAt(s);rf(i)&&(i===13&&s+1<t.length&&t.charCodeAt(s+1)===10&&s++,r.push(n+s+1))}return r}function rf(t){return t===13||t===10}function sf(t){const e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function yv(t){const e=sf(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var ti={version:"v20.18.1",versions:{node:"20.18.1",acorn:"8.12.1",ada:"2.9.0",ares:"1.33.1",base64:"0.5.2",brotli:"1.1.0",cjs_module_lexer:"1.4.1",cldr:"45.0",icu:"75.1",llhttp:"8.1.2",modules:"115",napi:"9",nghttp2:"1.61.0",nghttp3:"0.7.0",ngtcp2:"1.1.0",openssl:"3.0.15+quic",simdutf:"5.5.0",tz:"2024b",undici:"6.20.0",unicode:"15.1",uv:"1.46.0",uvwasi:"0.0.21",v8:"11.3.244.8-node.23",zlib:"1.3.0.1-motley-71660e1"},arch:"x64",platform:"linux",release:{name:"node",lts:"Iron",sourceUrl:"https://nodejs.org/download/release/v20.18.1/node-v20.18.1.tar.gz",headersUrl:"https://nodejs.org/download/release/v20.18.1/node-v20.18.1-headers.tar.gz"},moduleLoadList:["Internal Binding builtins","Internal Binding module_wrap","Internal Binding errors","NativeModule internal/assert","Internal Binding util","NativeModule internal/errors","Internal Binding config","Internal Binding timers","Internal Binding async_wrap","Internal Binding task_queue","Internal Binding symbols","NativeModule internal/async_hooks","Internal Binding constants","Internal Binding types","Internal Binding options","NativeModule internal/options","Internal Binding string_decoder","NativeModule internal/util","NativeModule internal/util/types","NativeModule internal/validators","NativeModule internal/linkedlist","NativeModule internal/priority_queue","Internal Binding icu","NativeModule internal/util/inspect","NativeModule internal/util/debuglog","NativeModule internal/timers","NativeModule internal/events/abort_listener","NativeModule events","Internal Binding buffer","NativeModule internal/buffer","NativeModule buffer","Internal Binding messaging","NativeModule internal/worker/js_transferable","NativeModule internal/querystring","NativeModule internal/constants","NativeModule path","NativeModule querystring","Internal Binding url","NativeModule internal/url","NativeModule internal/fs/utils","Internal Binding process_methods","NativeModule internal/process/per_thread","Internal Binding credentials","NativeModule internal/process/promises","NativeModule internal/fixed_queue","NativeModule async_hooks","NativeModule internal/process/task_queues","NativeModule timers","Internal Binding trace_events","Internal Binding contextify","NativeModule internal/vm","NativeModule internal/process/execution","NativeModule internal/process/warning","NativeModule internal/source_map/source_map_cache","Internal Binding fs","Internal Binding blob","Internal Binding encoding_binding","NativeModule internal/encoding","NativeModule internal/streams/utils","NativeModule util","NativeModule internal/webstreams/util","NativeModule internal/webstreams/queuingstrategies","NativeModule internal/blob","Internal Binding permission","NativeModule internal/process/permission","NativeModule fs","NativeModule internal/modules/helpers","NativeModule internal/console/constructor","NativeModule internal/console/global","NativeModule internal/util/inspector","Internal Binding inspector","NativeModule internal/webidl","Internal Binding performance","NativeModule internal/perf/utils","NativeModule internal/event_target","Internal Binding wasm_web_api","Internal Binding mksnapshot","NativeModule internal/v8/startup_snapshot","NativeModule internal/process/signal","NativeModule url","NativeModule internal/modules/package_json_reader","NativeModule internal/modules/cjs/loader","NativeModule internal/process/pre_execution","NativeModule internal/modules/esm/utils","NativeModule internal/inspector_async_hook","Internal Binding worker","NativeModule internal/modules/run_main","NativeModule internal/net","NativeModule internal/dns/utils","NativeModule internal/modules/esm/assert","NativeModule internal/modules/esm/loader","NativeModule internal/modules/esm/module_map","NativeModule internal/modules/esm/translators","NativeModule internal/modules/esm/package_config","NativeModule internal/modules/esm/formats","NativeModule internal/modules/esm/get_format","NativeModule internal/modules/esm/resolve","NativeModule internal/modules/esm/module_job","NativeModule internal/modules/esm/load","Internal Binding fs_dir","NativeModule internal/fs/dir","NativeModule string_decoder","Internal Binding fs_event_wrap","Internal Binding uv","NativeModule internal/fs/watchers","NativeModule internal/fs/recursive_watch","NativeModule internal/readline/utils","NativeModule internal/readline/callbacks","NativeModule internal/readline/interface","NativeModule internal/fs/promises","NativeModule internal/perf/performance_entry","NativeModule internal/perf/observe","NativeModule internal/perf/resource_timing","NativeModule internal/perf/nodetiming","NativeModule internal/perf/usertiming","NativeModule internal/perf/event_loop_utilization","NativeModule internal/histogram","NativeModule internal/perf/timerify","NativeModule internal/perf/performance","NativeModule internal/perf/event_loop_delay","NativeModule perf_hooks","NativeModule internal/modules/esm/initialize_import_meta","NativeModule internal/streams/destroy","NativeModule internal/abort_controller","NativeModule internal/streams/end-of-stream","NativeModule internal/streams/legacy","NativeModule internal/streams/add-abort-signal","NativeModule internal/streams/state","NativeModule internal/streams/from","NativeModule internal/streams/readable","NativeModule internal/streams/writable","NativeModule internal/streams/duplex","NativeModule internal/streams/pipeline","NativeModule internal/streams/compose","NativeModule internal/streams/operators","NativeModule stream/promises","NativeModule internal/streams/transform","NativeModule internal/streams/passthrough","NativeModule internal/streams/duplexpair","NativeModule stream","NativeModule internal/fs/streams","NativeModule fs/promises","NativeModule internal/util/parse_args/utils","NativeModule internal/util/parse_args/parse_args","NativeModule internal/mime","NativeModule internal/source_map/source_map","NativeModule module","Internal Binding stream_wrap","Internal Binding tcp_wrap","Internal Binding pipe_wrap","NativeModule internal/stream_base_commons","NativeModule diagnostics_channel","NativeModule net","Internal Binding tty_wrap","NativeModule internal/tty","NativeModule tty","NativeModule internal/deps/cjs-module-lexer/dist/lexer","Internal Binding udp_wrap","NativeModule internal/dgram","NativeModule dgram","Internal Binding process_wrap","NativeModule internal/socket_list","Internal Binding spawn_sync","NativeModule internal/child_process","NativeModule child_process","NativeModule _http_agent","Internal Binding http_parser","NativeModule internal/freelist","NativeModule _http_incoming","NativeModule _http_common","NativeModule internal/http","NativeModule _http_outgoing","NativeModule _http_client","NativeModule _http_server","NativeModule http","Internal Binding crypto","Internal Binding cares_wrap","NativeModule internal/crypto/hashnames","NativeModule internal/crypto/util","NativeModule internal/tls/secure-context","NativeModule _tls_common","NativeModule internal/crypto/random","NativeModule internal/crypto/pbkdf2","NativeModule internal/crypto/scrypt","NativeModule internal/crypto/keys","NativeModule internal/crypto/hkdf","NativeModule internal/crypto/keygen","NativeModule internal/crypto/diffiehellman","NativeModule internal/streams/lazy_transform","NativeModule internal/crypto/cipher","NativeModule internal/crypto/sig","NativeModule internal/crypto/hash","NativeModule internal/crypto/x509","NativeModule internal/crypto/certificate","NativeModule crypto","Internal Binding js_stream","NativeModule internal/js_stream_socket","Internal Binding tls_wrap","NativeModule _tls_wrap","NativeModule internal/tls/secure-pair","NativeModule tls","NativeModule https","Internal Binding block_list","NativeModule internal/socketaddress","NativeModule internal/blocklist","Internal Binding os","NativeModule os","NativeModule internal/crypto/webcrypto","NativeModule internal/dns/callback_resolver","NativeModule dns","NativeModule internal/dns/promises","NativeModule internal/util/colors","NativeModule internal/assert/assertion_error","NativeModule internal/assert/utils","NativeModule internal/assert/calltracker","NativeModule assert","Internal Binding serdes","Internal Binding profiler","Internal Binding heap_utils","Internal Binding internal_only_v8","NativeModule internal/heap_utils","NativeModule internal/promise_hooks","Internal Binding v8","NativeModule v8","NativeModule internal/worker/io","NativeModule internal/error_serdes","NativeModule internal/worker","NativeModule worker_threads","NativeModule internal/file","NativeModule internal/readline/emitKeypressEvents","NativeModule internal/readline/promises","NativeModule readline/promises","NativeModule readline","Internal Binding zlib","NativeModule zlib","NativeModule process","Internal Binding report","NativeModule internal/process/report","NativeModule constants"],_events:{newListener:[null,null],removeListener:[null,null]},_eventsCount:3,domain:null,_exiting:!1,config:{target_defaults:{cflags:[],default_configuration:"Release",defines:["NODE_OPENSSL_CONF_NAME=nodejs_conf","NODE_OPENSSL_HAS_QUIC","ICU_NO_USER_DATA_OVERRIDE"],include_dirs:[],libraries:[]},variables:{asan:0,clang:0,coverage:!1,dcheck_always_on:0,debug_nghttp2:!1,debug_node:!1,enable_lto:!1,enable_pgo_generate:!1,enable_pgo_use:!1,error_on_warn:!1,force_dynamic_crt:0,gas_version:"2.35",host_arch:"x64",icu_data_in:"../../deps/icu-tmp/icudt75l.dat",icu_endianness:"l",icu_gyp_path:"tools/icu/icu-generic.gyp",icu_path:"deps/icu-small",icu_small:!1,icu_ver_major:"75",is_debug:0,libdir:"lib",llvm_version:"0.0",napi_build_version:"9",node_builtin_shareable_builtins:["deps/cjs-module-lexer/lexer.js","deps/cjs-module-lexer/dist/lexer.js","deps/undici/undici.js"],node_byteorder:"little",node_debug_lib:!1,node_enable_d8:!1,node_enable_v8_vtunejit:!1,node_fipsinstall:!1,node_install_corepack:!0,node_install_npm:!0,node_library_files:["lib/_http_agent.js","lib/_http_client.js","lib/_http_common.js","lib/_http_incoming.js","lib/_http_outgoing.js","lib/_http_server.js","lib/_stream_duplex.js","lib/_stream_passthrough.js","lib/_stream_readable.js","lib/_stream_transform.js","lib/_stream_wrap.js","lib/_stream_writable.js","lib/_tls_common.js","lib/_tls_wrap.js","lib/assert.js","lib/assert/strict.js","lib/async_hooks.js","lib/buffer.js","lib/child_process.js","lib/cluster.js","lib/console.js","lib/constants.js","lib/crypto.js","lib/dgram.js","lib/diagnostics_channel.js","lib/dns.js","lib/dns/promises.js","lib/domain.js","lib/events.js","lib/fs.js","lib/fs/promises.js","lib/http.js","lib/http2.js","lib/https.js","lib/inspector.js","lib/inspector/promises.js","lib/internal/abort_controller.js","lib/internal/assert.js","lib/internal/assert/assertion_error.js","lib/internal/assert/calltracker.js","lib/internal/assert/utils.js","lib/internal/async_hooks.js","lib/internal/blob.js","lib/internal/blocklist.js","lib/internal/bootstrap/node.js","lib/internal/bootstrap/realm.js","lib/internal/bootstrap/shadow_realm.js","lib/internal/bootstrap/switches/does_not_own_process_state.js","lib/internal/bootstrap/switches/does_own_process_state.js","lib/internal/bootstrap/switches/is_main_thread.js","lib/internal/bootstrap/switches/is_not_main_thread.js","lib/internal/bootstrap/web/exposed-wildcard.js","lib/internal/bootstrap/web/exposed-window-or-worker.js","lib/internal/buffer.js","lib/internal/child_process.js","lib/internal/child_process/serialization.js","lib/internal/cli_table.js","lib/internal/cluster/child.js","lib/internal/cluster/primary.js","lib/internal/cluster/round_robin_handle.js","lib/internal/cluster/shared_handle.js","lib/internal/cluster/utils.js","lib/internal/cluster/worker.js","lib/internal/console/constructor.js","lib/internal/console/global.js","lib/internal/constants.js","lib/internal/crypto/aes.js","lib/internal/crypto/certificate.js","lib/internal/crypto/cfrg.js","lib/internal/crypto/cipher.js","lib/internal/crypto/diffiehellman.js","lib/internal/crypto/ec.js","lib/internal/crypto/hash.js","lib/internal/crypto/hashnames.js","lib/internal/crypto/hkdf.js","lib/internal/crypto/keygen.js","lib/internal/crypto/keys.js","lib/internal/crypto/mac.js","lib/internal/crypto/pbkdf2.js","lib/internal/crypto/random.js","lib/internal/crypto/rsa.js","lib/internal/crypto/scrypt.js","lib/internal/crypto/sig.js","lib/internal/crypto/util.js","lib/internal/crypto/webcrypto.js","lib/internal/crypto/webidl.js","lib/internal/crypto/x509.js","lib/internal/debugger/inspect.js","lib/internal/debugger/inspect_client.js","lib/internal/debugger/inspect_repl.js","lib/internal/dgram.js","lib/internal/dns/callback_resolver.js","lib/internal/dns/promises.js","lib/internal/dns/utils.js","lib/internal/encoding.js","lib/internal/error_serdes.js","lib/internal/errors.js","lib/internal/event_target.js","lib/internal/events/abort_listener.js","lib/internal/events/symbols.js","lib/internal/file.js","lib/internal/fixed_queue.js","lib/internal/freelist.js","lib/internal/freeze_intrinsics.js","lib/internal/fs/cp/cp-sync.js","lib/internal/fs/cp/cp.js","lib/internal/fs/dir.js","lib/internal/fs/promises.js","lib/internal/fs/read/context.js","lib/internal/fs/recursive_watch.js","lib/internal/fs/rimraf.js","lib/internal/fs/streams.js","lib/internal/fs/sync_write_stream.js","lib/internal/fs/utils.js","lib/internal/fs/watchers.js","lib/internal/heap_utils.js","lib/internal/histogram.js","lib/internal/http.js","lib/internal/http2/compat.js","lib/internal/http2/core.js","lib/internal/http2/util.js","lib/internal/inspector_async_hook.js","lib/internal/inspector_network_tracking.js","lib/internal/js_stream_socket.js","lib/internal/legacy/processbinding.js","lib/internal/linkedlist.js","lib/internal/main/check_syntax.js","lib/internal/main/embedding.js","lib/internal/main/eval_stdin.js","lib/internal/main/eval_string.js","lib/internal/main/inspect.js","lib/internal/main/mksnapshot.js","lib/internal/main/print_help.js","lib/internal/main/prof_process.js","lib/internal/main/repl.js","lib/internal/main/run_main_module.js","lib/internal/main/test_runner.js","lib/internal/main/watch_mode.js","lib/internal/main/worker_thread.js","lib/internal/mime.js","lib/internal/modules/cjs/loader.js","lib/internal/modules/esm/assert.js","lib/internal/modules/esm/create_dynamic_module.js","lib/internal/modules/esm/fetch_module.js","lib/internal/modules/esm/formats.js","lib/internal/modules/esm/get_format.js","lib/internal/modules/esm/hooks.js","lib/internal/modules/esm/initialize_import_meta.js","lib/internal/modules/esm/load.js","lib/internal/modules/esm/loader.js","lib/internal/modules/esm/module_job.js","lib/internal/modules/esm/module_map.js","lib/internal/modules/esm/package_config.js","lib/internal/modules/esm/resolve.js","lib/internal/modules/esm/shared_constants.js","lib/internal/modules/esm/translators.js","lib/internal/modules/esm/utils.js","lib/internal/modules/esm/worker.js","lib/internal/modules/helpers.js","lib/internal/modules/package_json_reader.js","lib/internal/modules/run_main.js","lib/internal/navigator.js","lib/internal/net.js","lib/internal/options.js","lib/internal/per_context/domexception.js","lib/internal/per_context/messageport.js","lib/internal/per_context/primordials.js","lib/internal/perf/event_loop_delay.js","lib/internal/perf/event_loop_utilization.js","lib/internal/perf/nodetiming.js","lib/internal/perf/observe.js","lib/internal/perf/performance.js","lib/internal/perf/performance_entry.js","lib/internal/perf/resource_timing.js","lib/internal/perf/timerify.js","lib/internal/perf/usertiming.js","lib/internal/perf/utils.js","lib/internal/policy/manifest.js","lib/internal/policy/sri.js","lib/internal/priority_queue.js","lib/internal/process/execution.js","lib/internal/process/per_thread.js","lib/internal/process/permission.js","lib/internal/process/policy.js","lib/internal/process/pre_execution.js","lib/internal/process/promises.js","lib/internal/process/report.js","lib/internal/process/signal.js","lib/internal/process/task_queues.js","lib/internal/process/warning.js","lib/internal/process/worker_thread_only.js","lib/internal/promise_hooks.js","lib/internal/querystring.js","lib/internal/readline/callbacks.js","lib/internal/readline/emitKeypressEvents.js","lib/internal/readline/interface.js","lib/internal/readline/promises.js","lib/internal/readline/utils.js","lib/internal/repl.js","lib/internal/repl/await.js","lib/internal/repl/history.js","lib/internal/repl/utils.js","lib/internal/socket_list.js","lib/internal/socketaddress.js","lib/internal/source_map/prepare_stack_trace.js","lib/internal/source_map/source_map.js","lib/internal/source_map/source_map_cache.js","lib/internal/stream_base_commons.js","lib/internal/streams/add-abort-signal.js","lib/internal/streams/compose.js","lib/internal/streams/destroy.js","lib/internal/streams/duplex.js","lib/internal/streams/duplexify.js","lib/internal/streams/duplexpair.js","lib/internal/streams/end-of-stream.js","lib/internal/streams/from.js","lib/internal/streams/lazy_transform.js","lib/internal/streams/legacy.js","lib/internal/streams/operators.js","lib/internal/streams/passthrough.js","lib/internal/streams/pipeline.js","lib/internal/streams/readable.js","lib/internal/streams/state.js","lib/internal/streams/transform.js","lib/internal/streams/utils.js","lib/internal/streams/writable.js","lib/internal/test/binding.js","lib/internal/test/transfer.js","lib/internal/test_runner/coverage.js","lib/internal/test_runner/harness.js","lib/internal/test_runner/mock/loader.js","lib/internal/test_runner/mock/mock.js","lib/internal/test_runner/mock/mock_timers.js","lib/internal/test_runner/reporter/dot.js","lib/internal/test_runner/reporter/junit.js","lib/internal/test_runner/reporter/lcov.js","lib/internal/test_runner/reporter/spec.js","lib/internal/test_runner/reporter/tap.js","lib/internal/test_runner/reporter/utils.js","lib/internal/test_runner/reporter/v8-serializer.js","lib/internal/test_runner/runner.js","lib/internal/test_runner/test.js","lib/internal/test_runner/tests_stream.js","lib/internal/test_runner/utils.js","lib/internal/timers.js","lib/internal/tls/secure-context.js","lib/internal/tls/secure-pair.js","lib/internal/trace_events_async_hooks.js","lib/internal/tty.js","lib/internal/url.js","lib/internal/util.js","lib/internal/util/colors.js","lib/internal/util/comparisons.js","lib/internal/util/debuglog.js","lib/internal/util/embedding.js","lib/internal/util/inspect.js","lib/internal/util/inspector.js","lib/internal/util/iterable_weak_map.js","lib/internal/util/parse_args/parse_args.js","lib/internal/util/parse_args/utils.js","lib/internal/util/types.js","lib/internal/v8/startup_snapshot.js","lib/internal/v8_prof_polyfill.js","lib/internal/v8_prof_processor.js","lib/internal/validators.js","lib/internal/vm.js","lib/internal/vm/module.js","lib/internal/wasm_web_api.js","lib/internal/watch_mode/files_watcher.js","lib/internal/watchdog.js","lib/internal/webidl.js","lib/internal/webstreams/adapters.js","lib/internal/webstreams/compression.js","lib/internal/webstreams/encoding.js","lib/internal/webstreams/queuingstrategies.js","lib/internal/webstreams/readablestream.js","lib/internal/webstreams/transfer.js","lib/internal/webstreams/transformstream.js","lib/internal/webstreams/util.js","lib/internal/webstreams/writablestream.js","lib/internal/worker.js","lib/internal/worker/io.js","lib/internal/worker/js_transferable.js","lib/module.js","lib/net.js","lib/os.js","lib/path.js","lib/path/posix.js","lib/path/win32.js","lib/perf_hooks.js","lib/process.js","lib/punycode.js","lib/querystring.js","lib/readline.js","lib/readline/promises.js","lib/repl.js","lib/sea.js","lib/stream.js","lib/stream/consumers.js","lib/stream/promises.js","lib/stream/web.js","lib/string_decoder.js","lib/sys.js","lib/test.js","lib/test/reporters.js","lib/timers.js","lib/timers/promises.js","lib/tls.js","lib/trace_events.js","lib/tty.js","lib/url.js","lib/util.js","lib/util/types.js","lib/v8.js","lib/vm.js","lib/wasi.js","lib/worker_threads.js","lib/zlib.js"],node_module_version:115,node_no_browser_globals:!1,node_prefix:"/",node_release_urlbase:"https://nodejs.org/download/release/",node_section_ordering_info:"",node_shared:!1,node_shared_ada:!1,node_shared_brotli:!1,node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_nghttp2:!1,node_shared_nghttp3:!1,node_shared_ngtcp2:!1,node_shared_openssl:!1,node_shared_simdjson:!1,node_shared_simdutf:!1,node_shared_uvwasi:!1,node_shared_zlib:!1,node_tag:"",node_target_type:"executable",node_use_bundled_v8:!0,node_use_node_code_cache:!0,node_use_node_snapshot:!0,node_use_openssl:!0,node_use_v8_platform:!0,node_with_ltcg:!1,node_without_node_options:!1,node_write_snapshot_as_array_literals:!1,openssl_is_fips:!1,openssl_quic:!0,ossfuzz:!1,shlib_suffix:"so.115",single_executable_application:!0,target_arch:"x64",ubsan:0,use_prefix_to_find_headers:!1,v8_enable_31bit_smis_on_64bit_arch:0,v8_enable_extensible_ro_snapshot:0,v8_enable_gdbjit:0,v8_enable_hugepage:0,v8_enable_i18n_support:1,v8_enable_inspector:1,v8_enable_javascript_promise_hooks:1,v8_enable_lite_mode:0,v8_enable_maglev:0,v8_enable_object_print:1,v8_enable_pointer_compression:0,v8_enable_sandbox:0,v8_enable_shared_ro_heap:1,v8_enable_short_builtin_calls:1,v8_enable_v8_checks:0,v8_enable_webassembly:1,v8_no_strict_aliasing:1,v8_optimized_debug:1,v8_promise_internal_field_count:1,v8_random_seed:0,v8_trace_maps:0,v8_use_siphash:1,want_separate_host_toolset:0}},allowedNodeEnvironmentFlags:{},features:{inspector:!0,debug:!1,uv:!0,ipv6:!0,tls_alpn:!0,tls_sni:!0,tls_ocsp:!0,tls:!0,cached_builtins:!0},sourceMapsEnabled:!1,stdout:{connecting:!1,_hadError:!1,_parent:null,_host:null,_closeAfterHandlingError:!1,_events:{},_readableState:{highWaterMark:16384,buffer:[],bufferIndex:0,length:0,pipes:[],awaitDrainWriters:null,readable:!1},_writableState:{highWaterMark:16384,length:0,corked:0,writelen:0,bufferedIndex:0,pendingcb:0},allowHalfOpen:!1,_eventsCount:1,_sockname:null,_pendingData:null,_pendingEncoding:"",server:null,_server:null,_type:"pipe",fd:1,_isStdio:!0},stdin:{connecting:!1,_hadError:!1,_parent:null,_host:null,_closeAfterHandlingError:!1,_events:{},_readableState:{highWaterMark:16384,buffer:[],bufferIndex:0,length:0,pipes:[],awaitDrainWriters:null},_writableState:{highWaterMark:16384,length:0,corked:0,writelen:0,bufferedIndex:0,pendingcb:0},allowHalfOpen:!1,_eventsCount:2,_sockname:null,_pendingData:null,_pendingEncoding:"",server:null,_server:null,fd:0},stderr:{connecting:!1,_hadError:!1,_parent:null,_host:null,_closeAfterHandlingError:!1,_events:{},_readableState:{highWaterMark:16384,buffer:[],bufferIndex:0,length:0,pipes:[],awaitDrainWriters:null,readable:!1},_writableState:{highWaterMark:16384,length:0,corked:0,writelen:0,bufferedIndex:0,pendingcb:0},allowHalfOpen:!1,_eventsCount:1,_sockname:null,_pendingData:null,_pendingEncoding:"",server:null,_server:null,_type:"pipe",fd:2,_isStdio:!0},env:{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",npm_package_dependencies_juice:"^11.0.0",npm_package_devDependencies__types_node:"^22.10.2",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",npm_package_dependencies_pinia:"^2.3.0",USER:"runner",npm_package_devDependencies__types_buffer_from:"^1.1.3",npm_config_user_agent:"pnpm/9.15.2 npm/? node/v20.18.1 linux x64",CI:"true",npm_package_dependencies_vue:"^3.5.13",npm_package_devDependencies_less:"^4.2.1",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",PIPX_HOME:"/opt/pipx",npm_package_dependencies_codemirror:"^5.65.18",npm_package_dependencies_node_fetch:"^3.3.2",npm_package_devDependencies_vite:"^5.4.11",npm_node_execpath:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",npm_package_scripts_build_h5_netlify_only:"cross-env SERVER_ENV=NETLIFY vite build",npm_package_scripts_build_cli:"npm run build && npx shx rm -rf md-cli/dist && npx shx rm -rf dist/**/*.map && npx shx cp -r dist md-cli/ && cd md-cli && npm pack",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_scripts_build_h5_netlify:'run-p type-check "build:h5-netlify:only {@}" --',JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"avkiller",npm_config_auto_install_peers:"true",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",npm_package_scripts_type_check:"vue-tsc --build --force",npm_package_dependencies_tailwindcss_animate:"^1.0.7",npm_package_dependencies_tiny_oss:"^0.5.1",npm_package_devDependencies_vite_plugin_cdn_import:"^1.0.1",GITHUB_REPOSITORY_OWNER_ID:"4780139",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_class_variance_authority:"^0.7.1",npm_package_dependencies_radix_vue:"^1.9.11",SYSTEMD_EXEC_PID:"604",npm_package_scripts_postinstall:"simple-git-hooks",npm_package_dependencies_es_toolkit:"^1.31.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_dependencies_mermaid:"^11.4.1",npm_package_dependencies_minio:"7.1.3",npm_package_devDependencies_tailwindcss:"^3.4.17",npm_package_devDependencies_typescript:"~5.6.3",NVM_DIR:"/home/runner/.nvm",npm_package_dependencies_buffer_from:"^1.1.2",npm_package_devDependencies_vue_tsc:"^2.2.0",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",npm_package_scripts_dev:"vite --host",npm_package_devDependencies_prettier:"3.3.3",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_type:"module",npm_package_dependencies__vueuse_core:"^12.2.0",npm_package_devDependencies_vite_plugin_vue_devtools:"^7.6.8",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:1858",GITHUB_WORKFLOW:"Build and Deploy",_:"/opt/hostedtoolcache/node/20.18.1/x64/bin/pnpm",npm_package_private:"false",npm_package_dependencies_cos_js_sdk_v5:"^1.8.7",npm_package_devDependencies_autoprefixer:"^10.4.20",npm_package_devDependencies_vite_plugin_node_polyfills:"^0.22.0",npm_package_scripts_lint:"eslint . --fix",npm_package_dependencies_csstype:"^3.1.3",npm_package_devDependencies__types_uuid:"^10.0.0",npm_config_registry:"https://registry.npmjs.org/",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12533979606",STATS_VMFE:"true",npm_package_dependencies_core_js:"^3.39.0",npm_package_dependencies_vue_sonner:"^1.3.0",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"9ee3a086572c8bfec8ab9c0c7337ce1db80ef261",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",npm_package_scripts_start:"npm run dev",npm_package_dependencies_tailwind_merge:"^2.6.0",npm_package_devDependencies__vitejs_plugin_vue:"^5.2.1",STATS_BLT:"true",GITHUB_WORKFLOW_REF:"avkiller/md/.github/workflows/build.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_package_scripts_release_cli:"node ./scripts/release.js",npm_package_dependencies_axios:"^1.7.9",npm_package_devDependencies_shx:"^0.3.4",npm_config_node_gyp:"/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/md/md/node_modules/.bin:/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/dist/node-gyp-bin:/home/runner/work/md/md/node_modules/.bin:/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/dist/node-gyp-bin:/opt/hostedtoolcache/node/20.18.1/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_82261739-1651-4b39-a16f-6cc206000969",INVOCATION_ID:"6cc6dfea13ff46bc8c7ed99c45425310",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",npm_package_name:"md",npm_package_scripts_build_analyze:"cross-env ANALYZE=true vite build",npm_package_devDependencies__types_crypto_js:"^4.2.2",SERVER_ENV:"NETLIFY",GITHUB_ACTION:"__run_3",GITHUB_RUN_NUMBER:"24",GITHUB_TRIGGERING_ACTOR:"avkiller",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies_lucide_vue_next:"^0.462.0",npm_package_dependencies_marked:"^15.0.4",npm_config_frozen_lockfile:"",npm_package_dependencies_form_data:"4.0.1",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^9.17.0",npm_package_lint_staged__:"npm run lint",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 17",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"avkiller/md",STATS_D_D:"true",npm_package_simple_git_hooks_pre_commit:"npx lint-staged",npm_lifecycle_script:"cross-env SERVER_ENV=NETLIFY vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_dependencies_qiniu_js:"^3.4.2",npm_package_dependencies_vue_pick_colors:"^1.7.8",GITHUB_REPOSITORY_ID:"869281573",GITHUB_ACTIONS:"true",STATS_PIP:"false",NODE_PATH:"/home/runner/work/md/md/node_modules/.pnpm/vite@5.4.11_@types+node@22.10.2_less@4.2.1/node_modules/vite/bin/node_modules:/home/runner/work/md/md/node_modules/.pnpm/vite@5.4.11_@types+node@22.10.2_less@4.2.1/node_modules/vite/node_modules:/home/runner/work/md/md/node_modules/.pnpm/vite@5.4.11_@types+node@22.10.2_less@4.2.1/node_modules:/home/runner/work/md/md/node_modules/.pnpm/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/src/bin/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/src/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/node_modules:/home/runner/work/md/md/node_modules/.pnpm/cross-env@7.0.3/node_modules:/home/runner/work/md/md/node_modules/.pnpm/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules/npm-run-all/bin/run-p/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules/npm-run-all/bin/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules/npm-run-all/node_modules:/home/runner/work/md/md/node_modules/.pnpm/npm-run-all@4.1.5/node_modules:/home/runner/work/md/md/node_modules/.pnpm/node_modules",npm_package_version:"1.6.0",npm_package_scripts_build_only:"vite build",npm_lifecycle_event:"build:h5-netlify:only",GITHUB_REF_PROTECTED:"false",npm_package_scripts_build:'run-p type-check "build:only {@}" --',npm_package_dependencies_uuid:"^11.0.3",npm_package_devDependencies_simple_git_hooks:"^2.11.1",npm_package_devDependencies_unplugin_auto_import:"^0.18.6",npm_config_strict_peer_dependencies:"",GITHUB_WORKSPACE:"/home/runner/work/md/md",ACCEPT_EULA:"Y",GITHUB_JOB:"build-and-deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"9ee3a086572c8bfec8ab9c0c7337ce1db80ef261",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"avkiller",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_dependencies_clsx:"^2.1.1",LEIN_HOME:"/usr/local/lib/lein",npm_package_dependencies_crypto_js:"^4.2.0",npm_package_devDependencies__types_codemirror:"^5.60.15",npm_package_devDependencies__unocss_eslint_plugin:"^0.64.1",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/md/md",GITHUB_ACTOR_ID:"4780139",RUNNER_WORKSPACE:"/home/runner/work/md",npm_execpath:"/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/pnpm/bin/pnpm.cjs",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",PNPM_SCRIPT_SRC_DIR:"/home/runner/work/md/md",npm_package_devDependencies_cross_env:"^7.0.3",npm_package_devDependencies_postcss:"^8.4.49",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"npm run build && vite preview",npm_package_devDependencies_eslint_plugin_format:"^0.1.3",npm_package_devDependencies_rollup_plugin_visualizer:"^5.13.1",npm_package_devDependencies_unocss:"^0.64.1",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",npm_package_devDependencies_npm_run_all:"^4.1.5",npm_config_shamefully_hoist:"true",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_b2ce90a0-ee27-49a0-b71b-ba6a35fabfb4",INIT_CWD:"/home/runner/work/md/md",npm_package_dependencies_highlight_js:"^11.11.1",npm_package_devDependencies__antfu_eslint_config:"3.11.0",npm_package_devDependencies_unplugin_vue_components:"^0.27.5",NODE_ENV:"production",LAUNCH_EDITOR:"code"},title:"node",argv:["/opt/hostedtoolcache/node/20.18.1/x64/bin/node","/home/runner/work/md/md/node_modules/vite/bin/vite.js","build"],execArgv:[],pid:2068,ppid:2050,execPath:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",debugPort:9229,argv0:"node",_preload_modules:[],report:{directory:"",filename:"",compact:!1,excludeNetwork:!1,signal:"SIGUSR2",reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1}},af;(()=>{var t={470:s=>{function i(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function a(c,u){for(var d,f="",p=0,E=-1,A=0,b=0;b<=c.length;++b){if(b<c.length)d=c.charCodeAt(b);else{if(d===47)break;d=47}if(d===47){if(!(E===b-1||A===1))if(E!==b-1&&A===2){if(f.length<2||p!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var y=f.lastIndexOf("/");if(y!==f.length-1){y===-1?(f="",p=0):p=(f=f.slice(0,y)).length-1-f.lastIndexOf("/"),E=b,A=0;continue}}else if(f.length===2||f.length===1){f="",p=0,E=b,A=0;continue}}u&&(f.length>0?f+="/..":f="..",p=2)}else f.length>0?f+="/"+c.slice(E+1,b):f=c.slice(E+1,b),p=b-E-1;E=b,A=0}else d===46&&A!==-1?++A:A=-1}return f}var l={resolve:function(){for(var c,u="",d=!1,f=arguments.length-1;f>=-1&&!d;f--){var p;f>=0?p=arguments[f]:(c===void 0&&(c=ti.cwd()),p=c),i(p),p.length!==0&&(u=p+"/"+u,d=p.charCodeAt(0)===47)}return u=a(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(i(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=a(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return i(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];i(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":l.normalize(c)},relative:function(c,u){if(i(c),i(u),c===u||(c=l.resolve(c))===(u=l.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var f=c.length,p=f-d,E=1;E<u.length&&u.charCodeAt(E)===47;++E);for(var A=u.length-E,b=p<A?p:A,y=-1,R=0;R<=b;++R){if(R===b){if(A>b){if(u.charCodeAt(E+R)===47)return u.slice(E+R+1);if(R===0)return u.slice(E+R)}else p>b&&(c.charCodeAt(d+R)===47?y=R:R===0&&(y=0));break}var B=c.charCodeAt(d+R);if(B!==u.charCodeAt(E+R))break;B===47&&(y=R)}var M="";for(R=d+y+1;R<=f;++R)R!==f&&c.charCodeAt(R)!==47||(M.length===0?M+="..":M+="/..");return M.length>0?M+u.slice(E+y):(E+=y,u.charCodeAt(E)===47&&++E,u.slice(E))},_makeLong:function(c){return c},dirname:function(c){if(i(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,f=-1,p=!0,E=c.length-1;E>=1;--E)if((u=c.charCodeAt(E))===47){if(!p){f=E;break}}else p=!1;return f===-1?d?"/":".":d&&f===1?"//":c.slice(0,f)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');i(c);var d,f=0,p=-1,E=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var A=u.length-1,b=-1;for(d=c.length-1;d>=0;--d){var y=c.charCodeAt(d);if(y===47){if(!E){f=d+1;break}}else b===-1&&(E=!1,b=d+1),A>=0&&(y===u.charCodeAt(A)?--A==-1&&(p=d):(A=-1,p=b))}return f===p?p=b:p===-1&&(p=c.length),c.slice(f,p)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!E){f=d+1;break}}else p===-1&&(E=!1,p=d+1);return p===-1?"":c.slice(f,p)},extname:function(c){i(c);for(var u=-1,d=0,f=-1,p=!0,E=0,A=c.length-1;A>=0;--A){var b=c.charCodeAt(A);if(b!==47)f===-1&&(p=!1,f=A+1),b===46?u===-1?u=A:E!==1&&(E=1):u!==-1&&(E=-1);else if(!p){d=A+1;break}}return u===-1||f===-1||E===0||E===1&&u===f-1&&u===d+1?"":c.slice(u,f)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var f=d.dir||d.root,p=d.base||(d.name||"")+(d.ext||"");return f?f===d.root?f+p:f+"/"+p:p}(0,c)},parse:function(c){i(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,f=c.charCodeAt(0),p=f===47;p?(u.root="/",d=1):d=0;for(var E=-1,A=0,b=-1,y=!0,R=c.length-1,B=0;R>=d;--R)if((f=c.charCodeAt(R))!==47)b===-1&&(y=!1,b=R+1),f===46?E===-1?E=R:B!==1&&(B=1):E!==-1&&(B=-1);else if(!y){A=R+1;break}return E===-1||b===-1||B===0||B===1&&E===b-1&&E===A+1?b!==-1&&(u.base=u.name=A===0&&p?c.slice(1,b):c.slice(A,b)):(A===0&&p?(u.name=c.slice(1,E),u.base=c.slice(1,b)):(u.name=c.slice(A,E),u.base=c.slice(A,b)),u.ext=c.slice(E,b)),A>0?u.dir=c.slice(0,A-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,s.exports=l}},e={};function n(s){var i=e[s];if(i!==void 0)return i.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,n),a.exports}n.d=(s,i)=>{for(var a in i)n.o(i,a)&&!n.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:i[a]})},n.o=(s,i)=>Object.prototype.hasOwnProperty.call(s,i),n.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var r={};(()=>{let s;n.r(r),n.d(r,{URI:()=>p,Utils:()=>V}),typeof ti=="object"?s=ti.platform==="win32":typeof navigator=="object"&&(s=navigator.userAgent.indexOf("Windows")>=0);const i=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(P,D){if(!P.scheme&&D)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${P.authority}", path: "${P.path}", query: "${P.query}", fragment: "${P.fragment}"}`);if(P.scheme&&!i.test(P.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(P.path){if(P.authority){if(!a.test(P.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(P.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",d="/",f=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(D,F,v,k,O,I=!1){Pt(this,"scheme");Pt(this,"authority");Pt(this,"path");Pt(this,"query");Pt(this,"fragment");typeof D=="object"?(this.scheme=D.scheme||u,this.authority=D.authority||u,this.path=D.path||u,this.query=D.query||u,this.fragment=D.fragment||u):(this.scheme=function(x,$){return x||$?x:"file"}(D,I),this.authority=F||u,this.path=function(x,$){switch(x){case"https":case"http":case"file":$?$[0]!==d&&($=d+$):$=d}return $}(this.scheme,v||u),this.query=k||u,this.fragment=O||u,c(this,I))}static isUri(D){return D instanceof p||!!D&&typeof D.authority=="string"&&typeof D.fragment=="string"&&typeof D.path=="string"&&typeof D.query=="string"&&typeof D.scheme=="string"&&typeof D.fsPath=="string"&&typeof D.with=="function"&&typeof D.toString=="function"}get fsPath(){return B(this)}with(D){if(!D)return this;let{scheme:F,authority:v,path:k,query:O,fragment:I}=D;return F===void 0?F=this.scheme:F===null&&(F=u),v===void 0?v=this.authority:v===null&&(v=u),k===void 0?k=this.path:k===null&&(k=u),O===void 0?O=this.query:O===null&&(O=u),I===void 0?I=this.fragment:I===null&&(I=u),F===this.scheme&&v===this.authority&&k===this.path&&O===this.query&&I===this.fragment?this:new A(F,v,k,O,I)}static parse(D,F=!1){const v=f.exec(D);return v?new A(v[2]||u,U(v[4]||u),U(v[5]||u),U(v[7]||u),U(v[9]||u),F):new A(u,u,u,u,u)}static file(D){let F=u;if(s&&(D=D.replace(/\\/g,d)),D[0]===d&&D[1]===d){const v=D.indexOf(d,2);v===-1?(F=D.substring(2),D=d):(F=D.substring(2,v),D=D.substring(v)||d)}return new A("file",F,D,u,u)}static from(D){const F=new A(D.scheme,D.authority,D.path,D.query,D.fragment);return c(F,!0),F}toString(D=!1){return M(this,D)}toJSON(){return this}static revive(D){if(D){if(D instanceof p)return D;{const F=new A(D);return F._formatted=D.external,F._fsPath=D._sep===E?D.fsPath:null,F}}return D}}const E=s?1:void 0;class A extends p{constructor(){super(...arguments);Pt(this,"_formatted",null);Pt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=B(this)),this._fsPath}toString(F=!1){return F?M(this,!0):(this._formatted||(this._formatted=M(this,!1)),this._formatted)}toJSON(){const F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=E),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}}const b={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(P,D,F){let v,k=-1;for(let O=0;O<P.length;O++){const I=P.charCodeAt(O);if(I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===45||I===46||I===95||I===126||D&&I===47||F&&I===91||F&&I===93||F&&I===58)k!==-1&&(v+=encodeURIComponent(P.substring(k,O)),k=-1),v!==void 0&&(v+=P.charAt(O));else{v===void 0&&(v=P.substr(0,O));const x=b[I];x!==void 0?(k!==-1&&(v+=encodeURIComponent(P.substring(k,O)),k=-1),v+=x):k===-1&&(k=O)}}return k!==-1&&(v+=encodeURIComponent(P.substring(k))),v!==void 0?v:P}function R(P){let D;for(let F=0;F<P.length;F++){const v=P.charCodeAt(F);v===35||v===63?(D===void 0&&(D=P.substr(0,F)),D+=b[v]):D!==void 0&&(D+=P[F])}return D!==void 0?D:P}function B(P,D){let F;return F=P.authority&&P.path.length>1&&P.scheme==="file"?`//${P.authority}${P.path}`:P.path.charCodeAt(0)===47&&(P.path.charCodeAt(1)>=65&&P.path.charCodeAt(1)<=90||P.path.charCodeAt(1)>=97&&P.path.charCodeAt(1)<=122)&&P.path.charCodeAt(2)===58?P.path[1].toLowerCase()+P.path.substr(2):P.path,s&&(F=F.replace(/\//g,"\\")),F}function M(P,D){const F=D?R:y;let v="",{scheme:k,authority:O,path:I,query:x,fragment:$}=P;if(k&&(v+=k,v+=":"),(O||k==="file")&&(v+=d,v+=d),O){let H=O.indexOf("@");if(H!==-1){const q=O.substr(0,H);O=O.substr(H+1),H=q.lastIndexOf(":"),H===-1?v+=F(q,!1,!1):(v+=F(q.substr(0,H),!1,!1),v+=":",v+=F(q.substr(H+1),!1,!0)),v+="@"}O=O.toLowerCase(),H=O.lastIndexOf(":"),H===-1?v+=F(O,!1,!0):(v+=F(O.substr(0,H),!1,!0),v+=O.substr(H))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const H=I.charCodeAt(1);H>=65&&H<=90&&(I=`/${String.fromCharCode(H+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const H=I.charCodeAt(0);H>=65&&H<=90&&(I=`${String.fromCharCode(H+32)}:${I.substr(2)}`)}v+=F(I,!0,!1)}return x&&(v+="?",v+=F(x,!1,!1)),$&&(v+="#",v+=D?$:y($,!1,!1)),v}function S(P){try{return decodeURIComponent(P)}catch{return P.length>3?P.substr(0,3)+S(P.substr(3)):P}}const C=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function U(P){return P.match(C)?P.replace(C,D=>S(D)):P}var G=n(470);const z=G.posix||G,X="/";var V;(function(P){P.joinPath=function(D,...F){return D.with({path:z.join(D.path,...F)})},P.resolvePath=function(D,...F){let v=D.path,k=!1;v[0]!==X&&(v=X+v,k=!0);let O=z.resolve(v,...F);return k&&O[0]===X&&!D.authority&&(O=O.substring(1)),D.with({path:O})},P.dirname=function(D){if(D.path.length===0||D.path===X)return D;let F=z.dirname(D.path);return F.length===1&&F.charCodeAt(0)===46&&(F=""),D.with({path:F})},P.basename=function(D){return z.basename(D.path)},P.extname=function(D){return z.extname(D.path)}})(V||(V={}))})(),af=r})();const{URI:Sn,Utils:Bn}=af;var Ht;(function(t){t.basename=Bn.basename,t.dirname=Bn.dirname,t.extname=Bn.extname,t.joinPath=Bn.joinPath,t.resolvePath=Bn.resolvePath;function e(r,s){return(r==null?void 0:r.toString())===(s==null?void 0:s.toString())}t.equals=e;function n(r,s){const i=typeof r=="string"?r:r.path,a=typeof s=="string"?s:s.path,l=i.split("/").filter(p=>p.length>0),c=a.split("/").filter(p=>p.length>0);let u=0;for(;u<l.length&&l[u]===c[u];u++);const d="../".repeat(l.length-u),f=c.slice(u).join("/");return d+f}t.relative=n})(Ht||(Ht={}));var ce;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(ce||(ce={}));class Lv{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,n=be.None){const r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,n)}fromTextDocument(e,n,r){return n=n??Sn.parse(e.uri),r?this.createAsync(n,e,r):this.create(n,e)}fromString(e,n,r){return r?this.createAsync(n,e,r):this.create(n,e)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n){if(typeof n=="string"){const r=this.parse(e,n);return this.createLangiumDocument(r,e,void 0,n)}else if("$model"in n){const r={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}else{const r=this.parse(e,n.getText());return this.createLangiumDocument(r,e,n)}}async createAsync(e,n,r){if(typeof n=="string"){const s=await this.parseAsync(e,n,r);return this.createLangiumDocument(s,e,void 0,n)}else{const s=await this.parseAsync(e,n.getText(),r);return this.createLangiumDocument(s,e,n)}}createLangiumDocument(e,n,r,s){let i;if(r)i={parseResult:e,uri:n,state:ce.Parsed,references:[],textDocument:r};else{const a=this.createTextDocumentGetter(n,s);i={parseResult:e,uri:n,state:ce.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=i,i}async update(e,n){var r,s;const i=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,a=(s=this.textDocuments)===null||s===void 0?void 0:s.get(e.uri.toString()),l=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{const c=this.createTextDocumentGetter(e.uri,l);Object.defineProperty(e,"textDocument",{get:c})}return i!==l&&(e.parseResult=await this.parseAsync(e.uri,l,n),e.parseResult.value.$document=e),e.state=ce.Parsed,e}parse(e,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let s;return()=>s??(s=Ki.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class kv{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return Se(this.documentMap.values())}addDocument(e){const n=e.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,e)}getDocument(e){const n=e.toString();return this.documentMap.get(n)}async getOrCreateDocument(e,n){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,n),this.addDocument(r),r)}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(s=>(this.addDocument(s),s));{const s=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(s),s}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=ce.Changed,r.precomputedScopes=void 0,r.references=[],r.diagnostics=void 0),r}deleteDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=ce.Changed,this.documentMap.delete(n)),r}}class Mv{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,n=be.None){for(const r of dn(e.parseResult.value))await ut(n),Wd(r).forEach(s=>this.doLink(s,e))}doLink(e,n){const r=e.reference;if(r._ref===void 0)try{const s=this.getCandidate(e);if(Or(s))r._ref=s;else if(r._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){const i=this.loadAstNode(s);r._ref=i??this.createLinkingError(e,s)}}catch(s){r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${s}`})}n.references.push(r)}unlink(e){for(const n of e.references)delete n._ref,delete n._nodeDescription;e.references=[]}getCandidate(e){const r=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return r??this.createLinkingError(e)}buildReference(e,n,r,s){const i=this,a={$refNode:r,$refText:s,get ref(){var l;if(Le(this._ref))return this._ref;if(KN(this._nodeDescription)){const c=i.loadAstNode(this._nodeDescription);this._ref=c??i.createLinkingError({reference:a,container:e,property:n},this._nodeDescription)}else if(this._ref===void 0){const c=i.getLinkedNode({reference:a,container:e,property:n});if(c.error&&Et(e).state<ce.ComputedScopes)return;this._ref=(l=c.node)!==null&&l!==void 0?l:c.error,this._nodeDescription=c.descr}return Le(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Or(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){try{const n=this.getCandidate(e);if(Or(n))return{error:n};const r=this.loadAstNode(n);return r?{node:r,descr:n}:{descr:n,error:this.createLinkingError(e,n)}}catch(n){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${n}`})}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);if(n)return this.astNodeLocator.getAstNode(n.parseResult.value,e.path)}createLinkingError(e,n){const r=Et(e.container);r.state<ce.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const s=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${s} named '${e.reference.$refText}'.`,targetDescription:n})}}function Pv(t){return typeof t.name=="string"}class Dv{getName(e){if(Pv(e))return e.name}getNameNode(e){return Qd(e.$cstNode,"name")}}class wv{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const n=Qb(e),r=e.astNode;if(n&&r){const s=r[n.feature];if(_t(s))return s.ref;if(Array.isArray(s)){for(const i of s)if(_t(i)&&i.$refNode&&i.$refNode.offset<=e.offset&&i.$refNode.end>=e.end)return i.ref}}if(r){const s=this.nameProvider.getNameNode(r);if(s&&(s===e||qN(e,s)))return r}}}findDeclarationNode(e){const n=this.findDeclaration(e);if(n!=null&&n.$cstNode){const r=this.nameProvider.getNameNode(n);return r??n.$cstNode}}findReferences(e,n){const r=[];if(n.includeDeclaration){const i=this.getReferenceToSelf(e);i&&r.push(i)}let s=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(s=s.filter(i=>Ht.equals(i.sourceUri,n.documentUri))),r.push(...s),Se(r)}getReferenceToSelf(e){const n=this.nameProvider.getNameNode(e);if(n){const r=Et(e),s=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:s,targetUri:r.uri,targetPath:s,segment:jr(n),local:!0}}}}class Ga{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return mi.sum(Se(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(n===void 0)return this.map.delete(e);{const r=this.map.get(e);if(r){const s=r.indexOf(n);if(s>=0)return r.length===1?this.map.delete(e):r.splice(s,1),!0}return!1}}get(e){var n;return(n=this.map.get(e))!==null&&n!==void 0?n:[]}has(e,n){if(n===void 0)return this.map.has(e);{const r=this.map.get(e);return r?r.indexOf(n)>=0:!1}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(s=>e(s,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Se(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return Se(this.map.keys())}values(){return Se(this.map.values()).flat()}entriesGroupedByKey(){return Se(this.map.entries())}}class Rc{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return n!==void 0?(this.map.delete(e),this.inverse.delete(n),!0):!1}}class xv{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,n=be.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,n)}async computeExportsForNode(e,n,r=Ra,s=be.None){const i=[];this.exportNode(e,i,n);for(const a of r(e))await ut(s),this.exportNode(a,i,n);return i}exportNode(e,n,r){const s=this.nameProvider.getName(e);s&&n.push(this.descriptions.createDescription(e,s,r))}async computeLocalScopes(e,n=be.None){const r=e.parseResult.value,s=new Ga;for(const i of hr(r))await ut(n),this.processNode(i,e,s);return s}processNode(e,n,r){const s=e.$container;if(s){const i=this.nameProvider.getName(e);i&&r.add(s,this.descriptions.createDescription(e,i,n))}}}class Sc{constructor(e,n,r){var s;this.elements=e,this.outerScope=n,this.caseInsensitive=(s=r==null?void 0:r.caseInsensitive)!==null&&s!==void 0?s:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const n=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}}class Bv{constructor(e,n,r){var s;this.elements=new Map,this.caseInsensitive=(s=r==null?void 0:r.caseInsensitive)!==null&&s!==void 0?s:!1;for(const i of e){const a=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(a,i)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(n);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Se(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class of{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Uv extends of{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class Fv extends of{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const s=this.cacheForContext(e);if(s.has(n))return s.get(n);if(r){const i=r();return s.set(n,i),i}else return}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class jv extends Uv{constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class Hv{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new jv(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),s=Et(e.container).precomputedScopes;if(s){let a=e.container;do{const l=s.get(a);l.length>0&&n.push(Se(l).filter(c=>this.reflection.isSubtype(c.type,r))),a=a.$container}while(a)}let i=this.getGlobalScope(r,e);for(let a=n.length-1;a>=0;a--)i=this.createScope(n[a],i);return i}createScope(e,n,r){return new Sc(Se(e),n,r)}createScopeForNodes(e,n,r){const s=Se(e).map(i=>{const a=this.nameProvider.getName(i);if(a)return this.descriptions.createDescription(i,a)}).nonNullable();return new Sc(s,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new Bv(this.indexManager.allElements(e)))}}function $v(t){return typeof t.$comment=="string"}function vc(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class Gv{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n={}){const r=n==null?void 0:n.replacer,s=(a,l)=>this.replacer(a,l,n),i=r?(a,l)=>r(a,l,s):s;try{return this.currentDocument=Et(e),JSON.stringify(e,i,n==null?void 0:n.space)}finally{this.currentDocument=void 0}}deserialize(e,n={}){const r=JSON.parse(e);return this.linkNode(r,r,n),r}replacer(e,n,{refText:r,sourceText:s,textRegions:i,comments:a,uriConverter:l}){var c,u,d,f;if(!this.ignoreProperties.has(e))if(_t(n)){const p=n.ref,E=r?n.$refText:void 0;if(p){const A=Et(p);let b="";this.currentDocument&&this.currentDocument!==A&&(l?b=l(A.uri,n):b=A.uri.toString());const y=this.astNodeLocator.getAstNodePath(p);return{$ref:`${b}#${y}`,$refText:E}}else return{$error:(u=(c=n.error)===null||c===void 0?void 0:c.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:E}}else if(Le(n)){let p;if(i&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),(!e||n.$document)&&(p!=null&&p.$textRegion)&&(p.$textRegion.documentURI=(d=this.currentDocument)===null||d===void 0?void 0:d.uri.toString())),s&&!e&&(p??(p=Object.assign({},n)),p.$sourceText=(f=n.$cstNode)===null||f===void 0?void 0:f.text),a){p??(p=Object.assign({},n));const E=this.commentProvider.getComment(n);E&&(p.$comment=E.replace(/\r/g,""))}return p??n}else return n}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const r=e.$textRegion=n(e.$cstNode),s=r.assignments={};return Object.keys(e).filter(i=>!i.startsWith("$")).forEach(i=>{const a=Kb(e.$cstNode,i).map(n);a.length!==0&&(s[i]=a)}),e}}linkNode(e,n,r,s,i,a){for(const[c,u]of Object.entries(e))if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];vc(f)?u[d]=this.reviveReference(e,c,n,f,r):Le(f)&&this.linkNode(f,n,r,e,c,d)}else vc(u)?e[c]=this.reviveReference(e,c,n,u,r):Le(u)&&this.linkNode(u,n,r,e,c);const l=e;l.$container=s,l.$containerProperty=i,l.$containerIndex=a}reviveReference(e,n,r,s,i){let a=s.$refText,l=s.$error;if(s.$ref){const c=this.getRefNode(r,s.$ref,i.uriConverter);if(Le(c))return a||(a=this.nameProvider.getName(c)),{$refText:a??"",ref:c};l=c}if(l){const c={$refText:a??""};return c.error={container:e,property:n,message:l,reference:c},c}else return}getRefNode(e,n,r){try{const s=n.indexOf("#");if(s===0){const c=this.astNodeLocator.getAstNode(e,n.substring(1));return c||"Could not resolve path: "+n}if(s<0){const c=r?r(n):Sn.parse(n),u=this.langiumDocuments.getDocument(c);return u?u.parseResult.value:"Could not find document for URI: "+n}const i=r?r(n.substring(0,s)):Sn.parse(n.substring(0,s)),a=this.langiumDocuments.getDocument(i);if(!a)return"Could not find document for URI: "+n;if(s===n.length-1)return a.parseResult.value;const l=this.astNodeLocator.getAstNode(a.parseResult.value,n.substring(s+1));return l||"Could not resolve URI: "+n}catch(s){return String(s)}}}class Yv{register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(const n of this.singleton.LanguageMetaData.fileExtensions)this.map[n]=this.singleton;this.singleton=void 0}for(const n of e.LanguageMetaData.fileExtensions)this.map[n]!==void 0&&this.map[n]!==e&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[n]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const n=Ht.extname(e),r=this.map[n];if(!r)throw new Error(`The service registry contains no services for the extension '${n}'.`);return r}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}function Oc(t){return{code:t}}var as;(function(t){t.all=["fast","slow","built-in"]})(as||(as={}));class Wv{constructor(e){this.entries=new Ga,this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[s,i]of Object.entries(e)){const a=i;if(Array.isArray(a))for(const l of a){const c={check:this.wrapValidationException(l,n),category:r};this.addEntry(s,c)}else if(typeof a=="function"){const l={check:this.wrapValidationException(a,n),category:r};this.addEntry(s,l)}}}wrapValidationException(e,n){return async(r,s,i)=>{try{await e.call(n,r,s,i)}catch(a){if(Ha(a))throw a;console.error("An error occurred during validation:",a);const l=a instanceof Error?a.message:String(a);a instanceof Error&&a.stack&&console.error(a.stack),s("error","An error occurred during validation: "+l,{node:r})}}}addEntry(e,n){if(e==="AstNode"){this.entries.add("AstNode",n);return}for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n)}getChecks(e,n){let r=Se(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(s=>n.includes(s.category))),r.map(s=>s.check)}}class Vv{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,n={},r=be.None){const s=e.parseResult,i=[];if(await ut(r),(!n.categories||n.categories.includes("built-in"))&&(this.processLexingErrors(s,i,n),n.stopAfterLexingErrors&&i.some(a=>{var l;return((l=a.data)===null||l===void 0?void 0:l.code)===wt.LexingError})||(this.processParsingErrors(s,i,n),n.stopAfterParsingErrors&&i.some(a=>{var l;return((l=a.data)===null||l===void 0?void 0:l.code)===wt.ParsingError}))||(this.processLinkingErrors(e,i,n),n.stopAfterLinkingErrors&&i.some(a=>{var l;return((l=a.data)===null||l===void 0?void 0:l.code)===wt.LinkingError}))))return i;try{i.push(...await this.validateAst(s.value,n,r))}catch(a){if(Ha(a))throw a;console.error("An error occurred during validation:",a)}return await ut(r),i}processLexingErrors(e,n,r){for(const s of e.lexerErrors){const i={severity:ni("error"),range:{start:{line:s.line-1,character:s.column-1},end:{line:s.line-1,character:s.column+s.length-1}},message:s.message,data:Oc(wt.LexingError),source:this.getSource()};n.push(i)}}processParsingErrors(e,n,r){for(const s of e.parserErrors){let i;if(isNaN(s.token.startOffset)){if("previousToken"in s){const a=s.previousToken;if(isNaN(a.startOffset)){const l={line:0,character:0};i={start:l,end:l}}else{const l={line:a.endLine-1,character:a.endColumn};i={start:l,end:l}}}}else i=_i(s.token);if(i){const a={severity:ni("error"),range:i,message:s.message,data:Oc(wt.ParsingError),source:this.getSource()};n.push(a)}}}processLinkingErrors(e,n,r){for(const s of e.references){const i=s.error;if(i){const a={node:i.container,property:i.property,index:i.index,data:{code:wt.LinkingError,containerType:i.container.$type,property:i.property,refText:i.reference.$refText}};n.push(this.toDiagnostic("error",i.message,a))}}}async validateAst(e,n,r=be.None){const s=[],i=(a,l,c)=>{s.push(this.toDiagnostic(a,l,c))};return await Promise.all(dn(e).map(async a=>{await ut(r);const l=this.validationRegistry.getChecks(a.$type,n.categories);for(const c of l)await c(a,i,r)})),s}toDiagnostic(e,n,r){return{message:n,range:Kv(r),severity:ni(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Kv(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=Qd(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=zb(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function ni(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}var wt;(function(t){t.LexingError="lexing-error",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(wt||(wt={}));class zv{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r=Et(e)){n??(n=this.nameProvider.getName(e));const s=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${s} has no name.`);let i;const a=()=>{var l;return i??(i=jr((l=this.nameProvider.getNameNode(e))!==null&&l!==void 0?l:e.$cstNode))};return{node:e,name:n,get nameSegment(){return a()},selectionSegment:jr(e.$cstNode),type:e.$type,documentUri:r.uri,path:s}}}class Xv{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,n=be.None){const r=[],s=e.parseResult.value;for(const i of dn(s))await ut(n),Wd(i).filter(a=>!Or(a)).forEach(a=>{const l=this.createDescription(a);l&&r.push(l)});return r}createDescription(e){const n=e.reference.$nodeDescription,r=e.reference.$refNode;if(!n||!r)return;const s=Et(e.container).uri;return{sourceUri:s,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:n.documentUri,targetPath:n.path,segment:jr(r),local:Ht.equals(n.documentUri,s)}}}class Qv{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return n!==void 0?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((s,i)=>{if(!s||i.length===0)return s;const a=i.indexOf(this.indexSeparator);if(a>0){const l=i.substring(0,a),c=parseInt(i.substring(a+1)),u=s[l];return u==null?void 0:u[c]}return s[i]},e)}}class qv{constructor(e){this._ready=new $a,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n,r;this.workspaceConfig=(r=(n=e.capabilities.workspace)===null||n===void 0?void 0:n.configuration)!==null&&r!==void 0?r:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const n=this.serviceRegistry.all;e.register({section:n.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const n=this.serviceRegistry.all.map(s=>({section:this.toSectionName(s.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(n);n.forEach((s,i)=>{this.updateSectionConfiguration(s.section,r[i])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(n=>{this.updateSectionConfiguration(n,e.settings[n])})}updateSectionConfiguration(e,n){this.settings[e]=n}async getConfiguration(e,n){await this.ready;const r=this.toSectionName(e);if(this.settings[r])return this.settings[r][n]}toSectionName(e){return`${e}`}}var os;(function(t){function e(n){return{dispose:async()=>await n()}}t.create=e})(os||(os={}));class Jv{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Ga,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=ce.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,n={},r=be.None){var s,i;for(const a of e){const l=a.uri.toString();if(a.state===ce.Validated){if(typeof n.validation=="boolean"&&n.validation)a.state=ce.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(l);else if(typeof n.validation=="object"){const c=this.buildState.get(l),u=(s=c==null?void 0:c.result)===null||s===void 0?void 0:s.validationChecks;if(u){const f=((i=n.validation.categories)!==null&&i!==void 0?i:as.all).filter(p=>!u.includes(p));f.length>0&&(this.buildState.set(l,{completed:!1,options:{validation:Object.assign(Object.assign({},n.validation),{categories:f})},result:c.result}),a.state=ce.IndexedReferences)}}}else this.buildState.delete(l)}this.currentState=ce.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,n,r)}async update(e,n,r=be.None){this.currentState=ce.Changed;for(const a of n)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of e){if(!this.langiumDocuments.invalidateDocument(a)){const c=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);c.state=ce.Changed,this.langiumDocuments.addDocument(c)}this.buildState.delete(a.toString())}const s=Se(e).concat(n).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!s.has(a.uri.toString())&&this.shouldRelink(a,s)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,ce.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,n),await ut(r);const i=this.langiumDocuments.all.filter(a=>{var l;return a.state<ce.Linked||!(!((l=this.buildState.get(a.uri.toString()))===null||l===void 0)&&l.completed)}).toArray();await this.buildDocuments(i,this.updateBuildOptions,r)}async emitUpdate(e,n){await Promise.all(this.updateListeners.map(r=>r(e,n)))}shouldRelink(e,n){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),os.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}async buildDocuments(e,n,r){this.prepareBuild(e,n),await this.runCancelable(e,ce.Parsed,r,i=>this.langiumDocumentFactory.update(i,r)),await this.runCancelable(e,ce.IndexedContent,r,i=>this.indexManager.updateContent(i,r)),await this.runCancelable(e,ce.ComputedScopes,r,async i=>{const a=this.serviceRegistry.getServices(i.uri).references.ScopeComputation;i.precomputedScopes=await a.computeLocalScopes(i,r)}),await this.runCancelable(e,ce.Linked,r,i=>this.serviceRegistry.getServices(i.uri).references.Linker.link(i,r)),await this.runCancelable(e,ce.IndexedReferences,r,i=>this.indexManager.updateReferences(i,r));const s=e.filter(i=>this.shouldValidate(i));await this.runCancelable(s,ce.Validated,r,i=>this.validate(i,r));for(const i of e){const a=this.buildState.get(i.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,n){for(const r of e){const s=r.uri.toString(),i=this.buildState.get(s);(!i||i.completed)&&this.buildState.set(s,{completed:!1,options:n,result:i==null?void 0:i.result})}}async runCancelable(e,n,r,s){const i=e.filter(a=>a.state<n);for(const a of i)await ut(r),await s(a),a.state=n;await this.notifyBuildPhase(i,n,r),this.currentState=n}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),os.create(()=>{this.buildPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let s;if(n&&"path"in n?s=n:r=n,r??(r=be.None),s){const i=this.langiumDocuments.getDocument(s);if(i&&i.state>e)return Promise.resolve(s)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(is):new Promise((i,a)=>{const l=this.onBuildPhase(e,()=>{if(l.dispose(),c.dispose(),s){const u=this.langiumDocuments.getDocument(s);i(u==null?void 0:u.uri)}else i(void 0)}),c=r.onCancellationRequested(()=>{l.dispose(),c.dispose(),a(is)})})}async notifyBuildPhase(e,n,r){if(e.length===0)return;const s=this.buildPhaseListeners.get(n);for(const i of s)await ut(r),await i(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,n){var r,s;const i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,l=typeof a=="object"?a:void 0,c=await i.validateDocument(e,l,n);e.diagnostics?e.diagnostics.push(...c):e.diagnostics=c;const u=this.buildState.get(e.uri.toString());if(u){(r=u.result)!==null&&r!==void 0||(u.result={});const d=(s=l==null?void 0:l.categories)!==null&&s!==void 0?s:as.all;u.result.validationChecks?u.result.validationChecks.push(...d):u.result.validationChecks=[...d]}}getBuildOptions(e){var n,r;return(r=(n=this.buildState.get(e.uri.toString()))===null||n===void 0?void 0:n.options)!==null&&r!==void 0?r:{}}}class Zv{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Fv,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=Et(e).uri,s=[];return this.referenceIndex.forEach(i=>{i.forEach(a=>{Ht.equals(a.targetUri,r)&&a.targetPath===n&&s.push(a)})}),Se(s)}allElements(e,n){let r=Se(this.symbolIndex.keys());return n&&(r=r.filter(s=>!n||n.has(s))),r.map(s=>this.getFileDescriptions(s,e)).flat()}getFileDescriptions(e,n){var r;return n?this.symbolByTypeIndex.get(e,n,()=>{var i;return((i=this.symbolIndex.get(e))!==null&&i!==void 0?i:[]).filter(l=>this.astReflection.isSubtype(l.type,n))}):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}async updateContent(e,n=be.None){const s=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,n),i=e.uri.toString();this.symbolIndex.set(i,s),this.symbolByTypeIndex.clear(i)}async updateReferences(e,n=be.None){const s=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,n);this.referenceIndex.set(e.uri.toString(),s)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return r?r.some(s=>!s.local&&n.has(s.targetUri.toString())):!1}}class eO{constructor(e){this.initialBuildOptions={},this._ready=new $a,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var n;this.folders=(n=e.workspaceFolders)!==null&&n!==void 0?n:void 0}initialized(e){return this.mutex.write(n=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],n)})}async initializeWorkspace(e,n=be.None){const r=await this.performStartup(e);await ut(n),await this.documentBuilder.build(r,this.initialBuildOptions,n)}async performStartup(e){const n=this.serviceRegistry.all.flatMap(i=>i.LanguageMetaData.fileExtensions),r=[],s=i=>{r.push(i),this.langiumDocuments.hasDocument(i.uri)||this.langiumDocuments.addDocument(i)};return await this.loadAdditionalDocuments(e,s),await Promise.all(e.map(i=>[i,this.getRootFolder(i)]).map(async i=>this.traverseFolder(...i,n,s))),this._ready.resolve(),r}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return Sn.parse(e.uri)}async traverseFolder(e,n,r,s){const i=await this.fileSystemProvider.readDirectory(n);await Promise.all(i.map(async a=>{if(this.includeEntry(e,a,r)){if(a.isDirectory)await this.traverseFolder(e,a.uri,r,s);else if(a.isFile){const l=await this.langiumDocuments.getOrCreateDocument(a.uri);s(l)}}}))}includeEntry(e,n,r){const s=Ht.basename(n.uri);if(s.startsWith("."))return!1;if(n.isDirectory)return s!=="node_modules"&&s!=="out";if(n.isFile){const i=Ht.extname(n.uri);return r.includes(i)}return!1}}class tO{constructor(e){const n=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=Cc(n)?Object.values(n):n;this.chevrotainLexer=new je(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var n;const r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:(n=r.groups.hidden)!==null&&n!==void 0?n:[]}}toTokenTypeDictionary(e){if(Cc(e))return e;const n=lf(e)?Object.values(e.modes).flat():e,r={};return n.forEach(s=>r[s.name]=s),r}}function nO(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function lf(t){return t&&"modes"in t&&"defaultMode"in t}function Cc(t){return!nO(t)&&!lf(t)}function rO(t,e,n){let r,s;typeof t=="string"?(s=e,r=n):(s=t.range.start,r=e),s||(s=ee.create(0,0));const i=cf(t),a=Ya(r),l=aO({lines:i,position:s,options:a});return dO({index:0,tokens:l,position:s})}function sO(t,e){const n=Ya(e),r=cf(t);if(r.length===0)return!1;const s=r[0],i=r[r.length-1],a=n.start,l=n.end;return!!(a!=null&&a.exec(s))&&!!(l!=null&&l.exec(i))}function cf(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(xb)}const yc=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,iO=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function aO(t){var e,n,r;const s=[];let i=t.position.line,a=t.position.character;for(let l=0;l<t.lines.length;l++){const c=l===0,u=l===t.lines.length-1;let d=t.lines[l],f=0;if(c&&t.options.start){const E=(e=t.options.start)===null||e===void 0?void 0:e.exec(d);E&&(f=E.index+E[0].length)}else{const E=(n=t.options.line)===null||n===void 0?void 0:n.exec(d);E&&(f=E.index+E[0].length)}if(u){const E=(r=t.options.end)===null||r===void 0?void 0:r.exec(d);E&&(d=d.substring(0,E.index))}if(d=d.substring(0,uO(d)),Xi(d,f)>=d.length){if(s.length>0){const E=ee.create(i,a);s.push({type:"break",content:"",range:J.create(E,E)})}}else{yc.lastIndex=f;const E=yc.exec(d);if(E){const A=E[0],b=E[1],y=ee.create(i,a+f),R=ee.create(i,a+f+A.length);s.push({type:"tag",content:b,range:J.create(y,R)}),f+=A.length,f=Xi(d,f)}if(f<d.length){const A=d.substring(f),b=Array.from(A.matchAll(iO));s.push(...oO(b,A,i,a+f))}}i++,a=0}return s.length>0&&s[s.length-1].type==="break"?s.slice(0,-1):s}function oO(t,e,n,r){const s=[];if(t.length===0){const i=ee.create(n,r),a=ee.create(n,r+e.length);s.push({type:"text",content:e,range:J.create(i,a)})}else{let i=0;for(const l of t){const c=l.index,u=e.substring(i,c);u.length>0&&s.push({type:"text",content:e.substring(i,c),range:J.create(ee.create(n,i+r),ee.create(n,c+r))});let d=u.length+1;const f=l[1];if(s.push({type:"inline-tag",content:f,range:J.create(ee.create(n,i+d+r),ee.create(n,i+d+f.length+r))}),d+=f.length,l.length===4){d+=l[2].length;const p=l[3];s.push({type:"text",content:p,range:J.create(ee.create(n,i+d+r),ee.create(n,i+d+p.length+r))})}else s.push({type:"text",content:"",range:J.create(ee.create(n,i+d+r),ee.create(n,i+d+r))});i=c+l[0].length}const a=e.substring(i);a.length>0&&s.push({type:"text",content:a,range:J.create(ee.create(n,i+r),ee.create(n,i+r+a.length))})}return s}const lO=/\S/,cO=/\s*$/;function Xi(t,e){const n=t.substring(e).match(lO);return n?e+n.index:t.length}function uO(t){const e=t.match(cO);if(e&&typeof e.index=="number")return e.index}function dO(t){var e,n,r,s;const i=ee.create(t.position.line,t.position.character);if(t.tokens.length===0)return new Lc([],J.create(i,i));const a=[];for(;t.index<t.tokens.length;){const u=hO(t,a[a.length-1]);u&&a.push(u)}const l=(n=(e=a[0])===null||e===void 0?void 0:e.range.start)!==null&&n!==void 0?n:i,c=(s=(r=a[a.length-1])===null||r===void 0?void 0:r.range.end)!==null&&s!==void 0?s:i;return new Lc(a,J.create(l,c))}function hO(t,e){const n=t.tokens[t.index];if(n.type==="tag")return df(t,!1);if(n.type==="text"||n.type==="inline-tag")return uf(t);fO(n,e),t.index++}function fO(t,e){if(e){const n=new ff("",t.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}function uf(t){let e=t.tokens[t.index];const n=e;let r=e;const s=[];for(;e&&e.type!=="break"&&e.type!=="tag";)s.push(mO(t)),r=e,e=t.tokens[t.index];return new Qi(s,J.create(n.range.start,r.range.end))}function mO(t){return t.tokens[t.index].type==="inline-tag"?df(t,!0):hf(t)}function df(t,e){const n=t.tokens[t.index++],r=n.content.substring(1),s=t.tokens[t.index];if((s==null?void 0:s.type)==="text")if(e){const i=hf(t);return new si(r,new Qi([i],i.range),e,J.create(n.range.start,i.range.end))}else{const i=uf(t);return new si(r,i,e,J.create(n.range.start,i.range.end))}else{const i=n.range;return new si(r,new Qi([],i),e,i)}}function hf(t){const e=t.tokens[t.index++];return new ff(e.content,e.range)}function Ya(t){if(!t)return Ya({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=t;return{start:ri(e,!0),end:ri(n,!1),line:ri(r,!0)}}function ri(t,e){if(typeof t=="string"||typeof t=="object"){const n=typeof t=="string"?Os(t):t.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}else return t}class Lc{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(e.length===0)e=n.toString();else{const r=n.toString();e+=kc(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(n.length===0)n=r.toMarkdown(e);else{const s=r.toMarkdown(e);n+=kc(n)+s}return n.trim()}}class si{constructor(e,n,r,s){this.name=e,this.content=n,this.inline=r,this.range=s}toString(){let e=`@${this.name}`;const n=this.content.toString();return this.content.inlines.length===1?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}
${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n,r;return(r=(n=e==null?void 0:e.renderTag)===null||n===void 0?void 0:n.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const i=pO(this.name,n,e??{});if(typeof i=="string")return i}let r="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?r="*":(e==null?void 0:e.tag)==="bold"?r="**":(e==null?void 0:e.tag)==="bold-italic"&&(r="***");let s=`${r}@${this.name}${r}`;return this.content.inlines.length===1?s=`${s} â ${n}`:this.content.inlines.length>1&&(s=`${s}
${n}`),this.inline?`{${s}}`:s}}function pO(t,e,n){var r,s;if(t==="linkplain"||t==="linkcode"||t==="link"){const i=e.indexOf(" ");let a=e;if(i>0){const c=Xi(e,i);a=e.substring(c),e=e.substring(0,i)}return(t==="linkcode"||t==="link"&&n.link==="code")&&(a=`\`${a}\``),(s=(r=n.renderLink)===null||r===void 0?void 0:r.call(n,e,a))!==null&&s!==void 0?s:_O(e,a)}}function _O(t,e){try{return Sn.parse(t,!0),`[${e}](${t})`}catch{return t}}class Qi{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],s=this.inlines[n+1];e+=r.toString(),s&&s.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const s=this.inlines[r],i=this.inlines[r+1];n+=s.toMarkdown(e),i&&i.range.start.line>s.range.start.line&&(n+=`
`)}return n}}class ff{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function kc(t){return t.endsWith(`
`)?`
`:`

`}class EO{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&sO(n))return rO(n).toMarkdown({renderLink:(s,i)=>this.documentationLinkRenderer(e,s,i),renderTag:s=>this.documentationTagRenderer(e,s)})}documentationLinkRenderer(e,n,r){var s;const i=(s=this.findNameInPrecomputedScopes(e,n))!==null&&s!==void 0?s:this.findNameInGlobalScope(e,n);if(i&&i.nameSegment){const a=i.nameSegment.range.start.line+1,l=i.nameSegment.range.start.character+1,c=i.documentUri.with({fragment:`L${a},${l}`});return`[${r}](${c.toString()})`}else return}documentationTagRenderer(e,n){}findNameInPrecomputedScopes(e,n){const s=Et(e).precomputedScopes;if(!s)return;let i=e;do{const l=s.get(i).find(c=>c.name===n);if(l)return l;i=i.$container}while(i)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(s=>s.name===n)}}class gO{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return $v(e)?e.$comment:(n=tb(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||n===void 0?void 0:n.text}}class TO{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}}class AO{constructor(){this.previousTokenSource=new Wi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=new Wi;return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r){const s=new $a,i={action:n,deferred:s,cancellationToken:r??be.None};return e.push(i),this.performNextOperation(),s.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:n,deferred:r,cancellationToken:s})=>{try{const i=await Promise.resolve().then(()=>n(s));r.resolve(i)}catch(i){Ha(i)?r.resolve(void 0):r.reject(i)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class NO{constructor(e){this.grammarElementIdMap=new Rc,this.tokenTypeIdMap=new Rc,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(n=>Object.assign({},n)),parserErrors:e.parserErrors.map(n=>Object.assign({},n)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){const n=new Map,r=new Map;for(const s of dn(e))n.set(s,{});if(e.$cstNode)for(const s of pi(e.$cstNode))r.set(s,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[s,i]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(i)){const a=[];r[s]=a;for(const l of i)Le(l)?a.push(this.dehydrateAstNode(l,n)):_t(l)?a.push(this.dehydrateReference(l,n)):a.push(l)}else Le(i)?r[s]=this.dehydrateAstNode(i,n):_t(i)?r[s]=this.dehydrateReference(i,n):i!==void 0&&(r[s]=i);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return cd(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),Tn(e)?r.content=e.content.map(s=>this.dehydrateCstNode(s,n)):ld(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const i of dn(e))n.set(i,{});let s;if(e.$cstNode)for(const i of pi(e.$cstNode)){let a;"fullText"in i?(a=new Vh(i.fullText),s=a):"content"in i?a=new Fa:"tokenType"in i&&(a=this.hydrateCstLeafNode(i)),a&&(r.set(i,a),a.root=s)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[s,i]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(i)){const a=[];r[s]=a;for(const l of i)Le(l)?a.push(this.setParent(this.hydrateAstNode(l,n),r)):_t(l)?a.push(this.hydrateReference(l,r,s,n)):a.push(l)}else Le(i)?r[s]=this.setParent(this.hydrateAstNode(i,n),r):_t(i)?r[s]=this.hydrateReference(i,r,s,n):i!==void 0&&(r[s]=i);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,s){return this.linker.buildReference(n,r,s.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const s=n.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(s.grammarSource=this.getGrammarElement(e.grammarSource)),s.astNode=n.astNodes.get(e.astNode),Tn(s))for(const i of e.content){const a=this.hydrateCstNode(i,n,r++);s.content.push(a)}return s}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType),r=e.offset,s=e.length,i=e.startLine,a=e.startColumn,l=e.endLine,c=e.endColumn,u=e.hidden;return new Hi(r,s,{start:{line:i,character:a},end:{line:l,character:c}},n,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const n=this.grammarElementIdMap.getKey(e);if(n)return n;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(const n of dn(this.grammar))sb(n)&&this.grammarElementIdMap.set(n,e++)}}function bO(t){return{documentation:{CommentProvider:e=>new gO(e),DocumentationProvider:e=>new EO(e)},parser:{AsyncParser:e=>new TO(e),GrammarConfig:e=>sI(e),LangiumParser:e=>hv(e),CompletionParser:e=>dv(e),ValueConverter:()=>new pv,TokenBuilder:()=>new mv,Lexer:e=>new tO(e),ParserErrorMessageProvider:()=>new Xh},workspace:{AstNodeLocator:()=>new Qv,AstNodeDescriptionProvider:e=>new zv(e),ReferenceDescriptionProvider:e=>new Xv(e)},references:{Linker:e=>new Mv(e),NameProvider:()=>new Dv,ScopeProvider:e=>new Hv(e),ScopeComputation:e=>new xv(e),References:e=>new wv(e)},serializer:{Hydrator:e=>new NO(e),JsonSerializer:e=>new Gv(e)},validation:{DocumentValidator:e=>new Vv(e),ValidationRegistry:e=>new Wv(e)},shared:()=>t.shared}}function IO(t){return{ServiceRegistry:()=>new Yv,workspace:{LangiumDocuments:e=>new kv(e),LangiumDocumentFactory:e=>new Lv(e),DocumentBuilder:e=>new Jv(e),IndexManager:e=>new Zv(e),WorkspaceManager:e=>new eO(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new AO,ConfigurationProvider:e=>new qv(e)}}}var Mc;(function(t){t.merge=(e,n)=>ls(ls({},e),n)})(Mc||(Mc={}));function Pc(t,e,n,r,s,i,a,l,c){const u=[t,e,n,r,s,i,a,l,c].reduce(ls,{});return mf(u)}const Dc=Symbol("isProxy");function mf(t,e){const n=new Proxy({},{deleteProperty:()=>!1,get:(r,s)=>xc(r,s,t,e||n),getOwnPropertyDescriptor:(r,s)=>(xc(r,s,t,e||n),Object.getOwnPropertyDescriptor(r,s)),has:(r,s)=>s in t,ownKeys:()=>[...Reflect.ownKeys(t),Dc]});return n[Dc]=!0,n}const wc=Symbol();function xc(t,e,n,r){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===wc)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in n){const s=n[e];t[e]=wc;try{t[e]=typeof s=="function"?s(r):mf(s,r)}catch(i){throw t[e]=i instanceof Error?i:void 0,i}return t[e]}else return}function ls(t,e){if(e){for(const[n,r]of Object.entries(e))if(r!==void 0){const s=t[n];s!==null&&r!==null&&typeof s=="object"&&typeof r=="object"?t[n]=ls(s,r):t[n]=r}}return t}class RO{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const SO={fileSystemProvider:()=>new RO},vO={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},OO={AstReflection:()=>new Yd};function CO(){const t=Pc(IO(SO),OO),e=Pc(bO({shared:t}),vO);return t.ServiceRegistry.register(e),e}function JO(t){var e;const n=CO(),r=n.serializer.JsonSerializer.deserialize(t);return n.shared.workspace.LangiumDocumentFactory.fromModel(r,Sn.parse(`memory://${(e=r.name)!==null&&e!==void 0?e:"grammar"}.langium`)),r}export{Q as A,gn as B,QO as C,nt as D,KO as E,WO as F,En as G,FO as H,UO as I,$O as J,jO as K,HO as L,_a as M,xO as N,na as O,zN as P,pv as Q,mv as R,JO as S,Pc as T,SO as U,IO as V,bO as W,Rf as a,If as b,wO as c,Oe as d,kO as e,cg as f,qe as g,Y as h,Tt as i,Ct as j,Xe as k,re as l,j as m,BO as n,Ke as o,DO as p,VO as q,De as r,PO as s,XO as t,zO as u,Ae as v,vN as w,W as x,GO as y,YO as z};
